(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{181:function(e,t,a){},351:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CircleProcessBar=t.PlayModel=t.Load=t.AnimatePauseIcon=t.AnimatePlayIcon=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=a(54),l=_(a(5)),o=_(a(4)),i=_(a(546)),s=_(a(547)),u=_(a(610)),c=_(a(611)),d=a(612),m=_(a(613)),f=_(a(618)),p=_(a(619)),y=_(a(620)),h=_(a(621)),g=_(a(622)),b=_(a(623)),v=_(a(624)),E=_(a(625)),P=_(a(626)),k=_(a(627)),w=_(a(628)),O=_(a(629)),S=_(a(630)),C=_(a(631)),A=_(a(632)),j=_(a(633)),N=_(a(634)),L=_(a(635)),I=_(a(636)),M=_(a(637)),T=_(a(638)),x=_(a(639));function _(e){return e&&e.__esModule?e:{default:e}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(s){r=!0,l=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(t){$(e,t,a[t])}))}return e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function U(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function V(e){return(V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}a(640),a(641);var q=(0,i.default)(),z=function(){return n.default.createElement(b.default,{className:"react-jinke-music-player-play-icon"})};t.AnimatePlayIcon=z;var F=function(){return n.default.createElement(v.default,{className:"react-jinke-music-player-pause-icon"})};t.AnimatePauseIcon=F;var W=function(){return n.default.createElement("span",{className:"loading group",key:"loading"},n.default.createElement(S.default,null))};t.Load=W;var K=function(e){var t=e.visible,a=e.value;return n.default.createElement("div",{className:(0,o.default)("play-mode-title",{"play-mode-title-visible":t}),key:"play-mode-title"},a)};t.PlayModel=K;var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.progress,a=void 0===t?0:t,r=e.r,l=void 0===r?40:r,o=a.toFixed(2),i=2*Math.PI*l,s="".concat(~~(i*o)," ").concat(~~(i*(1-o)));return n.default.createElement("svg",{className:"audio-circle-process-bar"},n.default.createElement("circle",{cx:l,cy:l,r:l-1,fill:"none",className:"stroke",strokeDasharray:s}),n.default.createElement("circle",{cx:l,cy:l,r:l-1,fill:"none",className:"bg",strokeDasharray:"0 1000"}))};t.CircleProcessBar=J;var G={min:0,step:.01,trackStyle:{backgroundColor:"#31c27c"},handleStyle:{backgroundColor:"#31c27c",border:"2px solid #fff"}},X=function(e){function t(e){var a,r,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,l=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),a=!l||"object"!==V(l)&&"function"!==typeof l?Y(r):l,Object.defineProperty(Y(a),"initPlayId",{configurable:!0,enumerable:!0,writable:!0,value:""}),Object.defineProperty(Y(a),"audioListRemoveAnimateTime",{configurable:!0,enumerable:!0,writable:!0,value:350}),Object.defineProperty(Y(a),"NETWORK_STATE",{configurable:!0,enumerable:!0,writable:!0,value:{NETWORK_EMPTY:0,NETWORK_IDLE:1,NETWORK_LOADING:2,NETWORK_NO_SOURCE:3}}),Object.defineProperty(Y(a),"READY_SUCCESS_STATE",{configurable:!0,enumerable:!0,writable:!0,value:4}),Object.defineProperty(Y(a),"state",{configurable:!0,enumerable:!0,writable:!0,value:{audioLists:[],playId:a.initPlayId,name:"",cover:"",singer:"",musicSrc:"",lyric:"",currentLyric:"",isMobile:q,toggle:!1,pause:!0,playing:!1,duration:0,currentTime:0,isLoop:!1,isMute:!1,soundValue:100,isDrag:!1,currentX:0,currentY:0,moveX:0,moveY:0,isMove:!1,loading:!1,audioListsPanelVisible:!1,playModelNameVisible:!1,theme:a.darkThemeName,extendsContent:[],playMode:"",currentAudioVolume:0,initAnimate:!1,isInitAutoplay:!1,isInitRemember:!1,loadProgress:0,removeId:-1,isNeedMobileHack:q,audioLyricVisible:!1}}),Object.defineProperty(Y(a),"toggleAudioLyric",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState({audioLyricVisible:!a.state.audioLyricVisible})}}),Object.defineProperty(Y(a),"togglePlayMode",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a._PLAY_MODE_.findIndex((function(e){return e.key===a.state.playMode})),t=e===a._PLAY_MODE_LENGTH_-1?a._PLAY_MODE_[0].key:a._PLAY_MODE_[++e].key;a.setState({playMode:t,playModelNameVisible:!0,playModeTipVisible:!0}),a.props.onPlayModeChange&&a.props.onPlayModeChange(a.PLAY_MODE[t]),clearTimeout(a.playModelTimer),a.playModelTimer=setTimeout((function(){a.setState({playModelNameVisible:!1,playModeTipVisible:!1})}),a.props.playModeShowTime)}}),Object.defineProperty(Y(a),"renderPlayModeIcon",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t="",r="react-jinke-music-player-mode-icon";switch(e){case a.PLAY_MODE.order.key:t=n.default.createElement(N.default,{className:r});break;case a.PLAY_MODE.orderLoop.key:t=n.default.createElement(A.default,{className:r});break;case a.PLAY_MODE.singleLoop.key:t=n.default.createElement(C.default,{className:r});break;case a.PLAY_MODE.shufflePlay.key:t=n.default.createElement(j.default,{className:r});break;default:t=n.default.createElement(N.default,{className:r})}return t}}),Object.defineProperty(Y(a),"audioListsPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.state,r=n.playId,l=n.pause,o=n.playing,i=n.audioLists;if(Array.isArray(i)&&0===i.length)return console.warn("Your playlist has no songs. and cannot play !");if(e===r&&!t)return a.setState({pause:!l,playing:!o}),l?a.audio.play():a._pauseAudio();var s=i.find((function(t){return t.id===e})),u=s.name,c=s.cover,d=s.musicSrc,m=s.singer,f=s.lyric,p=void 0===f?"":f,y=function(t){a.setState({name:u,cover:c,musicSrc:t,singer:m,playId:e,lyric:p,currentTime:0,duration:0,playing:!1,loading:!0,loadProgress:0},(function(){a.initLyricParser(),a.audio.load()})),a.props.onAudioPlayTrackChange&&a.props.onAudioPlayTrackChange(e,i,a.getBaseAudioInfo())};switch(V(d)){case"function":d().then((function(e){y(e)}),a.onAudioLoadError);break;default:y(d)}}}),Object.defineProperty(Y(a),"resetAudioStatus",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.audio.pause(),a.initPlayInfo([]),a.setState({currentTime:0,duration:0,loading:!1,playing:!1,pause:!0,currentLyric:""})}}),Object.defineProperty(Y(a),"deleteAudioLists",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return function(t){t.stopPropagation();var n=a.state,r=n.audioLists,l=n.playId;if(!(r.length<1)){a.lyric&&a.lyric.stop();var o=U(r).filter((function(t){return t.id!==e}));if(!e)return a.resetAudioStatus();a.setState({removeId:e}),setTimeout((function(){a.setState({audioLists:o,removeId:-1},(function(){if(!o.length)return a.resetAudioStatus();e===l&&a.handlePlay(a.PLAY_MODE.orderLoop.key)}))}),a.audioListRemoveAnimateTime),a.props.onAudioListsChange&&a.props.onAudioListsChange(l,o,a.getBaseAudioInfo())}}}}),Object.defineProperty(Y(a),"openAudioListsPanel",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState((function(e){var t=e.audioListsPanelVisible;e.initAnimate;return{initAnimate:!0,audioListsPanelVisible:!t}})),a.props.onAudioListsPanelChange&&a.props.onAudioListsPanelChange(!a.state.audioListsPanelVisible)}}),Object.defineProperty(Y(a),"closeAudioListsPanel",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),a.setState({audioListsPanelVisible:!1}),a.props.onAudioListsPanelChange&&a.props.onAudioListsPanelChange(!1)}}),Object.defineProperty(Y(a),"themeChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e?a.lightThemeName:a.darkThemeName;a.setState({theme:t}),a.props.onThemeChange&&a.props.onThemeChange(t)}}),Object.defineProperty(Y(a),"onAudioDownload",{configurable:!0,enumerable:!0,writable:!0,value:function(){if(a.state.musicSrc){var e=a.getBaseAudioInfo(),t=a.props.onBeforeAudioDownload(e),n={};t&&t.then?t.then((function(e){var t=e.src,a=e.filename,r=e.mimeType;n=e,(0,c.default)(t,a,r)})):(0,c.default)(a.state.musicSrc),a.props.onAudioDownload&&a.props.onAudioDownload(e,n)}}}),Object.defineProperty(Y(a),"controllerMouseMove",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=t.deltaX,r=t.deltaY,l=Math.abs(n)>=a.openPanelPeriphery||Math.abs(r)>=a.openPanelPeriphery;a.setState({isMove:l})}}),Object.defineProperty(Y(a),"controllerMouseUp",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=t.x,r=t.y;return a.state.isMove||(a.state.isNeedMobileHack&&(a.loadAndPlayAudio(),a.setState({isNeedMobileHack:!1})),a.openPanel()),a.setState({moveX:n,moveY:r}),!1}}),Object.defineProperty(Y(a),"controllerMouseOut",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e.preventDefault(),a.isDrag=!1}}),Object.defineProperty(Y(a),"onHandleProgress",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a.audio.currentTime=e}}),Object.defineProperty(Y(a),"onSound",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setAudioVolume(a.state.currentAudioVolume)}}),Object.defineProperty(Y(a),"setAudioVolume",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a.audio.volume=e,a.setState({currentAudioVolume:e,soundValue:e})}}),Object.defineProperty(Y(a),"stopAll",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e.stopPropagation(),e.preventDefault()}}),Object.defineProperty(Y(a),"getBoundingClientRect",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}}}),Object.defineProperty(Y(a),"audioLoop",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState((function(e){return{isLoop:!e.isLoop}}))}}),Object.defineProperty(Y(a),"onAudioReload",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.handlePlay(a.PLAY_MODE.singleLoop.key),a.props.onAudioReload&&a.props.onAudioReload(a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"openPanel",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.props.toggleMode&&(a.setState({toggle:!0}),a.props.onModeChange&&a.props.onModeChange(a.toggleModeName.full))}}),Object.defineProperty(Y(a),"onHidePanel",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a.setState({toggle:!1,audioListsPanelVisible:!1}),a.props.onModeChange&&a.props.onModeChange(a.toggleModeName.mini)}}),Object.defineProperty(Y(a),"onPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.state.audioLists.length>=1&&(a.lyric.togglePlay(),a.state.playing?a._pauseAudio():(a.loadAndPlayAudio(),a.props.onAudioPlay&&a.props.onAudioPlay(a.getBaseAudioInfo())))}}),Object.defineProperty(Y(a),"canPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setAudioLength(),a.loadAndPlayAudio(),a.setState({loading:!1,playing:a.props.autoPlay})}}),Object.defineProperty(Y(a),"_pauseAudio",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.audio.pause(),a.setState({playing:!1,pause:!0},(function(){a.lyric&&a.lyric.stop()}))}}),Object.defineProperty(Y(a),"onPauseAudio",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.lyric&&a.lyric.stop(),a.props.onAudioPause&&a.props.onAudioPause(a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"loadAndPlayAudio",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.autoPlay,n=e.remember,r=a.state,l=r.isInitAutoplay,o=r.isInitRemember,i=r.loadProgress,s=a.audio.networkState;if(a.setState({loading:!0}),i<100&&a.setState({loadProgress:i+1}),s!==a.NETWORK_STATE.NETWORK_NO_SOURCE){var u=a.getLastPlayStatus().pause,c=n&&!o&&u,d=l||!0===t;a.setState({playing:n?!c:d,loading:!1,pause:n?c:!d,loadProgress:100},(function(){(n?!c:d)&&a.audio.play(),a.setState({isInitAutoplay:!0,isInitRemember:!0})}))}else a.onAudioLoadError()}}),Object.defineProperty(Y(a),"setAudioLength",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState({duration:a.audio.duration})}}),Object.defineProperty(Y(a),"onAudioLoadError",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a.state,n=t.playMode,r=t.audioLists,l=t.playId,o=t.musicSrc;if(a.lyric.stop(),a.props.loadAudioErrorPlayNext&&l<r.length-1&&a.handlePlay(n),o){var i=a.getBaseAudioInfo();a.props.onAudioLoadError&&a.props.onAudioLoadError(B({},e,{audioInfo:i,errMsg:a.audio.error||null}))}}}),Object.defineProperty(Y(a),"handlePlay",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=a.state,l=r.playId,o=r.audioLists,i=o.length,s=o.findIndex((function(e){return e.id===l}));switch(e){case a.PLAY_MODE.order.key:if(n.default.createElement(N.default,null),s===i-1)return a._pauseAudio();a.audioListsPlay(t?o[s+1].id:o[s-1].id);break;case a.PLAY_MODE.orderLoop.key:if(n.default.createElement(A.default,null),t){if(s===i-1)return a.audioListsPlay(o[0].id);a.audioListsPlay(o[s+1].id)}else{if(0===s)return a.audioListsPlay(o[i-1].id);a.audioListsPlay(o[s-1].id)}break;case a.PLAY_MODE.singleLoop.key:n.default.createElement(C.default,null),a.audio.currentTime=0,a.audioListsPlay(l,!0);break;case a.PLAY_MODE.shufflePlay.key:n.default.createElement(j.default,null);var u=(0,d.createRandomNum)(0,i-1),c=(o[u]||{}).id;a.audioListsPlay(c,!0);break;default:n.default.createElement(N.default,null)}}}),Object.defineProperty(Y(a),"audioEnd",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.props.onAudioEnded&&a.props.onAudioEnded(a.getBaseAudioInfo()),a.handlePlay(a.state.playMode)}}),Object.defineProperty(Y(a),"audioPrevAndNextBasePlayHandle",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.state.playMode,n="";switch(t){case a.PLAY_MODE.shufflePlay.key:n=t;break;default:n=a.PLAY_MODE.orderLoop.key}a.handlePlay(n,e)}}),Object.defineProperty(Y(a),"audioPrevPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.audioPrevAndNextBasePlayHandle(!1)}}),Object.defineProperty(Y(a),"audioNextPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.audioPrevAndNextBasePlayHandle(!0)}}),Object.defineProperty(Y(a),"audioTimeUpdate",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.audio.currentTime;a.setState({currentTime:e}),a.props.remember&&a.saveLastPlayStatus(),a.props.onAudioProgress&&a.props.onAudioProgress(a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"audioSoundChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){a.setAudioVolume(e)}}),Object.defineProperty(Y(a),"onAudioVolumeChange",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState({isMute:a.audio.volume<=0}),a.props.onAudioVolumeChange&&a.props.onAudioVolumeChange(a.audio.volume)}}),Object.defineProperty(Y(a),"onAudioPlay",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState({playing:!0,loading:!1},a.initLyricParser),a.props.onAudioPlay&&a.props.onAudioPlay(a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"onAudioSeeked",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.state.audioLists.length>=1&&(a.state.playing&&(a.loadAndPlayAudio(),setTimeout((function(){a.setState({playing:!0}),a.lyric.seek(a.getLyricPlayTime())}))),a.props.onAudioSeeked&&a.props.onAudioSeeked(a.getBaseAudioInfo()))}}),Object.defineProperty(Y(a),"onMute",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.setState({isMute:!0,soundValue:0,currentAudioVolume:a.audio.volume},(function(){a.audio.volume=0}))}}),Object.defineProperty(Y(a),"onAudioAbort",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=a.state.audioLists,n=a.getBaseAudioInfo(),r=Object.assign({},e,n);a.props.onAudioAbort&&a.props.onAudioAbort(r),t.length&&(a.audio.pause(),a.audio.play(),a.lyric.stop())}}),Object.defineProperty(Y(a),"toggleMode",{configurable:!0,enumerable:!0,writable:!0,value:function(e){e===a.toggleModeName.full&&a.setState({toggle:!0})}}),Object.defineProperty(Y(a),"audioListsDragEnd",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=a.state,r=n.playId,l=U(n.audioLists),o=l.splice(e,1)[0];l.splice(t,0,o);var i=e===r?t:r;a.setState({audioLists:l,playId:i}),a.props.onAudioListsDragEnd&&a.props.onAudioListsDragEnd(e,t),a.props.onAudioListsChange&&a.props.onAudioListsChange(i,l,a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"saveLastPlayStatus",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.state,t=e.currentTime,n=e.playId,r=e.duration,l=e.theme,o=e.soundValue,i=e.playMode,s=e.name,u=e.cover,c=e.singer,d=e.musicSrc,m=e.pause,f=JSON.stringify({currentTime:t,playId:n,duration:r,theme:l,playMode:i,soundValue:o,name:s,cover:u,singer:c,musicSrc:d,pause:m});localStorage.setItem("lastPlayStatus",f)}}),Object.defineProperty(Y(a),"getLastPlayStatus",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.theme,n={currentTime:0,duration:0,playMode:e.defaultPlayMode,name:"",cover:"",singer:"",musicSrc:"",lyric:"",playId:a.getDefaultPlayId(),theme:t,pause:!1};try{return JSON.parse(localStorage.getItem("lastPlayStatus"))||n}catch(r){return n}}}),Object.defineProperty(Y(a),"mockAutoPlayForMobile",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.props.autoPlay&&!a.state.playing&&a.state.pause&&(a.audio.load(),a.audio.pause(),a.audio.play())}}),Object.defineProperty(Y(a),"bindMobileAutoPlayEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(){document.addEventListener("touchstart",(function(){a.mockAutoPlayForMobile()}),{once:!0}),document.addEventListener("WeixinJSBridgeReady",(function(){a.mockAutoPlayForMobile()}))}}),Object.defineProperty(Y(a),"bindSafariAutoPlayEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(){document.addEventListener("click",(function(){a.mockAutoPlayForMobile()}),{once:!0})}}),Object.defineProperty(Y(a),"unBindEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e;(e=a).bindEvents.apply(e,arguments)}}),Object.defineProperty(Y(a),"bindEvents",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.audio,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waiting:a.loadAndPlayAudio,canplay:a.canPlay,error:a.onAudioLoadError,ended:a.audioEnd,seeked:a.onAudioSeeked,pause:a.onPauseAudio,play:a.onAudioPlay,timeupdate:a.audioTimeUpdate,volumechange:a.onAudioVolumeChange,stalled:a.onAudioLoadError,abort:a.onAudioAbort},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=a.props.once;for(var l in t){var o=t[l];n?e.addEventListener(l,o,{once:!(!r||"play"!==l)}):e.removeEventListener(l,o)}}}),Object.defineProperty(Y(a),"getPlayInfo",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return!e.id})),n=e.filter((function(e){return e.id})),r=U(n).concat(U(t.map((function(e){return B({},e,{id:(0,d.uuId)()})})))),l=Math.max(0,Math.min(r.length,a.props.defaultPlayIndex)),o=a.state.playId||r[l].id,i=r.find((function(e){return e.id===o}))||{},s=i.name,u=void 0===s?"":s,c=i.cover,m=void 0===c?"":c,f=i.singer,p=void 0===f?"":f,y=i.musicSrc,h=void 0===y?"":y,g=i.lyric,b=void 0===g?"":g;return{name:u,cover:m,singer:p,musicSrc:h,lyric:b,audioLists:r,playId:o}}}),Object.defineProperty(Y(a),"initPlayInfo",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){var n=a.getPlayInfo(e);switch(V(n.musicSrc)){case"function":n.musicSrc().then((function(e){a.setState(B({},n,{musicSrc:e}),t)}),a.onAudioLoadError);break;default:a.setState(n,t)}}}),Object.defineProperty(Y(a),"listenerIsMobile",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.matches;a.setState({isMobile:!!t})}}),Object.defineProperty(Y(a),"addMobileListener",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.media=window.matchMedia("(max-width: 768px) and (orientation : portrait)"),a.media.addListener(a.listenerIsMobile)}}),Object.defineProperty(Y(a),"setDefaultAudioVolume",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=a.props,t=e.defaultVolume,n=e.remember;a.defaultVolume=Math.max(0,Math.min(t,100))/100;var r=a.getLastPlayStatus().soundValue,l=void 0===r?a.defaultVolume:r;a.setAudioVolume(n?l:a.defaultVolume)}}),Object.defineProperty(Y(a),"getDefaultPlayId",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.audioLists,t=Math.max(0,Math.min(e.length,a.props.defaultPlayIndex));return e[t]&&e[t].id}}),Object.defineProperty(Y(a),"getLyricPlayTime",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=R((0,d.formatTime)(a.audio.currentTime).split(":"),2);return 1e3*e[0]+10*e[1]}}),Object.defineProperty(Y(a),"initLyricParser",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.lyric=void 0,a.lyric=new y.default(a.state.lyric,a.onLyricChange),a.lyric.stop(),a.props.showLyric&&a.state.playing&&(a.lyric.seek(a.getLyricPlayTime()),a.lyric.play())}}),Object.defineProperty(Y(a),"onLyricChange",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=e.lineNum,n=e.txt;a.setState({currentLyric:n}),a.props.onAudioLyricChange&&a.props.onAudioLyricChange(t,n)}}),Object.defineProperty(Y(a),"updateTheme",{configurable:!0,enumerable:!0,writable:!0,value:function(e){!e||e!==a.lightThemeName&&e!==a.darkThemeName||(a.setState({theme:e}),a.props.onThemeChange&&a.props.onThemeChange(e))}}),Object.defineProperty(Y(a),"updateMode",{configurable:!0,enumerable:!0,writable:!0,value:function(e){!e||e===a.props.mode||e!==a.toggleModeName.full&&e!==a.toggleModeName.mini||(a.setState({toggle:e===a.toggleModeName.full}),a.props.onModeChange&&a.props.onModeChange(e))}}),Object.defineProperty(Y(a),"updateAudioLists",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=U(a.state.audioLists).concat(U(e.filter((function(e){return-1===a.state.audioLists.findIndex((function(t){return t.musicSrc===e.musicSrc}))}))));a.initPlayInfo(t),a.bindEvents(a.audio),a.props.onAudioListsChange&&a.props.onAudioListsChange(a.state.playId,this.state.audioLists,a.getBaseAudioInfo())}}),Object.defineProperty(Y(a),"updatePlayIndex",{configurable:!0,enumerable:!0,writable:!0,value:function(e){if(a.state.audioLists.findIndex((function(e){return e.id===a.state.playId}))!==e){var t=Math.max(0,Math.min(a.state.audioLists.length,e)),n=a.state.audioLists[t];n&&n.id&&a.audioListsPlay(n.id,!0)}}}),Object.defineProperty(Y(a),"onGetAudioInstance",{configurable:!0,enumerable:!0,writable:!0,value:function(){a.props.getAudioInstance&&a.props.getAudioInstance(a.audio)}}),Object.defineProperty(Y(a),"bindUnhandledRejection",{configurable:!0,enumerable:!0,writable:!0,value:function(){window.addEventListener("unhandledrejection",a.onAudioLoadError)}}),Object.defineProperty(Y(a),"unBindUnhandledRejection",{configurable:!0,enumerable:!0,writable:!0,value:function(){window.removeEventListener("unhandledrejection",a.onAudioLoadError)}}),a.audio=null,a.lightThemeName="light",a.darkThemeName="dark",a.toggleModeName={full:"full",mini:"mini"},a.targetId="music-player-controller",a.openPanelPeriphery=1,a.x=0,a.y=0,a.isDrag=!1;var o=e.playModeText,i=o.order,s=o.orderLoop,u=o.singleLoop,m=o.shufflePlay;return a.PLAY_MODE={order:{key:"order",value:i},orderLoop:{key:"orderLoop",value:s},singleLoop:{key:"singleLoop",value:u},shufflePlay:{key:"shufflePlay",value:m}},a._PLAY_MODE_=Object.values(a.PLAY_MODE),a._PLAY_MODE_LENGTH_=a._PLAY_MODE_.length,a}var a,l,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a=t,(l=[{key:"render",value:function(){var e=this,t=this.props,a=t.className,l=t.controllerTitle,i=t.closeText,c=t.openText,y=t.notContentText,h=t.drag,b=t.style,v=t.showDownload,S=t.showPlay,C=t.showReload,A=t.showPlayMode,j=t.showThemeSwitch,N=t.panelTitle,_=t.checkedText,R=t.unCheckedText,B=t.toggleMode,U=t.showMiniModeCover,V=t.extendsContent,H=t.defaultPlayMode,Y=t.seeked,X=t.showProgressLoadBar,Q=t.bounds,Z=t.defaultPosition,ee=t.showMiniProcessBar,te=t.preload,ae=t.glassBg,ne=t.remove,re=t.lyricClassName,le=t.showLyric,oe=t.emptyLyricPlaceholder,ie=t.getContainer,se=t.autoHiddenCover,ue=this.state,ce=ue.toggle,de=ue.playing,me=ue.duration,fe=ue.currentTime,pe=ue.isMute,ye=ue.soundValue,he=ue.moveX,ge=ue.moveY,be=ue.loading,ve=ue.audioListsPanelVisible,Ee=ue.pause,Pe=ue.theme,ke=ue.name,we=ue.cover,Oe=ue.singer,Se=ue.musicSrc,Ce=ue.playId,Ae=ue.isMobile,je=ue.playMode,Ne=ue.playModeTipVisible,Le=ue.playModelNameVisible,Ie=ue.initAnimate,Me=ue.loadProgress,Te=ue.audioLists,xe=ue.removeId,_e=ue.currentLyric,De=ue.audioLyricVisible,Re=!1===te||"none"===te?{}:!0===te?{preload:"auto"}:{preload:te},Be=Ie?{show:ve,hide:!ve}:{show:ve},$e=this.PLAY_MODE[je||H],Ue=$e.key,Ve=$e.value,He=U&&!se||se&&we?{style:{backgroundImage:"url(".concat(we,")")}}:{},Ye=(0,d.formatTime)(fe),qe=(0,d.formatTime)(me),ze=Y?{onChange:this.onHandleProgress,onAfterChange:this.onAudioSeeked}:{},Fe=n.default.createElement(s.default,D({max:Math.ceil(me),defaultValue:0,value:Math.ceil(fe)},ze,G)),We=v&&n.default.createElement("span",D({className:"group audio-download"},$({},q?"onTouchStart":"onClick",this.onAudioDownload)),n.default.createElement(O.default,null)),Ke=j&&n.default.createElement("span",{className:"group theme-switch"},n.default.createElement(u.default,{className:"theme-switch-container",onChange:this.themeChange,checkedChildren:_,unCheckedChildren:R,checked:Pe===this.lightThemeName})),Je=C&&n.default.createElement("span",D({className:"group reload-btn"},q?{onTouchStart:this.onAudioReload}:{onClick:this.onAudioReload},{key:"reload-btn",title:"Reload"}),n.default.createElement(P.default,null)),Ge=le&&n.default.createElement("span",D({className:(0,o.default)("group lyric-btn",{"lyric-btn-active":De})},q?{onTouchStart:this.toggleAudioLyric}:{onClick:this.toggleAudioLyric},{key:"lyric-btn",title:"toggle lyric"}),n.default.createElement(E.default,null)),Xe=A?n.default.createElement("span",D({className:(0,o.default)("group loop-btn")},q?{onTouchStart:this.togglePlayMode}:{onClick:this.togglePlayMode},{key:"play-mode-btn",title:this.PLAY_MODE[Ue].value}),this.renderPlayModeIcon(Ue)):void 0,Qe=Ae?30:40,Ze=n.default.createElement("div",{className:(0,o.default)("react-jinke-music-player"),key:"react-jinke-music-player",style:Z},n.default.createElement("div",{className:(0,o.default)("music-player"),key:"music-player"},ee?n.default.createElement(J,{progress:fe/me,r:Qe}):void 0,n.default.createElement("div",D({key:"controller",id:this.targetId,className:(0,o.default)("scale","music-player-controller",{"music-player-playing":this.state.playing})},He),be?n.default.createElement(W,null):n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:"controller-title",key:"controller-title"},l),n.default.createElement("div",{key:"setting",className:"music-player-controller-setting"},ce?i:c))))),et=ie()||document.body;return(0,r.createPortal)(n.default.createElement("div",{className:(0,o.default)("react-jinke-music-player-main",{"light-theme":Pe===this.lightThemeName,"dark-theme":Pe===this.darkThemeName},a),style:b},ce&&Ae?n.default.createElement(f.default,{playing:de,loading:be,pause:Ee,name:ke,singer:Oe,cover:we,themeSwitch:Ke,duration:qe,currentTime:Ye,progressBar:Fe,onPlay:this.onPlay,currentPlayModeName:this.PLAY_MODE[Ue].value,playMode:Xe,audioNextPlay:this.audioNextPlay,audioPrevPlay:this.audioPrevPlay,playListsIcon:n.default.createElement(L.default,null),reloadIcon:Je,downloadIcon:We,nextAudioIcon:n.default.createElement(I.default,null),prevAudioIcon:n.default.createElement(M.default,null),playIcon:n.default.createElement(z,null),pauseIcon:n.default.createElement(F,null),closeIcon:n.default.createElement(T.default,null),loadingIcon:n.default.createElement(W,null),playModeTipVisible:Ne,openAudioListsPanel:this.openAudioListsPanel,onClose:this.onHidePanel,extendsContent:V,glassBg:ae,LyricIcon:Ge,autoHiddenCover:se}):void 0,ce?void 0:h?n.default.createElement(p.default,{bounds:Q,position:{x:he,y:ge},onDrag:this.controllerMouseMove,onStop:this.controllerMouseUp,onStart:this.controllerMouseMove},Ze):n.default.createElement(n.Fragment,null,Ze),ce?Ae?void 0:n.default.createElement("div",{key:"panel",className:(0,o.default)("music-player-panel","translate",{"glass-bg":ae})},n.default.createElement("section",{className:"panel-content",key:"panel-content"},(!se||se&&we)&&n.default.createElement("div",{className:(0,o.default)("img-content","img-rotate",{"img-rotate-pause":Ee||!de||!we}),style:{backgroundImage:"url(".concat(we,")")},key:"img-content"}),n.default.createElement("div",{className:"progress-bar-content",key:"progress-bar-content"},n.default.createElement("span",{className:"audio-title"},ke," ",Oe?"- ".concat(Oe):""),n.default.createElement("section",{className:"audio-main"},n.default.createElement("span",{key:"current-time",className:"current-time"},be?"--":Ye),n.default.createElement("div",{className:"progress-bar",key:"progress-bar"},X?n.default.createElement("div",{className:"progress-load-bar",key:"progress-load-bar",style:{width:"".concat(Math.min(Me,100),"%")}}):void 0,Fe),n.default.createElement("span",{key:"duration",className:"duration"},be?"--":qe))),n.default.createElement("div",{className:"player-content",key:"player-content"},be?n.default.createElement(W,null):S?n.default.createElement("span",{className:"group"},n.default.createElement("span",D({className:"group prev-audio",title:"Previous track"},q?{onTouchStart:this.audioPrevPlay}:{onClick:this.audioPrevPlay}),n.default.createElement(M.default,null)),n.default.createElement("span",D({className:"group play-btn",key:"play-btn",ref:function(t){return e.playBtn=t}},q?{onTouchStart:this.onPlay}:{onClick:this.onPlay},{title:de?"Click to pause":"Click to play"}),de?n.default.createElement("span",null,n.default.createElement(F,null)):n.default.createElement("span",null,n.default.createElement(z,null))),n.default.createElement("span",D({className:"group next-audio",title:"Next track"},q?{onTouchStart:this.audioNextPlay}:{onClick:this.audioNextPlay}),n.default.createElement(I.default,null))):void 0,Je,We,Ke,V&&V.length>=1?V.map((function(e){return e})):void 0,n.default.createElement("span",{className:"group play-sounds",key:"play-sound",title:"Volume"},pe?n.default.createElement("span",D({className:"sounds-icon"},q?{onTouchStart:this.onSound}:{onClick:this.onSound}),n.default.createElement(w.default,null)):n.default.createElement("span",D({className:"sounds-icon"},q?{onTouchStart:this.onMute}:{onClick:this.onMute}),n.default.createElement(k.default,null)),n.default.createElement(s.default,D({max:1,value:ye,onChange:this.audioSoundChange,className:"sound-operation"},G))),Xe,Ge,n.default.createElement("span",D({className:"group audio-lists-btn",key:"audio-lists-btn",title:"play lists"},q?{onTouchStart:this.openAudioListsPanel}:{onClick:this.openAudioListsPanel}),n.default.createElement("span",{className:"audio-lists-icon"},n.default.createElement(L.default,null)),n.default.createElement("span",{className:"audio-lists-num"},Te.length)),B?n.default.createElement("span",D({className:"group hide-panel",key:"hide-panel-btn"},q?{onTouchStart:this.onHidePanel}:{onClick:this.onHidePanel}),n.default.createElement(g.default,null)):void 0)),n.default.createElement(K,{visible:Le,value:Ve})):void 0,n.default.createElement(m.default,{playId:Ce,pause:Ee,loading:be?n.default.createElement(W,null):void 0,visible:ve,audioLists:Te,notContentText:y,onPlay:this.audioListsPlay,onCancel:this.closeAudioListsPanel,playIcon:n.default.createElement(z,null),pauseIcon:n.default.createElement(F,null),closeIcon:n.default.createElement(T.default,null),panelTitle:N,isMobile:q,panelToggleAnimate:Be,glassBg:ae,cover:we,remove:ne,deleteIcon:n.default.createElement(x.default,null),onDelete:this.deleteAudioLists,removeId:xe,audioListsDragEnd:this.audioListsDragEnd}),De&&n.default.createElement(p.default,null,n.default.createElement("div",{className:(0,o.default)("music-player-lyric",re)},_e||oe)),n.default.createElement("audio",D({className:"music-player-audio"},Re,{src:Se,ref:function(t){return e.audio=t}}))),et)}},{key:"getBaseAudioInfo",value:function(){var e=this.state,t=e.cover,a=e.name,n=e.musicSrc,r=e.soundValue,l=e.lyric,o=this.audio;return{cover:t,name:a,musicSrc:n,volume:r,currentTime:o.currentTime,duration:o.duration,muted:o.muted,networkState:o.networkState,readyState:o.readyState,played:o.played,paused:o.paused,ended:o.ended,startDate:o.startDate,lyric:l}}},{key:"componentWillReceiveProps",value:function(e){var t=e.audioLists,a=e.playIndex,n=e.theme,r=e.mode;(0,d.arrayEqual)(t)(this.props.audioLists)?this.updatePlayIndex(a):this.updateAudioLists(t),this.updateTheme(n),this.updateMode(r)}},{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.mode,n=t.audioLists,r=t.defaultPlayMode,l=t.remember,o=t.theme,i=t.defaultPlayIndex;if(this.toggleMode(a),n.length>=1){var s=this.getPlayInfo(n),u=l?this.getLastPlayStatus(i):{playMode:r,theme:o};switch(V(s.musicSrc)){case"function":s.musicSrc().then((function(t){e.setState(B({},s,{musicSrc:t},u))}),this.onAudioLoadError);break;default:this.setState(B({},s,u))}}}},{key:"componentWillUnmount",value:function(){this.unBindEvents(this.audio,void 0,!1),this.unBindUnhandledRejection(),this.media.removeListener(this.listenerIsMobile),this.media=void 0}},{key:"componentDidMount",value:function(){this.addMobileListener(),this.setDefaultAudioVolume(),this.bindUnhandledRejection(),this.props.audioLists.length>=1&&(this.bindEvents(this.audio),this.onGetAudioInstance(),this.initLyricParser(),q&&this.bindMobileAutoPlayEvents(),!q&&(0,d.isSafari)()&&this.bindSafariAutoPlayEvents())}}])&&H(a.prototype,l),i&&H(a,i),t}(n.PureComponent);t.default=X,Object.defineProperty(X,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{audioLists:[],theme:"dark",mode:"mini",playModeText:{order:"order",orderLoop:"orderLoop",singleLoop:"singleLoop",shufflePlay:"shufflePlay"},defaultPlayMode:"order",defaultPosition:{left:0,top:0},controllerTitle:n.default.createElement(h.default,null),panelTitle:"PlayList",closeText:"close",openText:"open",notContentText:"no music",checkedText:"",unCheckedText:"",once:!1,drag:!0,toggleMode:!0,showMiniModeCover:!0,showDownload:!0,showPlay:!0,showReload:!0,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,playModeTipVisible:!1,autoPlay:!0,defaultVolume:100,showProgressLoadBar:!0,seeked:!0,playModeShowTime:600,bounds:"body",showMiniProcessBar:!1,loadAudioErrorPlayNext:!0,preload:!1,glassBg:!1,remember:!1,remove:!0,defaultPlayIndex:0,emptyLyricPlaceholder:"NO LYRIC",getContainer:function(){return document.body},autoHiddenCover:!1,onBeforeAudioDownload:function(){}}}),Object.defineProperty(X,"propTypes",{configurable:!0,enumerable:!0,writable:!0,value:{audioLists:l.default.array.isRequired,theme:l.default.oneOf(["dark","light"]),mode:l.default.oneOf(["mini","full"]),defaultPlayMode:l.default.oneOf(["order","orderLoop","singleLoop","shufflePlay"]),drag:l.default.bool,seeked:l.default.bool,autoPlay:l.default.bool,playModeText:l.default.object,panelTitle:l.default.string,closeText:l.default.oneOfType([l.default.string,l.default.object]),openText:l.default.oneOfType([l.default.string,l.default.object]),notContentText:l.default.oneOfType([l.default.string,l.default.object]),controllerTitle:l.default.oneOfType([l.default.string,l.default.object]),defaultPosition:l.default.shape({top:l.default.oneOfType([l.default.number,l.default.string]),left:l.default.oneOfType([l.default.number,l.default.string]),right:l.default.oneOfType([l.default.number,l.default.string]),bottom:l.default.oneOfType([l.default.number,l.default.string])}),onAudioPlay:l.default.func,onAudioPause:l.default.func,onAudioEnded:l.default.func,onAudioAbort:l.default.func,onAudioVolumeChange:l.default.func,onAudioLoadError:l.default.func,onAudioProgress:l.default.func,onAudioSeeked:l.default.func,onAudioDownload:l.default.func,onAudioReload:l.default.func,onThemeChange:l.default.func,onAudioListsChange:l.default.func,onPlayModeChange:l.default.func,onModeChange:l.default.func,onAudioListsPanelChange:l.default.func,onAudioPlayTrackChange:l.default.func,onAudioListsDragEnd:l.default.func,onAudioLyricChange:l.default.func,showDownload:l.default.bool,showPlay:l.default.bool,showReload:l.default.bool,showPlayMode:l.default.bool,showThemeSwitch:l.default.bool,showMiniModeCover:l.default.bool,toggleMode:l.default.bool,once:l.default.bool,extendsContent:l.default.array,checkedText:l.default.oneOfType([l.default.string,l.default.object]),unCheckedText:l.default.oneOfType([l.default.string,l.default.object]),defaultVolume:l.default.number,playModeShowTime:l.default.number,bounds:l.default.oneOfType([l.default.string,l.default.object]),showMiniProcessBar:l.default.bool,loadAudioErrorPlayNext:l.default.bool,preload:l.default.oneOfType([l.default.bool,l.default.oneOf(["auto","metadata","none"])]),glassBg:l.default.bool,remember:l.default.bool,remove:l.default.bool,defaultPlayIndex:l.default.number,playIndex:l.default.number,lyricClassName:l.default.string,emptyLyricPlaceholder:l.default.oneOfType([l.default.string,l.default.object]),showLyric:l.default.bool,getContainer:l.default.func,getAudioInstance:l.default.func,onBeforeAudioDownload:l.default.func,autoHiddenCover:l.default.bool}})},361:function(e,t,a){e.exports=a(650)},366:function(e,t,a){},612:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatTime=function(e){var t=0,a=0,n=parseInt(e);n>60&&(t=parseInt(n/60),n=parseInt(n%60),t>60&&(a=parseInt(t/60),t=parseInt(t%60)));var r=function(e){return e>>0<10?"0".concat(e):e};return a>0?[r(a),r(t),r(n)].join(":"):[r(t),r(n)].join(":")},t.createRandomNum=function(e,t){return parseInt(Math.random()*(t-e+1)+e,10)},t.distinct=function(e){return e.map((function(e){return JSON.stringify(e)})).filter((function(e,t,a){return t===a.indexOf(e)})).map((function(e){return JSON.parse(e)}))},t.isSafari=t.uuId=t.arrayEqual=void 0;t.arrayEqual=function(e){return function(t){return JSON.stringify(e)===JSON.stringify(t)}};var n=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};t.uuId=function(){return"".concat(n()+n(),"-").concat(n(),"-").concat(n(),"-").concat(n(),"-").concat(n()).concat(n()).concat(n())};t.isSafari=function(){return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)}},613:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),r=s(a(4)),l=s(a(614)),o=s(a(615)),i=s(a(616));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.audioLists,a=e.notContentText,s=e.onCancel,u=e.onDelete,c=e.onPlay,d=e.pause,m=e.playId,f=e.loading,p=e.playIcon,y=e.pauseIcon,h=e.closeIcon,g=e.deleteIcon,b=e.panelTitle,v=e.panelToggleAnimate,E=e.glassBg,P=e.remove,k=e.removeId,w=e.audioListsDragEnd;return n.default.createElement("div",{className:(0,r.default)("audio-lists-panel",v,{"glass-bg":E}),key:"audio-list-panel"},n.default.createElement("div",{className:"audio-lists-panel-header"},n.default.createElement("h2",{className:"title"},n.default.createElement("span",{key:"panel-title"},b," / "),n.default.createElement("span",{className:"num",key:"num"},t.length),n.default.createElement("span",{key:"close-btn",className:"close-btn",title:"Close",onClick:s},n.default.createElement(o.default,null)),P?n.default.createElement(n.Fragment,null,n.default.createElement("span",{className:"line",key:"line"}),n.default.createElement("span",{key:"delete-btn",className:"delete-btn",title:"Delete audio lists",onClick:u()},g)):void 0)),n.default.createElement("div",{className:(0,r.default)("audio-lists-panel-content",{"no-content":t.length<1}),key:"audio-lists-panel-content"},t.length>=1?n.default.createElement(i.default,{nodeSelector:"li",handleSelector:".player-name",lineClassName:"audio-lists-panel-drag-line",onDragEnd:w},n.default.createElement("ul",null,t.map((function(e,t){var a=e.name,l=e.singer,o=m===e.id;return n.default.createElement("li",{key:t,title:d?"Click to play":o?"Click to pause":"Click to play",className:(0,r.default)("audio-item",{playing:o},{pause:d},{remove:k===e.id}),onClick:function(){return c(e.id)}},n.default.createElement("span",{className:"group player-status",key:"player-status"},n.default.createElement("span",{className:"player-icons",key:"player-icons-".concat(t)},o&&f?f:o?d?p:y:void 0)),n.default.createElement("span",{className:"group player-name",key:"player-name"},a),n.default.createElement("span",{className:"group player-time",key:"player-time"},l),P?n.default.createElement("span",{className:"group player-delete",key:"player-delete",title:"Click to delete ".concat(a),onClick:u(e.id)},h):void 0)})))):n.default.createElement(n.Fragment,null,n.default.createElement("span",{key:"no-content"},n.default.createElement(l.default,null)),n.default.createElement("span",{className:"no-data",key:"no-data"},a))))};t.default=u},618:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PlayModeTip=void 0;var n,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}(a(0)),l=(n=a(4))&&n.__esModule?n:{default:n};var o="react-jinke-music-player-mobile",i=function(e){var t=e.visible,a=e.title,n=e.text;return r.default.createElement("div",{className:(0,l.default)("".concat(o,"-play-model-tip"),{show:t})},r.default.createElement("span",{className:"title"},a),r.default.createElement("span",{className:"text"},n))};t.PlayModeTip=i;var s=function(e){var t=e.name,a=e.cover,n=e.singer,s=e.playing,u=e.duration,c=e.currentTime,d=e.loading,m=e.loadingIcon,f=e.themeSwitch,p=e.progressBar,y=e.openAudioListsPanel,h=e.audioPrevPlay,g=e.audioNextPlay,b=e.prevAudioIcon,v=e.nextAudioIcon,E=e.playIcon,P=e.pauseIcon,k=e.playMode,w=e.downloadIcon,O=e.reloadIcon,S=e.playListsIcon,C=e.closeIcon,A=e.onClose,j=e.pause,N=e.playModeTipVisible,L=e.currentPlayModeName,I=e.extendsContent,M=e.onPlay,T=e.glassBg,x=e.LyricIcon,_=(e.showFullModeCover,e.autoHiddenCover);return r.default.createElement("div",{className:(0,l.default)(o,{"default-bg":!T,"glass-bg":T})},r.default.createElement(i,{visible:N,title:k,text:L}),r.default.createElement("div",{className:"".concat(o,"-header group")},r.default.createElement("div",{className:"left item"}),r.default.createElement("div",{className:"title",key:"audio-title"},t),r.default.createElement("div",{className:"right item",onClick:A},C)),r.default.createElement("div",{className:"".concat(o,"-singer text-center group")},r.default.createElement("span",{className:"name",key:"singer-name"},n)),r.default.createElement("div",{className:"".concat(o,"-switch text-center group")},f),(!_||_&&a)&&r.default.createElement("div",{className:"".concat(o,"-cover text-center")},r.default.createElement("img",{src:a,alt:"cover",key:"cover",className:(0,l.default)("cover",{"img-rotate-pause":j||!s||!a})})),r.default.createElement("div",{className:"".concat(o,"-progress group")},r.default.createElement("span",{key:"current-time",className:"current-time"},d?"--":c),p,r.default.createElement("span",{key:"duration",className:"duration text-right"},d?"--":u)),r.default.createElement("div",{className:"".concat(o,"-toggle text-center group")},d?m:r.default.createElement(r.Fragment,null,r.default.createElement("span",{className:"group prev-audio",title:"Previous track",key:"prev-audio",onClick:h},b),r.default.createElement("span",{className:"group play-btn",title:s?"Click to pause":"Click to play",key:"play-btn",onClick:M},s?P:E),r.default.createElement("span",{className:"group next-audio",title:"Next track",key:"next-audio",onClick:g},v))),r.default.createElement("div",{className:"".concat(o,"-operation group")},r.default.createElement("ul",{className:"items"},[k,w,O,x].filter(Boolean).map((function(e,t){return r.default.createElement("li",{className:"item",key:t},e)})),I&&I.length>=1&&I.map((function(e,t){return r.default.createElement("li",{className:"item",key:t},e)})),r.default.createElement("li",{className:"item",key:"play-lists-icon",onClick:y},S))))};t.default=s},620:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,l=0,o={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"};function i(){}var s=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lrc=t,this.tags={},this.lines=[],this.handler=a,this.state=l,this.curLine=0,this._init()}var t,a,s;return t=e,(a=[{key:"_init",value:function(){this._initTag(),this._initLines()}},{key:"_initTag",value:function(){for(var e in o){var t=this.lrc.match(new RegExp("\\[".concat(o[e],":([^\\]]*)]"),"i"));this.tags[e]=t&&t[1]||""}}},{key:"_initLines",value:function(){for(var e=this.lrc.split("\n"),t=0;t<e.length;t++){var a=e[t],n=r.exec(a);if(n){var l=a.replace(r,"").trim();l&&this.lines.push({time:60*n[1]*1e3+1e3*n[2]+10*(n[3]||0),txt:l})}}this.lines.sort((function(e,t){return e.time-t.time}))}},{key:"_findCurNum",value:function(e){for(var t=0;t<this.lines.length;t++)if(e<=this.lines[t].time)return t;return this.lines.length-1}},{key:"_callHandler",value:function(e){e<0||this.handler({txt:this.lines[e].txt,lineNum:e})}},{key:"_playRest",value:function(){var e=this,t=this.lines[this.curNum].time-(+new Date-this.startStamp);this.timer=setTimeout((function(){e._callHandler(e.curNum++),e.curNum<e.lines.length&&1===e.state&&e._playRest()}),t)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.lines.length&&(this.state=1,this.curNum=this._findCurNum(e),this.startStamp=+new Date-e,t||this._callHandler(this.curNum-1),this.curNum<this.lines.length&&(clearTimeout(this.timer),this._playRest()))}},{key:"togglePlay",value:function(){var e=+new Date;1===this.state?(this.stop(),this.pauseStamp=e):(this.state=1,this.play((this.pauseStamp||e)-(this.startStamp||e),!0),this.pauseStamp=0)}},{key:"stop",value:function(){this.state=l,clearTimeout(this.timer)}},{key:"seek",value:function(e){this.play(e)}}])&&n(t.prototype,a),s&&n(t,s),e}();t.default=s},642:function(e,t,a){},650:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(54),o=a.n(l),i=(a(366),a(65)),s=a.n(i),u=a(105),c=a(18),d=a(19),m=a(20),f=a(21),p=a(22),y=(a(181),a(320)),h=a(78),g=a(81),b=a(40),v=a(672),E=a(679),P=a(676),k=a(667),w=a(675),O=a(230),S=a(38),C=a(33);function A(){var e=Object(S.a)(["\n    mutation($jwt:String){\n      verifytoken(jwt:$jwt){\n        response\n      }\n    }\n\n"]);return A=function(){return e},e}function j(){var e=Object(S.a)(["\n  query {\n    allPlaylists {\n      playlists {\n        name\n        creator\n        followers\n        song_count\n        songs {\n          track\n          artist\n          song\n          album\n          artwork\n        }\n        follower_list\n      }\n      response\n      status\n    }\n  }\n"]);return j=function(){return e},e}function N(){var e=Object(S.a)(["  \n  query($username:String) {\n    playlistsForUser(username:$username) {\n      playlists {\n        name\n        creator\n        followers\n        song_count\n        songs {\n          track\n          artist\n          song\n          album\n          artwork\n        }\n        follower_list\n      }\n      response\n      status\n    }\n  }\n"]);return N=function(){return e},e}function L(){var e=Object(S.a)(["  \n    mutation($username:String, $playlistName: String){\n      unfollowPlaylist(username:$username, playlistName:$playlistName){\n        response,\n        status\n      }\n    }\n"]);return L=function(){return e},e}function I(){var e=Object(S.a)(["  \n    mutation($username:String, $playlistName: String){\n      followPlaylist(username:$username, playlistName:$playlistName){\n        response,\n        status\n      }\n    }\n"]);return I=function(){return e},e}function M(){var e=Object(S.a)(["  \n    query($username:String,$trackInfo:TrackInfo){\n      deleteTrack(username:$username,trackInfo:$trackInfo){\n        response,\n        status\n      }\n    }\n"]);return M=function(){return e},e}function T(){var e=Object(S.a)(["  \n    mutation($username:String, $track:PlaylistTrack){\n      newTrack(username:$username, track:$track){\n        response,\n        status\n      }\n    }\n"]);return T=function(){return e},e}function x(){var e=Object(S.a)(["  \n    mutation($name:String, $creator:String){\n      newPlaylist(name:$name, creator:$creator){\n        response,\n        status\n      }\n    }\n"]);return x=function(){return e},e}function _(){var e=Object(S.a)(["  \n    mutation($username:String, $currentPass:String, $newPass: String, $testPass:String){\n      updatePassword(username:$username, currentPass:$currentPass, newPass:$newPass, testPass:$testPass){\n        response,\n        status\n      }\n    }\n"]);return _=function(){return e},e}function D(){var e=Object(S.a)(["  \n    mutation($username:String, $updateData:UpdateData){\n      updateUser(username:$username, updateData: $updateData){\n        response,\n        status\n      }\n    }\n"]);return D=function(){return e},e}function R(){var e=Object(S.a)(["\n    mutation($username:String){\n      deleteUser (username:$username){\n        response,\n        status\n      }\n    }\n"]);return R=function(){return e},e}function B(){var e=Object(S.a)(["\nquery($username:String){\n  userData(username:$username){\n    response,\n    user {\n      firstName\n      lastName\n      email\n      image\n      timeStamp{\n        created\n        lastSeen\n      }\n    },\n    status\n  }\n}\n"]);return B=function(){return e},e}function $(){var e=Object(S.a)(["\n    mutation($username:String, $password:String) {\n      loginCheck (username:$username, password:$password){\n        response,\n        username,\n        status\n      }\n    }\n"]);return $=function(){return e},e}function U(){var e=Object(S.a)(["\n  query($search:String) {\n  onChangeSearch(search:$search){\n\n      track\n      artist\n      song\n      album\n      artwork\n  }\n}\n"]);return U=function(){return e},e}function V(){var e=Object(S.a)(["\n  mutation($search:String) {\n   searchSong (search:$search){\n    track\n    artist\n    song\n    album\n    artwork\n   }\n  }\n"]);return V=function(){return e},e}function H(){var e=Object(S.a)(["\n  mutation($account:Account) {\n   createAccount (account:$account){\n        response,\n        status\n}\n    }\n"]);return H=function(){return e},e}var Y=Object(C.b)(H()),q=(Object(C.b)(V()),Object(C.b)(U())),z=Object(C.b)($()),F=Object(C.b)(B()),W=(Object(C.b)(R()),Object(C.b)(D())),K=Object(C.b)(_()),J=Object(C.b)(x()),G=Object(C.b)(T()),X=Object(C.b)(M()),Q=Object(C.b)(I()),Z=Object(C.b)(L()),ee=Object(C.b)(N()),te=Object(C.b)(j()),ae=(Object(C.b)(A()),a(226)),ne=a(325),re=a.n(ne),le={isAuthenticated:!1,isUsername:"",token:"",check:function(){var e=Object(u.a)(s.a.mark((function e(){var t,a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={token:""}).token=localStorage.getItem("sudo"),""===t){e.next=5;break}return e.next=5,re.a.post("/verify",t).then((function(e){a.isAuthenticated=e.data.response,a.isUsername=e.data.client_id,a.token=t.token}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),userLogin:function(e,t){this.isAuthenticated=e,e&&(this.isUsername=t)},getToken:function(){return this.token},getAuth:function(){return this.isAuthenticated},getUserName:function(){return this.isUsername},signOutUser:function(){localStorage.removeItem("sudo"),window.location.reload()}},oe=a(674),ie=a(352),se=a(326),ue=a.n(se),ce=a(673),de={isLoading:!1,results:[],value:"",preventLoop:1,redirect:!1,selectedSongData:""},me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state=de,a.handleResultSelect=function(e,t){var n=t.result,r=a.state,l=r.songData,o=r.allSongs;if("@"===n.key){var i={searchSong:o};a.setState({value:n.title,redirect:!0,selectedSongData:i})}else{var s={searchSong:[l[n.key]]};a.setState({value:n.title,redirect:!0,selectedSongData:s})}},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!1,value:n,preventLoop:1,results:[]}),console.log(a.props),a.props.switchtab("home")},a.handleResData=function(e){if(e&&e.onChangeSearch.length>0){for(var t=[],n=[],r=0;r<4;r++){var l=e.onChangeSearch[r],o=void 0;o=r<1?{key:"@",title:l.artist,description:"Search All",image:""}:{key:r,title:l.artist,description:l.track,image:l.artwork},n.push(l),t.push(o)}a.setState({preventLoop:0,results:t,songData:n,allSongs:e.onChangeSearch})}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.results,l=t.preventLoop,o=t.redirect,i=t.selectedSongData,s=a;return o?(this.setState({redirect:!1}),r.a.createElement(g.a,{to:{pathname:"/webplayer",state:{data:i}}})):r.a.createElement(ae.b,{query:q,variables:{search:s}},(function(t){var o=t.loading,i=(t.error,t.data);return o||1!==l||e.handleResData(i),r.a.createElement(E.a,null,r.a.createElement(E.a.Column,{width:8},r.a.createElement(ce.a,Object.assign({loading:o,onResultSelect:e.handleResultSelect,onSearchChange:ue.a.debounce(e.handleSearchChange,500,{leading:!0}),results:n,value:a},e.props))))}))}}]),t}(r.a.Component),fe=a(670),pe=r.a.createElement("span",null,r.a.createElement(ie.a,{avatar:!0,src:"https://randomuser.me/api/portraits/lego/1.jpg"})," ",le.getUserName()),ye=[{key:"profile",text:"Profile",icon:"user",href:"/#profile"},{key:"sign-out",text:"Sign Out",icon:"sign out",onClick:function(){return le.signOutUser()}}],he=function(){return r.a.createElement(fe.a,{trigger:pe,options:ye,pointing:"top right",icon:null})},ge=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={activeItem:"home"},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a.userStatus=function(){var e=a.state.activeItem;return!0===le.getAuth()?r.a.createElement(oe.a.Item,null,r.a.createElement(he,null)):r.a.createElement(oe.a.Item,{name:"not logged in",active:"login"===e,onClick:a.handleItemClick,href:"/#login"})},a.logo=function(){return r.a.createElement(ie.a,{src:"/audago.png",size:"small"})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(oe.a,{inverted:!0,secondary:!0,className:"navbar"},r.a.createElement(oe.a.Header,{style:{margin:10,color:"teal"},content:this.logo()}),r.a.createElement(oe.a.Item,{name:"home",active:"home"===e,href:"#",onClick:this.handleItemClick}),r.a.createElement(oe.a.Item,{content:r.a.createElement("s",null,"Explore"),active:"explore"===e,onClick:this.handleItemClick}),r.a.createElement(oe.a.Item,{content:r.a.createElement("s",null,"About"),active:"about"===e,onClick:this.handleItemClick}),r.a.createElement(oe.a.Menu,{position:"right"},r.a.createElement(oe.a.Item,null,r.a.createElement(me,null)),this.userStatus()))}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",status:le.getAuth(),message:""},a.setClientToken=function(e){localStorage.setItem("sudo",e)},a.renderError=function(){if(!a.state.status&&a.state.message)return r.a.createElement(v.a,{negative:!0},r.a.createElement(v.a.Header,null,a.state.message))},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,l=t.status;return l?(le.userLogin(l,a),r.a.createElement(g.a,{to:"/"})):r.a.createElement("div",{className:"bg"},r.a.createElement(ge,null),r.a.createElement(E.a,{textAlign:"center",style:{height:"80vh"},verticalAlign:"middle"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(P.a,{as:"h2",inverted:!0,textAlign:"center"},"Log-in to your account"),r.a.createElement(k.a,{size:"large"},r.a.createElement(w.a,{stacked:!0},r.a.createElement(k.a.Input,{fluid:!0,icon:"user",name:"username",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleChange}),r.a.createElement(k.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),this.renderError(),r.a.createElement(ae.a,{mutation:z,variables:{username:a,password:n},update:function(t,a){var n=a.data;e.setState({status:n.loginCheck.status,message:n.loginCheck.response}),e.setClientToken(n.loginCheck.response)}},(function(e){return r.a.createElement(O.a,{type:"submit",color:"teal",fluid:!0,size:"large",onClick:e},"Login")})))),r.a.createElement(v.a,null,"New to us? ",r.a.createElement("a",{href:"#signup"},"Sign Up")))))}}]),t}(r.a.Component),ve=a(668),Ee=a(669),Pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",lastName:"",username:"",email:"",password:"",confirm:"",image:"",active:!0,gql_res:{}},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.renderError=function(){var e=a.state.gql_res;if(!e.status&&e.response)return r.a.createElement(v.a,{negative:!0},r.a.createElement(v.a.Header,null,e.response))},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a={firstName:t.firstName,lastName:t.lastName,username:t.username,email:t.email,password:t.password,image:t.image,active:t.active};return this.state.gql_res.status?r.a.createElement(g.a,{to:"/"}):r.a.createElement("div",{className:"bg",style:{height:"100vh"}},r.a.createElement(ge,null),r.a.createElement(E.a,{style:{margin:"50px"},textAlign:"center",verticalAlign:"middle"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(P.a,{as:"h2",inverted:!0,textAlign:"center"},"Create an account"),r.a.createElement(k.a,{size:"large"},r.a.createElement(w.a,{stacked:!0},r.a.createElement(k.a.Input,{name:"firstName",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Firstname",onChange:this.handleChange}),r.a.createElement(k.a.Input,{name:"lastName",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Lastname",onChange:this.handleChange}),r.a.createElement(k.a.Input,{name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",onChange:this.handleChange}),r.a.createElement(k.a.Input,{name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleChange}),r.a.createElement(ve.a,{trigger:r.a.createElement(k.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),wide:!0},r.a.createElement(P.a,{as:"h2"},"A strong password requires:"),r.a.createElement(Ee.a,{bulleted:!0},r.a.createElement(Ee.a.Item,null,"More than 8 Characters"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Uppercase letter"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Lowercase letter"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Special character (!@#$%^&*)"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Number"))),r.a.createElement(k.a.Input,{name:"confirm",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",onChange:this.handleChange}),r.a.createElement(ae.a,{mutation:Y,variables:{account:a},update:function(t,a){var n=a.data;console.log(n),e.setState({gql_res:n.createAccount})}},(function(e){return r.a.createElement(O.a,{type:"submit",color:"teal",fluid:!0,size:"large",onClick:e},"Signup")})),this.renderError())))))}}]),t}(r.a.Component),ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(g.a,{to:"/webplayer"}):r.a.createElement("div",{className:"bg"},r.a.createElement(ge,null),r.a.createElement(P.a,{as:"h1",icon:!0,textAlign:"center",inverted:!0,style:{fontSize:40,marginTop:"4em"}},r.a.createElement(P.a.Content,null,"Lose yourself in 50 million songs."),r.a.createElement(O.a,{onClick:function(){return e.setState({redirect:!0})}},"Start Listening")))}}]),t}(r.a.Component),we=a(671),Oe=a(663),Se=a(678),Ce=a(175),Ae=a(67),je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1}),a.props.reset()},a.openModal=function(){a.setState({open:!0})},a.setPlaylist=function(e){var t=e.target.name,n=a.props.song,r={track:n.track,artist:n.artist,album:n.album,song:n.song,artwork:n.artwork,playlist_name:t};a.setState({playlist:t,song_proto:r})},a.getPlaylist=function(e){var t=[],n=!0,l=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var u=i.value;t.push(r.a.createElement(O.a,{name:u.name,onClick:a.setPlaylist},u.name))}}catch(c){l=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(l)throw o}}return t},a.state={open:!1,playlist:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.song_proto,l=t.playlist;return r.a.createElement(Ce.a,{trigger:r.a.createElement(O.a,{onClick:this.openModal,icon:"add"}),basic:!0,size:"small",open:a},r.a.createElement(P.a,{icon:"music",content:"Select Playlist"}),r.a.createElement(Ce.a.Content,null,r.a.createElement(ae.b,{query:ee,variables:{username:le.getUserName()}},(function(t){var a=t.loading,n=(t.error,t.data);return a?"loading...":r.a.createElement("div",null,e.getPlaylist(n.playlistsForUser.playlists))}))),r.a.createElement(Ce.a.Actions,null,r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("b",null,"Selected playlist: ",l)),r.a.createElement(O.a,{basic:!0,color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(Ae.a,{name:"remove"})," Cancel"),r.a.createElement(ae.a,{mutation:G,variables:{username:le.getUserName(),track:n},update:function(t,a){var n=a.loading;a.data;n||e.closeModal()}},(function(e){return r.a.createElement(O.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ae.a,{name:"checkmark"})," Add")}))))}}]),t}(r.a.Component),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleShow=function(){return a.setState({active:!0})},a.handleHide=function(){return a.setState({active:!1})},a.intialPlayer=function(e){a.props.playTrack([e])},a.resetCard=function(){a.setState({active:!1})},a.state={},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,n=(t.index,t.song_meta),l=this.state.active,o=r.a.createElement("div",null,r.a.createElement(O.a,{primary:!0,icon:"play",onClick:function(){return e.intialPlayer(n)}}),r.a.createElement(je,{song:n,reset:this.resetCard}));return r.a.createElement(Se.a.Dimmable,{as:ie.a,dimmed:l,dimmer:{active:l,content:o},onMouseEnter:this.handleShow,onMouseLeave:this.handleHide,size:"small",src:a})}}]),t}(n.Component),Le=a(351),Ie=a.n(Le),Me=(a(642),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={lastSongAdded:""},a.playSong=function(e,t,n){var r=t.length;a.setState({lastSongAdded:r})},a.changeObjKeys=function(e){var t=[],a=!0,n=!1,r=void 0;try{for(var l,o=function(){var e=l.value,a={name:e.track,singer:e.artist,cover:e.artwork,musicSrc:function(){return Promise.resolve(e.song)}};t.push(a)},i=e[Symbol.iterator]();!(a=(l=i.next()).done);a=!0)o()}catch(s){n=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.source,t={audioLists:this.changeObjKeys(e)};return r.a.createElement(Ie.a,Object.assign({},t,{autoPlay:!0,remove:!0,showDownload:!1,showPlayMode:!1,showThemeSwitch:!1,mode:"full",onAudioListsChange:this.playSong}))}}]),t}(r.a.Component)),Te=a(30),xe=a.n(Te),_e=(a(649),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).tabSwitch=function(e){a.props.setTab(e)},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(xe.a,{className:"sidebar",onSelect:function(t){if("signout"===t)return le.signOutUser();e.tabSwitch(t)}},r.a.createElement(xe.a.Toggle,null),r.a.createElement(xe.a.Nav,{defaultSelected:"home"},r.a.createElement(Te.NavItem,{eventKey:"home"},r.a.createElement(Te.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})),r.a.createElement(Te.NavText,null,"Home")),r.a.createElement(Te.NavItem,{eventKey:"playlist"},r.a.createElement(Te.NavIcon,null,r.a.createElement("i",{className:"fas fa-list",style:{fontSize:"1.75em"}})),r.a.createElement(Te.NavText,null,"Playlist")),r.a.createElement(Te.NavItem,{eventKey:"more"},r.a.createElement(Te.NavIcon,null,r.a.createElement("i",{className:"fa fas fa-cogs",style:{fontSize:"1.75em"}})),r.a.createElement(Te.NavText,null,"Settings"),r.a.createElement(Te.NavItem,null,r.a.createElement(Te.NavText,null,"Profile")),r.a.createElement(Te.NavItem,{eventKey:"manage_playlist"},r.a.createElement(Te.NavText,null,"Manage playlists"))),r.a.createElement(Te.NavItem,{eventKey:"signout"},r.a.createElement(Te.NavIcon,null,r.a.createElement("i",{className:"fas fa-sign-out-alt",style:{fontSize:"1.75em"}})),r.a.createElement(Te.NavText,null,"Signout"))))}}]),t}(r.a.Component)),De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleShow=function(){return a.setState({active:!0})},a.handleHide=function(){return a.setState({active:!1})},a.intialPlayer=function(e){a.setState({activePlaylist:e});var t=[],n=!0,r=!1,l=void 0;try{for(var o,i=a.props.songs[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;t.push(s)}}catch(u){r=!0,l=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}a.props.playTrack(t,0)},a.resetCard=function(){a.setState({active:!1})},a.renderFollowButton=function(){var e=a.state,t=e.username,n=e.playlist;return a.props.playlist_meta.follower_list.includes(le.getUserName())?r.a.createElement(ae.a,{mutation:Z,variables:{username:t,playlistName:n}},(function(e){return r.a.createElement(O.a,{icon:"heart",color:"red",onClick:e})})):r.a.createElement(ae.a,{mutation:Q,variables:{username:t,playlistName:n}},(function(e){return r.a.createElement(O.a,{icon:"heart outline",color:"red",onClick:e})}))},a.state={username:le.getUserName(),playlist:a.props.playlist_meta.name},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,n=t.index,l=this.state.active,o=r.a.createElement("div",null,r.a.createElement(O.a,{primary:!0,icon:"play",onClick:function(){return e.intialPlayer(n)}}),this.renderFollowButton());return r.a.createElement(Se.a.Dimmable,{as:ie.a,dimmed:l,dimmer:{active:l,content:o},onMouseEnter:this.handleShow,onMouseLeave:this.handleHide,size:"small",src:a})}}]),t}(n.Component),Re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).playTrack=function(e){console.log("fn playTrack---".concat(e))},a.deleteTrack=function(e){var t={track:e.target.id,artist:"",playlist_name:a.props.choice},n=!0,r=!1,l=void 0;try{for(var o,i=a.props.data[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;if(s.name===a.props.choice){var u=!0,c=!1,d=void 0;try{for(var m,f=s.songs[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var p=m.value;p.track===t.track&&(t.artist=p.artist)}}catch(y){c=!0,d=y}finally{try{u||null==f.return||f.return()}finally{if(c)throw d}}}}}catch(y){r=!0,l=y}finally{try{n||null==i.return||i.return()}finally{if(r)throw l}}a.setState({delete:!0,trackInfo:t})},a.renderDelete=function(){if(a.state.delete)return r.a.createElement(ae.b,{query:X,variables:{username:a.state.username,trackInfo:a.state.trackInfo}},(function(e){var t=e.loading,n=e.error,l=e.data;return t?"Loading...":n?"Error! ".concat(n.message):(console.log(l),r.a.createElement("div",null,a.buildList()))}))},a.renderDeleteState=function(){a.state.delete&&a.setState({delete:!1})},a.renderRemove=function(e,t){if(a.state.username===t&&!a.props.from)return r.a.createElement(Ee.a.Content,{floated:"right"},a.renderDelete(),r.a.createElement(ve.a,{basic:!0,content:"Remove from playlist",trigger:r.a.createElement(Ae.a,{inverted:!0,id:e.track,ref:e.artist,onClick:a.deleteTrack,link:!0,name:"remove"})}),a.renderDeleteState())},a.buildList=function(){var e=a.props.data,t=[],n=0,l=!0,o=!1,i=void 0;try{for(var s,u=e[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var c=s.value;if(c.name===a.props.choice){var d=c.songs,m=!0,f=!1,p=void 0;try{for(var y,h=function(){var e=y.value;t.push(r.a.createElement(Ee.a.Item,{key:n},r.a.createElement(O.a,{inverted:!0,floated:"left",size:"mini",onClick:function(){return a.playTrack(e.song)},style:{marginTop:10},icon:!0},r.a.createElement(Ae.a,{name:"play"})),r.a.createElement(Ee.a.Header,null,e.track),r.a.createElement(Ee.a.Description,null,e.artist," | ",e.album),a.renderRemove(e,c.creator))),n++},g=d[Symbol.iterator]();!(m=(y=g.next()).done);m=!0)h()}catch(b){f=!0,p=b}finally{try{m||null==g.return||g.return()}finally{if(f)throw p}}}}}catch(b){o=!0,i=b}finally{try{l||null==u.return||u.return()}finally{if(o)throw i}}return t},a.state={username:le.getUserName(),delete:!1,trackInfo:{},open:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"playSong",value:function(){var e=Object(u.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fn:playSong--".concat(t));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.choice;return r.a.createElement("div",null,r.a.createElement(O.a,{onClick:this.props.reset,floated:"left",size:"small",icon:"angle left"}),r.a.createElement(P.a,{centered:"true",as:"h2",inverted:!0},e),r.a.createElement(Ee.a,{celled:!0,relaxed:!0,inverted:!0},this.buildList()))}}]),t}(n.Component),Be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).playTrack=function(e,t){a.props.playTrack(e)},a.renderSongs=function(){return r.a.createElement(Re,{data:a.state.data,choice:a.state.choice,from:"webplayer",playTrack:a.playTrack,reset:a.reset})},a.renderPlaylists=function(){return r.a.createElement(ae.b,{query:te,pollInterval:500},(function(e){var t=e.loading,n=e.error,l=e.data;if(t)return"Loading...";if(n)return"Error! ".concat(n.message);for(var o=l.allPlaylists.playlists,i=[],s=0;s<o.length;s++){var u=o[s];u.songs.length>0&&i.push(r.a.createElement("div",{key:s,className:"cardDiv"},r.a.createElement(De,{image:u.songs[0].artwork,songs:u.songs,playTrack:a.playTrack,playlist_meta:u,index:s}),r.a.createElement("br",null),r.a.createElement("strong",{className:"playlistSelect"},u.name)))}return i}))},a.reset=function(){a.setState({viewSongs:!1,choice:""})},a.renderData=function(){return a.state.viewSongs?r.a.createElement("div",null,a.renderSongs()):r.a.createElement(we.a.Group,{centered:!0,itemsPerRow:6},a.renderPlaylists())},a.state={viewSongs:!1,data:[],choice:""},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderData())}}]),t}(r.a.Component),$e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).playTrack=function(e){a.setState({track:e})},a.renderTab=function(e){return void 0===e&&(e="home"),"home"===e?a.renderData():"playlist"===e?r.a.createElement(Be,{playTrack:a.playTrack}):"manage_playlist"===e?r.a.createElement(g.a,{to:"/profile"}):void 0},a.setTab=function(e){a.setState({current_Tab:e})},a.renderData=function(){if(void 0!==a.props.location.state){for(var e=a.props.location.state.data.searchSong,t=[],n=0;n<e.length;n++)t.push(r.a.createElement("div",{key:n,className:"cardDiv"},r.a.createElement(Ne,{image:e[n].artwork,artist:e[n].artist,track:e[n].track,song:e[n].song,playTrack:a.playTrack,song_meta:e[n],index:n}),r.a.createElement("br",null),r.a.createElement("strong",null,e[n].track)));return r.a.createElement(we.a.Group,{centered:!0,itemsPerRow:6},t)}},a.state={current_Tab:"",track:[]},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.current_Tab,a=e.track;return r.a.createElement("div",{className:"webplayer"},r.a.createElement(_e,{setTab:this.setTab}),r.a.createElement("div",{className:"cardContainer"},r.a.createElement(E.a,null,r.a.createElement(E.a.Row,{centered:!0},r.a.createElement(me,{switchtab:this.setTab}))),r.a.createElement(Oe.a,{style:{margin:15}},this.renderTab(t))),r.a.createElement(Me,{source:a}))}}]),t}(r.a.Component),Ue=a(131),Ve=a(660),He=a(664),Ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.renderUserSettings=function(){return r.a.createElement(ae.b,{query:F,variables:{username:le.getUserName()},pollInterval:500},(function(e){var t=e.loading,n=e.error,l=e.data;if(t)return"Loading...";if(n)return"Error! ".concat(n.message);var o=l.userData.user;return r.a.createElement(E.a,null,r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,null,r.a.createElement(P.a,{inverted:!0,floated:"left",as:"h4"},"Username: ",a.state.username))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,{width:7},r.a.createElement(Ve.a,{style:{width:200,float:"left"},label:{tag:!1,color:"teal",content:"First name"},placeholder:o.firstName,name:"firstName",onChange:a.handleChange})),r.a.createElement(E.a.Column,{width:9},r.a.createElement(Ve.a,{style:{width:200,float:"left"},label:{tag:!1,color:"teal",content:"Last name"},placeholder:o.lastName,name:"lastName",onChange:a.handleChange}))),a.renderEmail(o))}))},a.renderMessage=function(){if(a.state.status&&a.state.response)return r.a.createElement(v.a,{positive:!0},r.a.createElement(v.a.Header,null,a.state.response))},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1,modalError:!1})},a.handleCheck=function(e){a.state.newPass===a.state.testPass&&e.status?a.setState({modalOpen:!1}):a.setState({modalError:!0,response:e.response})},a.renderEmail=function(e){return r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,{width:10},r.a.createElement(Ve.a,{fluid:!0,label:{tag:!1,color:"teal",content:"Email"},placeholder:e.email,name:"email",onChange:a.handleChange})))},a.handleModalError=function(){if(a.state.modalError)return r.a.createElement(v.a,{style:{margin:0},negative:!0},r.a.createElement(v.a.Header,null,a.state.response))},a.state={username:le.getUserName(),firstName:"",lastName:"",email:"",response:"",status:!1,modalOpen:!1,currentPass:"",newPass:"",testPass:"",modalError:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.firstName,l=t.lastName,o=t.email,i=t.currentPass,s=t.newPass,u=t.testPass;return r.a.createElement("div",null,this.renderUserSettings(),r.a.createElement("br",null),this.renderMessage(),r.a.createElement(ae.a,{mutation:W,variables:{username:a,updateData:{firstName:n,lastName:l,email:o}},update:function(t,a){var n=a.data;e.setState({response:n.updateUser.response,status:n.updateUser.status})}},(function(e){return r.a.createElement(O.a,{type:"submit",color:"teal",onClick:e},"Update")})),r.a.createElement(Ce.a,{trigger:r.a.createElement(O.a,{onClick:this.handleOpen},"Change Password"),open:this.state.modalOpen,onClose:this.handleClose,size:"mini"},r.a.createElement(P.a,{icon:"lock",content:"Change password"}),r.a.createElement(Ce.a.Content,null,r.a.createElement(P.a,{as:"h4"}," Current Password",r.a.createElement(Ve.a,{name:"currentPass",type:"password",onChange:this.handleChange}))),r.a.createElement(He.a,{style:{margin:0}}),r.a.createElement(Ce.a.Content,null,r.a.createElement(P.a,{as:"h4"}," New Password ",r.a.createElement("br",null),r.a.createElement(Ve.a,{name:"newPass",type:"password",onChange:this.handleChange}),r.a.createElement(ve.a,{trigger:r.a.createElement(Ae.a,{size:"mini",style:{float:"right"},circular:!0,name:"info"}),wide:!0},r.a.createElement(P.a,{as:"h2"},"A strong password requires:"),r.a.createElement(Ee.a,{bulleted:!0},r.a.createElement(Ee.a.Item,null,"More than 8 Characters"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Uppercase letter"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Lowercase letter"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Special character (!@#$%^&*)"),r.a.createElement(Ee.a.Item,null,"Atleast 1 Number")))),r.a.createElement(P.a,{as:"h4"}," Confirm Password",r.a.createElement(Ve.a,{style:{marginTop:3},name:"testPass",type:"password",onChange:this.handleChange}))),this.handleModalError(),r.a.createElement(Ce.a.Actions,null,r.a.createElement(O.a,{color:"red",onClick:this.handleClose,inverted:!0},r.a.createElement(Ae.a,{name:"cancel"})," Cancel"),r.a.createElement(ae.a,{mutation:K,variables:{username:a,currentPass:i,newPass:s,testPass:u},update:function(t,a){var n=a.data.updatePassword;e.handleCheck(n)}},(function(e){return r.a.createElement(O.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ae.a,{name:"check"})," Update")})))))}}]),t}(n.Component),qe=a(665),ze=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={username:le.getUserName(),showSongs:!1,playlistChoice:"",modalOpen:!1,editSettings:!1,modalError:!1,response:"",playlistName:"",open:!1},a.open=function(){return a.setState({open:!0})},a.close=function(){return a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1,modalError:!1,playlistName:""})},a.handleModalError=function(){if(a.state.modalError&&a.state.response)return r.a.createElement(v.a,{style:{margin:0},negative:!0},r.a.createElement(v.a.Header,null,a.state.response))},a.handleCheck=function(e){e.newPlaylist.status?a.setState({modalOpen:!1,modalError:!1}):a.setState({modalError:!0,response:e.newPlaylist.response})},a.displaySongs=function(e){a.setState({showSongs:!0,playlistChoice:e})},a.reset=function(){a.setState({showSongs:!1,playlistChoice:""})},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ae.b,{query:ee,variables:{username:le.getUserName()},pollInterval:500},(function(t){var a=t.loading,n=t.error,l=t.data;if(a)return"Loading...";if(n)return"Error! ".concat(n.message);var o=[],i=0;if(e.state.showSongs)return r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,null,r.a.createElement(ae.a,{mutation:Z,variables:{username:e.state.username,playlistName:e.state.playlistChoice},update:function(t,a){a.data;e.reset()}},(function(t){return r.a.createElement("div",null,r.a.createElement(O.a,{onClick:e.open,floated:"right",basic:!0,inverted:!0,color:"teal"},"Unfollow"),r.a.createElement(qe.a,{size:"mini",open:e.state.open,onCancel:e.close,onConfirm:t}))})),r.a.createElement(Re,{data:l.playlistsForUser.playlists,choice:e.state.playlistChoice,reset:e.reset})));if(l.playlistsForUser.playlists){var s=!0,u=!1,c=void 0;try{for(var d,m=function(){var t=d.value,a="followers: "+t.followers,n="songs: "+t.song_count;o.push(r.a.createElement(we.a,{color:"teal",header:t.name,meta:a,description:n,key:i,onClick:function(){e.displaySongs(t.name)}})),i++},f=l.playlistsForUser.playlists[Symbol.iterator]();!(s=(d=f.next()).done);s=!0)m()}catch(p){u=!0,c=p}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}}return r.a.createElement(Oe.a,null,r.a.createElement(E.a.Row,{width:16},r.a.createElement(we.a.Group,{itemsPerRow:3},o,r.a.createElement(Ce.a,{trigger:r.a.createElement(we.a,{onClick:e.handleOpen,color:"teal",key:"create"},r.a.createElement(we.a.Content,null,r.a.createElement(O.a,{style:{width:50,height:50},circular:!0,icon:"add"}))),open:e.state.modalOpen,basic:!0,onClose:e.handleClose,size:"mini"},r.a.createElement(P.a,{icon:"music",content:"Give your playlist a name"}),r.a.createElement(Ce.a.Content,null,r.a.createElement(Ve.a,{transparent:!0,inverted:!0,placeholder:"Playlist name..",name:"playlistName",type:"text",onChange:e.handleChange})),e.handleModalError(),r.a.createElement(Ce.a.Actions,null,r.a.createElement(O.a,{color:"red",onClick:e.handleClose,inverted:!0},r.a.createElement(Ae.a,{name:"cancel"})," Cancel"),r.a.createElement(ae.a,{mutation:J,variables:{name:e.state.playlistName,creator:e.state.username},update:function(t,a){var n=a.data;e.handleCheck(n)}},(function(e){return r.a.createElement(O.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ae.a,{name:"check"})," Create")})))))))}))}}]),t}(r.a.Component),Fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={activeItem:"Playlists"},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a.setTab=function(e){a.setState({activeItem:e})},a.renderBannerInfo=function(){return r.a.createElement(ae.b,{query:F,variables:{username:le.getUserName()}},(function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):r.a.createElement(P.a,{as:"h1",style:{marginTop:"0.8em"},inverted:!0,floated:"left"},"Hello,  ",le.getUserName()," ",r.a.createElement("br",null),r.a.createElement(Ue.a,{as:"a",color:"purple",image:!0},"Joined",r.a.createElement(Ue.a.Detail,null,n.userData.user.timeStamp.created)))}))},a.renderItem=function(){return"Playlists"===a.state.activeItem?r.a.createElement(ze,null):"Settings"===a.state.activeItem?r.a.createElement(Ye,null):void 0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile",style:{backgroundColor:"black"}},r.a.createElement(ge,null),r.a.createElement(Oe.a,{style:{padding:10}},r.a.createElement(E.a,null,r.a.createElement(E.a.Row,{style:{paddingBottom:0}},r.a.createElement(E.a.Column,{width:16})),r.a.createElement(E.a.Row,{color:"teal",style:{marginTop:15,borderRadius:10}},r.a.createElement(E.a.Column,{width:2},r.a.createElement(ie.a,{style:{width:112,height:112},circular:!0,src:"https://react.semantic-ui.com/images/avatar/large/patrick.png"})),r.a.createElement(E.a.Column,{width:14},this.renderBannerInfo())),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,{width:16},r.a.createElement(oe.a,{pointing:!0,secondary:!0,inverted:!0},r.a.createElement(oe.a.Item,{name:"Playlists",active:"Playlists"===this.state.activeItem,onClick:this.handleItemClick}),r.a.createElement(oe.a.Item,{name:"Settings",active:"Settings"===this.state.activeItem,onClick:this.handleItemClick})))),this.renderItem())))}}]),t}(r.a.Component),We=function(e){var t=e.component,a=Object(y.a)(e,["component"]);return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return le.getAuth()?r.a.createElement(t,e):r.a.createElement(g.a,{to:{pathname:"/login"}})}}))},Ke=function(e){return r.a.createElement(h.a,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/login",component:be}),r.a.createElement(g.b,{exact:!0,path:"/signup",component:Pe}),r.a.createElement(g.b,{exact:!0,path:"/",component:ke}),r.a.createElement(We,{exact:!0,path:"/webplayer",component:$e}),r.a.createElement(We,{exact:!0,path:"/profile",component:Fe})))},Je=a(666),Ge=function(){return r.a.createElement("div",null,r.a.createElement(Oe.a,{style:{margin:50}},r.a.createElement(Se.a,{active:!0,inverted:!0},r.a.createElement(Je.a,{size:"large"},"Loading"))))},Xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!1,loading:!0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,le.check();case 3:e.t1=e.sent,e.t2={auth:e.t1,loading:!1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(Ge,null):r.a.createElement("div",{className:"App"},r.a.createElement(Ke,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Qe=new C.a({request:function(e){var t=localStorage.getItem("sudo");e.setContext({headers:{authorization:t?"Bearer:".concat(t):""}})}}),Ze=a(28);o.a.render(r.a.createElement(Ze.a,{client:Qe},r.a.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[361,1,2]]]);
//# sourceMappingURL=main.1c351eb7.chunk.js.map