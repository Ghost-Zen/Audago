{"version":3,"sources":["lib/react-jinke-music-player/lib/index.js","lib/react-jinke-music-player/lib/utils.js","lib/react-jinke-music-player/lib/components/AudioListsPanel.js","lib/react-jinke-music-player/lib/components/PlayerMobile.js","lib/react-jinke-music-player/lib/lyric.js","api/queries.js","utils/Auth.js","components/dropdown.jsx","components/navbar.jsx","pages/Login.jsx","pages/Signup.jsx","pages/Homepage.jsx","components/playlistPopup.jsx","components/musicInCard.jsx","components/player.jsx","components/sidebar.jsx","components/onChangeSearch.jsx","components/playlistCards.jsx","components/songlist.jsx","components/playlistInCards.jsx","pages/Webplayer.jsx","components/editSettings.jsx","components/profilePlaylistCards.jsx","components/profilePlaylist.jsx","components/friendSearch.jsx","components/friendRequests.jsx","components/friendList.jsx","components/friends.jsx","components/profileDisplay.jsx","pages/Profile.jsx","pages/About.jsx","Router.jsx","components/loader.jsx","App.jsx","utils/serviceWorker.js","config.js","index.js"],"names":["Object","defineProperty","exports","value","default","CircleProcessBar","PlayModel","Load","AnimatePauseIcon","AnimatePlayIcon","_react","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","_interopRequireWildcard","require","_reactDom","_propTypes","_interopRequireDefault","_classnames","_isMobile","_Slider","_rcSwitch","_downloadjs","_utils","_AudioListsPanel","_PlayerMobile","_reactDraggable","_lyric","_headphones","_minusSquareO","_playCircle","_pauseCircle","_angellist","_refresh","_volumeUp","_volumeOff","_cloudDownload","_spinner","_repeatOne","_repeat","_arrowShuffle","_viewHeadline","_queueMusic","_skipNext","_skipPrevious","_close","_trashO","_extends","assign","target","i","arguments","length","source","apply","this","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","_iterableToArrayLimit","TypeError","_nonIterableRest","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","enumerable","forEach","_defineProperty","configurable","writable","_toConsumableArray","arr2","_arrayWithoutHoles","iter","toString","from","_iterableToArray","_nonIterableSpread","_typeof","constructor","_defineProperties","props","descriptor","_assertThisInitialized","self","ReferenceError","IS_MOBILE","createElement","className","_ref","visible","_ref2","_ref2$progress","progress","_ref2$r","r","_progress","toFixed","perimeter","Math","PI","strokeDasharray","cx","cy","fill","sliderBaseOptions","min","step","trackStyle","backgroundColor","handleStyle","border","ReactJkMusicPlayer","_PureComponent","_this","instance","Constructor","_classCallCheck","__proto__","getPrototypeOf","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","audioLists","playId","initPlayId","name","cover","singer","musicSrc","lyric","currentLyric","isMobile","toggle","pause","playing","duration","currentTime","isLoop","isMute","soundValue","isDrag","currentX","currentY","moveX","moveY","isMove","loading","audioListsPanelVisible","playModelNameVisible","theme","darkThemeName","extendsContent","playMode","currentAudioVolume","initAnimate","isInitAutoplay","isInitRemember","loadProgress","removeId","isNeedMobileHack","audioLyricVisible","setState","state","index","_PLAY_MODE_","findIndex","_ref3","_PLAY_MODE_LENGTH_","playModeTipVisible","onPlayModeChange","PLAY_MODE","clearTimeout","playModelTimer","setTimeout","playModeShowTime","IconNode","animateName","ignore","_this$state","currentPlayId","console","warn","audio","play","_pauseAudio","_audioLists$find","find","id","_audioLists$find$lyri","loadAudio","initLyricParser","load","onAudioPlayTrackChange","getBaseAudioInfo","then","originMusicSrc","onAudioLoadError","initPlayInfo","audioId","e","stopPropagation","_this$state2","stop","newAudioLists","resetAudioStatus","handlePlay","audioListRemoveAnimateTime","onAudioListsChange","_ref4","onAudioListsPanelChange","isLight","lightThemeName","onThemeChange","baseAudioInfo","onBeforeAudioDownload","transformedDownloadAudioInfo","info","src","filename","mimeType","onAudioDownload","_ref5","deltaX","deltaY","abs","openPanelPeriphery","_ref6","x","y","loadAndPlayAudio","openPanel","preventDefault","_value","setAudioVolume","_value2","volume","ele","_ele$getBoundingClien","getBoundingClientRect","left","top","_ref7","onAudioReload","toggleMode","onModeChange","toggleModeName","full","mini","togglePlay","onAudioPlay","setAudioLength","autoPlay","onAudioPause","_this$props","remember","_this$state3","networkState","NETWORK_STATE","getLastPlayStatus","isLastPause","canPlay","_this$state4","loadAudioErrorPlayNext","audioInfo","errMsg","error","isNext","_this$state5","audioListsLen","currentPlayIndex","audioListsPlay","randomIndex","createRandomNum","randomPlayId","onAudioEnded","_playMode","audioPrevAndNextBasePlayHandle","saveLastPlayStatus","onAudioProgress","_value3","onAudioVolumeChange","seek","getLyricPlayTime","onAudioSeeked","mergedError","onAudioAbort","mode","fromIndex","toIndex","_this$state6","_audioLists","item","splice","_playId","onAudioListsDragEnd","_this$state7","lastPlayStatus","JSON","stringify","localStorage","setItem","_this$props2","status","defaultPlayMode","getDefaultPlayId","parse","getItem","document","addEventListener","mockAutoPlayForMobile","once","_this2","bindEvents","eventsNames","waiting","canplay","ended","audioEnd","seeked","onPauseAudio","timeupdate","audioTimeUpdate","volumechange","stalled","abort","bind","_events","removeEventListener","lastAudioLists","map","uuId","playIndex","max","defaultPlayIndex","_ref8","_ref9","_ref8$name","_ref8$cover","_ref8$singer","_ref8$musicSrc","_ref8$lyric","cb","getPlayInfo","_ref10","matches","media","window","matchMedia","addListener","listenerIsMobile","_this$props3","defaultVolume","_this$getLastPlayStat3","_formatTime$split2","formatTime","split","onLyricChange","showLyric","_ref11","lineNum","txt","onAudioLyricChange","v","_playIndex","currentPlay","getAudioInstance","targetId","_props$playModeText","playModeText","order","orderLoop","singleLoop","shufflePlay","values","protoProps","staticProps","subClass","superClass","create","setPrototypeOf","_inherits","_this3","_props","controllerTitle","closeText","openText","notContentText","drag","style","showDownload","showPlay","showReload","showPlayMode","showThemeSwitch","panelTitle","checkedText","unCheckedText","showMiniModeCover","showProgressLoadBar","bounds","defaultPosition","showMiniProcessBar","preload","glassBg","remove","lyricClassName","emptyLyricPlaceholder","getContainer","autoHiddenCover","_state","preloadState","panelToggleAnimate","show","hide","_playMode_","currentPlayMode","currentPlayModeName","isShowMiniModeCover","backgroundImage","_currentTime","_duration","progressHandler","onChange","onHandleProgress","onAfterChange","ProgressBar","ceil","defaultValue","DownloadComponent","ThemeSwitchComponent","themeChange","checkedChildren","unCheckedChildren","checked","ReloadComponent","onTouchStart","onClick","title","LyricComponent","toggleAudioLyric","PlayModeComponent","togglePlayMode","renderPlayModeIcon","miniProcessBarR","AudioController","Fragment","container","body","createPortal","themeSwitch","progressBar","onPlay","audioNextPlay","audioPrevPlay","playListsIcon","reloadIcon","downloadIcon","nextAudioIcon","prevAudioIcon","playIcon","pauseIcon","closeIcon","loadingIcon","openAudioListsPanel","onClose","onHidePanel","LyricIcon","position","onDrag","controllerMouseMove","onStop","controllerMouseUp","onStart","width","ref","node","playBtn","content","onSound","onMute","audioSoundChange","onCancel","closeAudioListsPanel","deleteIcon","onDelete","deleteAudioLists","audioListsDragEnd","_state2","_audio","muted","readyState","played","paused","startDate","_ref13","arrayEqual","updatePlayIndex","updateAudioLists","updateTheme","updateMode","_this4","_props2","val","unBindEvents","unBindUnhandledRejection","removeListener","addMobileListener","setDefaultAudioVolume","bindUnhandledRejection","onGetAudioInstance","bindMobileAutoPlayEvents","isSafari","bindSafariAutoPlayEvents","PureComponent","array","isRequired","oneOf","bool","object","string","oneOfType","shape","number","right","bottom","func","second","h","s","parseInt","zero","join","minNum","maxNum","random","distinct","idx","arry","indexOf","arr1","s4","substring","test","navigator","userAgent","_libraryMusic","_angleDoubleDown","_ReactDragListView","_default","nodeSelector","handleSelector","lineClassName","onDragEnd","PlayModeTip","prefix","text","showFullModeCover","alt","Boolean","icon","timeExp","STATE_PAUSE","tagRegMap","artist","album","offset","by","noop","Lyric","lrc","hanlder","tags","lines","handler","curLine","_init","_initTag","_initLines","tag","match","RegExp","line","result","exec","replace","trim","time","sort","a","b","delay","curNum","Date","startStamp","timer","_callHandler","_playRest","startTime","skipLast","_findCurNum","now","pauseStamp","ADD_USER","gql","ONCHANGE_SEARCH","USER_DATA","UPDATE_USER","UPDATE_PASSWORD","NEW_PLAYLIST","NEW_TRACK","DELETE_TRACK","FOLLOW_PLAYLIST","UNFOLLOW_PLAYLIST","USERS_PLAYLIST","ALL_PLAYLISTS","SEND_FRIEND_REQUEST","DENY_FRIEND_REQUEST","ACCEPT_FRIEND_REQUEST","VIEW_FRIEND_REQUESTS","VIEW_FRIEND_LIST","DELETE_FRIEND","FRIEND_SEARCH","SIGNOUT","DEACTIVATE","ACTIVATE","Auth","isAuthenticated","isUsername","token","check","jwt","axios","post","res","data","response","client_id","userLogin","username","getToken","getAuth","getUserName","signOutUser","removeItem","location","reload","NavBarDropDown","options","href","trigger","Image","avatar","Dropdown","pointing","React","Component","Navbar","activeItem","signOut","handleItemClick","handleSignout","renderSignOut","query","variables","date","moment","format","message","log","profilePic","config","headers","authorization","responseType","image","URL","createObjectURL","imgElem","querySelector","type","userStatus","Menu","Item","active","logo","size","inverted","secondary","Header","margin","color","Login","password","loginUser","post_Data","input","postRes","setClientToken","renderError","Message","negative","handleChange","event","to","Grid","textAlign","height","verticalAlign","Column","maxWidth","as","Form","onSubmit","Segment","stacked","Input","required","fluid","iconPosition","placeholder","Button","Signup","firstName","lastName","email","confirm","gql_res","account","Popup","wide","List","bulleted","mutation","update","cache","createAccount","HomePage","redirect","beforeunload","fontSize","marginTop","Content","PlaylistPopup","closeModal","open","reset","openModal","setPlaylist","playlist","song","song_proto","track","artwork","playlist_name","getPlaylist","playlists","allPlaylists","z","Modal","basic","playlistsForUser","Actions","Icon","newTrack","addToPlaylist","cards","handleShow","handleHide","intialPlayer","playTrack","resetCard","song_meta","primary","Dimmer","Dimmable","dimmed","dimmer","onMouseEnter","onMouseLeave","Player","lastSongAdded","playSong","f","g","changeObjKeys","tracks","Promise","resolve","Sidebar","tabSwitch","selected","setTab","onSelect","Toggle","Nav","defaultSelected","eventKey","initialState","isLoading","results","preventLoop","selectedSongData","OnChangeSearch","handleResultSelect","songData","allSongs","searchSong","handleSearchChange","switchtab","handleResData","onChangeSearch","top4Res","rawData","apiRes","onSearchData","description","search","pathname","Search","onResultSelect","onSearchChange","_","debounce","leading","activePlaylist","songList","songs","renderFollowButton","playlist_meta","follower_list","includes","playlistName","unfollowPlaylist","followPlaylist","songlist","startTrack","choice","stopMusic","currentTrack","deleteTrack","trackInfo","delete","renderDelete","buildList","renderDeleteState","renderRemove","creator","floated","link","button","listItems","Description","playPromise","catch","centered","celled","relaxed","PlayListInCards","renderSongs","renderPlaylists","pollInterval","playlistData","songTiles","displaySongs","viewSongs","renderData","Card","Group","itemsPerRow","Webplayer","music","renderTab","tab","current_Tab","song_data","Row","Container","settings","renderUserSettings","userData","user","renderActiveButton","block","float","label","renderEmail","onPictureUpload","formData","FormData","append","files","renderMessage","positive","handleOpen","modalOpen","handleClose","modalError","handleCheck","newPass","testPass","deactivate","Subheader","activate","handleModalError","file","currentPass","updateData","updateUser","updateInfo","Divider","circular","updatePassword","updatePass","ProfilePlaylistCards","followerString","followers","songString","song_count","PlaylistDisplay","showSongs","playlistChoice","editSettings","close","newPlaylist","renderNewPlaylistModal","transparent","renderUnfollow","unfollow","Confirm","onConfirm","playlistCards","FriendSearch","renderDisplay","displayProfile","chosenUser","renderSearch","renderProfile","refetch","accounts","accountSearch","accountList","friend","wrapped","ui","extra","requester","receiver","sendRequest","FriendRequests","renderRequests","requests","viewFriendRequests","requestList","acceptRequest","denyRequest","FriendList","renderFriends","friends","viewFriendsList","friendsList","removeFriend","Friends","renderItem","count","Label","ProfileDisplay","changeProfileDisplay","renderBack","chosen_tab","renderBackButton","loggedInUser","renderBannerInfo","Detail","timeStamp","created","lastOnline","lastSeen","renderLastOnline","fromNow","renderSettings","padding","paddingBottom","borderRadius","Profile","PrivateRoute","component","rest","render","Router","exact","path","About","Loading","Loader","App","auth","hostname","ApolloClient","request","operation","setContext","ReactDOM","client","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.db9b7f35.chunk.js","sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.CircleProcessBar = exports.PlayModel = exports.Load = exports.AnimatePauseIcon = exports.AnimatePlayIcon = void 0;\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _reactDom = require(\"react-dom\");\r\n\r\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\r\n\r\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\r\n\r\nvar _isMobile = _interopRequireDefault(require(\"is-mobile\"));\r\n\r\nvar _Slider = _interopRequireDefault(require(\"rc-slider/lib/Slider\"));\r\n\r\nvar _rcSwitch = _interopRequireDefault(require(\"rc-switch\"));\r\n\r\nvar _downloadjs = _interopRequireDefault(require(\"downloadjs\"));\r\n\r\nvar _utils = require(\"./utils\");\r\n\r\nvar _AudioListsPanel = _interopRequireDefault(require(\"./components/AudioListsPanel\"));\r\n\r\nvar _PlayerMobile = _interopRequireDefault(require(\"./components/PlayerMobile\"));\r\n\r\nvar _reactDraggable = _interopRequireDefault(require(\"react-draggable\"));\r\n\r\nvar _lyric = _interopRequireDefault(require(\"./lyric\"));\r\n\r\nvar _headphones = _interopRequireDefault(require(\"react-icons/lib/fa/headphones\"));\r\n\r\nvar _minusSquareO = _interopRequireDefault(require(\"react-icons/lib/fa/minus-square-o\"));\r\n\r\nvar _playCircle = _interopRequireDefault(require(\"react-icons/lib/fa/play-circle\"));\r\n\r\nvar _pauseCircle = _interopRequireDefault(require(\"react-icons/lib/fa/pause-circle\"));\r\n\r\nvar _angellist = _interopRequireDefault(require(\"react-icons/lib/fa/angellist\"));\r\n\r\nvar _refresh = _interopRequireDefault(require(\"react-icons/lib/fa/refresh\"));\r\n\r\nvar _volumeUp = _interopRequireDefault(require(\"react-icons/lib/md/volume-up\"));\r\n\r\nvar _volumeOff = _interopRequireDefault(require(\"react-icons/lib/md/volume-off\"));\r\n\r\nvar _cloudDownload = _interopRequireDefault(require(\"react-icons/lib/fa/cloud-download\"));\r\n\r\nvar _spinner = _interopRequireDefault(require(\"react-icons/lib/fa/spinner\"));\r\n\r\nvar _repeatOne = _interopRequireDefault(require(\"react-icons/lib/md/repeat-one\"));\r\n\r\nvar _repeat = _interopRequireDefault(require(\"react-icons/lib/md/repeat\"));\r\n\r\nvar _arrowShuffle = _interopRequireDefault(require(\"react-icons/lib/ti/arrow-shuffle\"));\r\n\r\nvar _viewHeadline = _interopRequireDefault(require(\"react-icons/lib/md/view-headline\"));\r\n\r\nvar _queueMusic = _interopRequireDefault(require(\"react-icons/lib/md/queue-music\"));\r\n\r\nvar _skipNext = _interopRequireDefault(require(\"react-icons/lib/md/skip-next\"));\r\n\r\nvar _skipPrevious = _interopRequireDefault(require(\"react-icons/lib/md/skip-previous\"));\r\n\r\nvar _close = _interopRequireDefault(require(\"react-icons/lib/md/close\"));\r\n\r\nvar _trashO = _interopRequireDefault(require(\"react-icons/lib/fa/trash-o\"));\r\n\r\nrequire(\"rc-slider/assets/index.css\");\r\n\r\nrequire(\"rc-switch/assets/index.css\");\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\r\n\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\r\n\r\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\n\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\n\r\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\r\n\r\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\r\n\r\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\r\n\r\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\r\n\r\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nvar IS_MOBILE = (0, _isMobile.default)();\r\n\r\nvar AnimatePlayIcon = function AnimatePlayIcon() {\r\n  return _react.default.createElement(_playCircle.default, {\r\n    className: \"react-jinke-music-player-play-icon\"\r\n  });\r\n};\r\n\r\nexports.AnimatePlayIcon = AnimatePlayIcon;\r\n\r\nvar AnimatePauseIcon = function AnimatePauseIcon() {\r\n  return _react.default.createElement(_pauseCircle.default, {\r\n    className: \"react-jinke-music-player-pause-icon\"\r\n  });\r\n};\r\n\r\nexports.AnimatePauseIcon = AnimatePauseIcon;\r\n\r\nvar Load = function Load() {\r\n  return _react.default.createElement(\"span\", {\r\n    className: \"loading group\",\r\n    key: \"loading\"\r\n  }, _react.default.createElement(_spinner.default, null));\r\n};\r\n\r\nexports.Load = Load;\r\n\r\nvar PlayModel = function PlayModel(_ref) {\r\n  var visible = _ref.visible,\r\n      value = _ref.value;\r\n  return _react.default.createElement(\"div\", {\r\n    className: (0, _classnames.default)('play-mode-title', {\r\n      'play-mode-title-visible': visible\r\n    }),\r\n    key: \"play-mode-title\"\r\n  }, value);\r\n}; //\r\n\r\n\r\nexports.PlayModel = PlayModel;\r\n\r\nvar CircleProcessBar = function CircleProcessBar() {\r\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\r\n      _ref2$progress = _ref2.progress,\r\n      progress = _ref2$progress === void 0 ? 0 : _ref2$progress,\r\n      _ref2$r = _ref2.r,\r\n      r = _ref2$r === void 0 ? 40 : _ref2$r;\r\n\r\n  var _progress = progress.toFixed(2);\r\n\r\n  var perimeter = Math.PI * 2 * r;\r\n  var strokeDasharray = \"\".concat(~~(perimeter * _progress), \" \").concat(~~(perimeter * (1 - _progress)));\r\n  return _react.default.createElement(\"svg\", {\r\n    className: \"audio-circle-process-bar\"\r\n  }, _react.default.createElement(\"circle\", {\r\n    cx: r,\r\n    cy: r,\r\n    r: r - 1,\r\n    fill: \"none\",\r\n    className: \"stroke\",\r\n    strokeDasharray: strokeDasharray\r\n  }), _react.default.createElement(\"circle\", {\r\n    cx: r,\r\n    cy: r,\r\n    r: r - 1,\r\n    fill: \"none\",\r\n    className: \"bg\",\r\n    strokeDasharray: \"0 1000\"\r\n  }));\r\n};\r\n\r\nexports.CircleProcessBar = CircleProcessBar;\r\nvar sliderBaseOptions = {\r\n  min: 0,\r\n  step: 0.01,\r\n  trackStyle: {\r\n    backgroundColor: '#31c27c'\r\n  },\r\n  handleStyle: {\r\n    backgroundColor: '#31c27c',\r\n    border: '2px solid #fff'\r\n  }\r\n};\r\n\r\nvar ReactJkMusicPlayer =\r\n/*#__PURE__*/\r\nfunction (_PureComponent) {\r\n  _inherits(ReactJkMusicPlayer, _PureComponent);\r\n\r\n  //id\r\n  // (ms)\r\n  function ReactJkMusicPlayer(props) {\r\n    var _this;\r\n\r\n    _classCallCheck(this, ReactJkMusicPlayer);\r\n\r\n    _this = _possibleConstructorReturn(this, (ReactJkMusicPlayer.__proto__ || Object.getPrototypeOf(ReactJkMusicPlayer)).call(this, props));\r\n    Object.defineProperty(_assertThisInitialized(_this), \"initPlayId\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: ''\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioListRemoveAnimateTime\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: 350\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"NETWORK_STATE\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: {\r\n        NETWORK_EMPTY: 0,\r\n        //\r\n        NETWORK_IDLE: 1,\r\n        // 304 \r\n        NETWORK_LOADING: 2,\r\n        //\r\n        NETWORK_NO_SOURCE: 3 //\r\n\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"READY_SUCCESS_STATE\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: 4\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"state\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: {\r\n        audioLists: [],\r\n        playId: _this.initPlayId,\r\n        //id\r\n        name: '',\r\n        //\r\n        cover: '',\r\n        //\r\n        singer: '',\r\n        //\r\n        musicSrc: '',\r\n        //\r\n        lyric: '',\r\n        // \r\n        currentLyric: '',\r\n        isMobile: IS_MOBILE,\r\n        toggle: false,\r\n        pause: true,\r\n        playing: false,\r\n        duration: 0,\r\n        currentTime: 0,\r\n        isLoop: false,\r\n        isMute: false,\r\n        soundValue: 100,\r\n        isDrag: false,\r\n        //\r\n        currentX: 0,\r\n        currentY: 0,\r\n        moveX: 0,\r\n        moveY: 0,\r\n        isMove: false,\r\n        loading: false,\r\n        audioListsPanelVisible: false,\r\n        playModelNameVisible: false,\r\n        theme: _this.darkThemeName,\r\n        extendsContent: [],\r\n        //\r\n        playMode: '',\r\n        //\r\n        currentAudioVolume: 0,\r\n        //  \r\n        initAnimate: false,\r\n        isInitAutoplay: false,\r\n        isInitRemember: false,\r\n        loadProgress: 0,\r\n        removeId: -1,\r\n        isNeedMobileHack: IS_MOBILE,\r\n        audioLyricVisible: false\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"toggleAudioLyric\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState({\r\n          audioLyricVisible: !_this.state.audioLyricVisible\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"togglePlayMode\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var index = _this._PLAY_MODE_.findIndex(function (_ref3) {\r\n          var key = _ref3.key;\r\n          return key === _this.state.playMode;\r\n        });\r\n\r\n        var playMode = index === _this._PLAY_MODE_LENGTH_ - 1 ? _this._PLAY_MODE_[0]['key'] : _this._PLAY_MODE_[++index]['key'];\r\n\r\n        _this.setState({\r\n          playMode: playMode,\r\n          playModelNameVisible: true,\r\n          playModeTipVisible: true\r\n        });\r\n\r\n        _this.props.onPlayModeChange && _this.props.onPlayModeChange(_this.PLAY_MODE[playMode]);\r\n        clearTimeout(_this.playModelTimer);\r\n        _this.playModelTimer = setTimeout(function () {\r\n          _this.setState({\r\n            playModelNameVisible: false,\r\n            playModeTipVisible: false\r\n          });\r\n        }, _this.props.playModeShowTime);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"renderPlayModeIcon\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(playMode) {\r\n        var IconNode = '';\r\n        var animateName = 'react-jinke-music-player-mode-icon';\r\n\r\n        switch (playMode) {\r\n          case _this.PLAY_MODE['order']['key']:\r\n            IconNode = _react.default.createElement(_viewHeadline.default, {\r\n              className: animateName\r\n            });\r\n            break;\r\n\r\n          case _this.PLAY_MODE['orderLoop']['key']:\r\n            IconNode = _react.default.createElement(_repeat.default, {\r\n              className: animateName\r\n            });\r\n            break;\r\n\r\n          case _this.PLAY_MODE['singleLoop']['key']:\r\n            IconNode = _react.default.createElement(_repeatOne.default, {\r\n              className: animateName\r\n            });\r\n            break;\r\n\r\n          case _this.PLAY_MODE['shufflePlay']['key']:\r\n            IconNode = _react.default.createElement(_arrowShuffle.default, {\r\n              className: animateName\r\n            });\r\n            break;\r\n\r\n          default:\r\n            IconNode = _react.default.createElement(_viewHeadline.default, {\r\n              className: animateName\r\n            });\r\n        }\r\n\r\n        return IconNode;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioListsPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(playId) {\r\n        var ignore = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n        var _this$state = _this.state,\r\n            currentPlayId = _this$state.playId,\r\n            pause = _this$state.pause,\r\n            playing = _this$state.playing,\r\n            audioLists = _this$state.audioLists;\r\n\r\n        if (Array.isArray(audioLists) && audioLists.length === 0) {\r\n          /*eslint-disable no-console*/\r\n          return console.warn('Your playlist has no songs. and cannot play !');\r\n          /*eslint-disable no-console*/\r\n        } //  \r\n\r\n\r\n        if (playId === currentPlayId && !ignore) {\r\n          _this.setState({\r\n            pause: !pause,\r\n            playing: !playing\r\n          });\r\n\r\n          return pause ? _this.audio.play() : _this._pauseAudio();\r\n        }\r\n\r\n        var _audioLists$find = audioLists.find(function (audio) {\r\n          return audio.id === playId;\r\n        }),\r\n            name = _audioLists$find.name,\r\n            cover = _audioLists$find.cover,\r\n            musicSrc = _audioLists$find.musicSrc,\r\n            singer = _audioLists$find.singer,\r\n            _audioLists$find$lyri = _audioLists$find.lyric,\r\n            lyric = _audioLists$find$lyri === void 0 ? '' : _audioLists$find$lyri;\r\n\r\n        var loadAudio = function loadAudio(musicSrc) {\r\n          _this.setState({\r\n            name: name,\r\n            cover: cover,\r\n            musicSrc: musicSrc,\r\n            singer: singer,\r\n            playId: playId,\r\n            lyric: lyric,\r\n            currentTime: 0,\r\n            duration: 0,\r\n            playing: false,\r\n            loading: true,\r\n            loadProgress: 0\r\n          }, function () {\r\n            _this.initLyricParser();\r\n\r\n            _this.audio.load();\r\n          });\r\n\r\n          _this.props.onAudioPlayTrackChange && _this.props.onAudioPlayTrackChange(playId, audioLists, _this.getBaseAudioInfo());\r\n        };\r\n\r\n        switch (_typeof(musicSrc)) {\r\n          case 'function':\r\n            musicSrc().then(function (originMusicSrc) {\r\n              loadAudio(originMusicSrc);\r\n            }, _this.onAudioLoadError);\r\n            break;\r\n\r\n          default:\r\n            loadAudio(musicSrc);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"resetAudioStatus\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.audio.pause();\r\n\r\n        _this.initPlayInfo([]);\r\n\r\n        _this.setState({\r\n          currentTime: 0,\r\n          duration: 0,\r\n          loading: false,\r\n          playing: false,\r\n          pause: true,\r\n          currentLyric: ''\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"deleteAudioLists\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(audioId) {\r\n        return function (e) {\r\n          e.stopPropagation(); //  id  \r\n\r\n          var _this$state2 = _this.state,\r\n              audioLists = _this$state2.audioLists,\r\n              playId = _this$state2.playId;\r\n\r\n          if (audioLists.length < 1) {\r\n            return;\r\n          }\r\n\r\n          _this.lyric && _this.lyric.stop();\r\n\r\n          var newAudioLists = _toConsumableArray(audioLists).filter(function (audio) {\r\n            return audio.id !== audioId;\r\n          });\r\n\r\n          if (!audioId) {\r\n            return _this.resetAudioStatus();\r\n          } //, \r\n\r\n\r\n          _this.setState({\r\n            removeId: audioId\r\n          });\r\n\r\n          setTimeout(function () {\r\n            _this.setState({\r\n              audioLists: newAudioLists,\r\n              removeId: -1\r\n            }, function () {\r\n              if (!newAudioLists.length) {\r\n                return _this.resetAudioStatus();\r\n              } //  \r\n\r\n\r\n              if (audioId === playId) {\r\n                _this.handlePlay(_this.PLAY_MODE['orderLoop']['key']);\r\n              }\r\n            });\r\n          }, _this.audioListRemoveAnimateTime);\r\n          _this.props.onAudioListsChange && _this.props.onAudioListsChange(playId, newAudioLists, _this.getBaseAudioInfo());\r\n        };\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"openAudioListsPanel\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState(function (_ref4) {\r\n          var audioListsPanelVisible = _ref4.audioListsPanelVisible,\r\n              initAnimate = _ref4.initAnimate;\r\n          return {\r\n            initAnimate: true,\r\n            audioListsPanelVisible: !audioListsPanelVisible\r\n          };\r\n        });\r\n\r\n        _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(!_this.state.audioListsPanelVisible);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"closeAudioListsPanel\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e) {\r\n        e.stopPropagation();\r\n\r\n        _this.setState({\r\n          audioListsPanelVisible: false\r\n        });\r\n\r\n        _this.props.onAudioListsPanelChange && _this.props.onAudioListsPanelChange(false);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"themeChange\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(isLight) {\r\n        var theme = isLight ? _this.lightThemeName : _this.darkThemeName;\r\n\r\n        _this.setState({\r\n          theme: theme\r\n        });\r\n\r\n        _this.props.onThemeChange && _this.props.onThemeChange(theme);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioDownload\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        if (_this.state.musicSrc) {\r\n          var baseAudioInfo = _this.getBaseAudioInfo();\r\n\r\n          var onBeforeAudioDownload = _this.props.onBeforeAudioDownload(baseAudioInfo);\r\n\r\n          var transformedDownloadAudioInfo = {};\r\n\r\n          if (onBeforeAudioDownload && onBeforeAudioDownload.then) {\r\n            onBeforeAudioDownload.then(function (info) {\r\n              var src = info.src,\r\n                  filename = info.filename,\r\n                  mimeType = info.mimeType;\r\n              transformedDownloadAudioInfo = info;\r\n              (0, _downloadjs.default)(src, filename, mimeType);\r\n            });\r\n          } else {\r\n            (0, _downloadjs.default)(_this.state.musicSrc);\r\n          }\r\n\r\n          _this.props.onAudioDownload && _this.props.onAudioDownload(baseAudioInfo, transformedDownloadAudioInfo);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"controllerMouseMove\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e, _ref5) {\r\n        var deltaX = _ref5.deltaX,\r\n            deltaY = _ref5.deltaY;\r\n\r\n        var isMove = Math.abs(deltaX) >= _this.openPanelPeriphery || Math.abs(deltaY) >= _this.openPanelPeriphery;\r\n\r\n        _this.setState({\r\n          isMove: isMove\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"controllerMouseUp\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e, _ref6) {\r\n        var x = _ref6.x,\r\n            y = _ref6.y;\r\n\r\n        if (!_this.state.isMove) {\r\n          if (_this.state.isNeedMobileHack) {\r\n            _this.loadAndPlayAudio();\r\n\r\n            _this.setState({\r\n              isNeedMobileHack: false\r\n            });\r\n          }\r\n\r\n          _this.openPanel();\r\n        }\r\n\r\n        _this.setState({\r\n          moveX: x,\r\n          moveY: y\r\n        });\r\n\r\n        return false;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"controllerMouseOut\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e) {\r\n        e.preventDefault();\r\n        _this.isDrag = false;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onHandleProgress\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(_value) {\r\n        _this.audio.currentTime = _value;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onSound\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setAudioVolume(_this.state.currentAudioVolume);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"setAudioVolume\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(_value2) {\r\n        _this.audio.volume = _value2;\r\n\r\n        _this.setState({\r\n          currentAudioVolume: _value2,\r\n          soundValue: _value2\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"stopAll\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(target) {\r\n        target.stopPropagation();\r\n        target.preventDefault();\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"getBoundingClientRect\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(ele) {\r\n        var _ele$getBoundingClien = ele.getBoundingClientRect(),\r\n            left = _ele$getBoundingClien.left,\r\n            top = _ele$getBoundingClien.top;\r\n\r\n        return {\r\n          left: left,\r\n          top: top\r\n        };\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioLoop\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState(function (_ref7) {\r\n          var isLoop = _ref7.isLoop;\r\n          return {\r\n            isLoop: !isLoop\r\n          };\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioReload\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.handlePlay(_this.PLAY_MODE['singleLoop']['key']);\r\n\r\n        _this.props.onAudioReload && _this.props.onAudioReload(_this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"openPanel\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        if (_this.props.toggleMode) {\r\n          _this.setState({\r\n            toggle: true\r\n          });\r\n\r\n          _this.props.onModeChange && _this.props.onModeChange(_this.toggleModeName.full);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onHidePanel\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e) {\r\n        _this.setState({\r\n          toggle: false,\r\n          audioListsPanelVisible: false\r\n        });\r\n\r\n        _this.props.onModeChange && _this.props.onModeChange(_this.toggleModeName.mini);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        if (_this.state.audioLists.length >= 1) {\r\n          _this.lyric.togglePlay();\r\n\r\n          if (_this.state.playing) {\r\n            _this._pauseAudio();\r\n          } else {\r\n            _this.loadAndPlayAudio();\r\n\r\n            _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\r\n          }\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"canPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setAudioLength();\r\n\r\n        _this.loadAndPlayAudio();\r\n\r\n        _this.setState({\r\n          loading: false,\r\n          playing: _this.props.autoPlay\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"_pauseAudio\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.audio.pause();\r\n\r\n        _this.setState({\r\n          playing: false,\r\n          pause: true\r\n        }, function () {\r\n          _this.lyric && _this.lyric.stop();\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onPauseAudio\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.lyric && _this.lyric.stop();\r\n        _this.props.onAudioPause && _this.props.onAudioPause(_this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"loadAndPlayAudio\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _this$props = _this.props,\r\n            autoPlay = _this$props.autoPlay,\r\n            remember = _this$props.remember;\r\n        var _this$state3 = _this.state,\r\n            isInitAutoplay = _this$state3.isInitAutoplay,\r\n            isInitRemember = _this$state3.isInitRemember,\r\n            loadProgress = _this$state3.loadProgress;\r\n        var networkState = _this.audio.networkState;\r\n        var maxLoadProgress = 100;\r\n\r\n        _this.setState({\r\n          loading: true\r\n        });\r\n\r\n        if (loadProgress < maxLoadProgress) {\r\n          _this.setState({\r\n            loadProgress: loadProgress + 1\r\n          });\r\n        }\r\n\r\n        if ( // readyState === this.READY_SUCCESS_STATE &&\r\n        networkState !== _this.NETWORK_STATE.NETWORK_NO_SOURCE) {\r\n          var _this$getLastPlayStat = _this.getLastPlayStatus(),\r\n              pause = _this$getLastPlayStat.pause;\r\n\r\n          var isLastPause = remember && !isInitRemember && pause;\r\n          var canPlay = isInitAutoplay || autoPlay === true;\r\n\r\n          _this.setState({\r\n            playing: remember ? !isLastPause : canPlay,\r\n            loading: false,\r\n            pause: remember ? isLastPause : !canPlay,\r\n            loadProgress: maxLoadProgress\r\n          }, function () {\r\n            if (remember ? !isLastPause : canPlay) {\r\n              // fuck Safari is need muted :(\r\n              // this.audio.muted = true\r\n              _this.audio.play();\r\n            }\r\n\r\n            _this.setState({\r\n              isInitAutoplay: true,\r\n              isInitRemember: true\r\n            });\r\n          });\r\n        } else {\r\n          _this.onAudioLoadError();\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"setAudioLength\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState({\r\n          duration: _this.audio.duration\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioLoadError\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e) {\r\n        var _this$state4 = _this.state,\r\n            playMode = _this$state4.playMode,\r\n            audioLists = _this$state4.audioLists,\r\n            playId = _this$state4.playId,\r\n            musicSrc = _this$state4.musicSrc;\r\n\r\n        _this.lyric.stop(); // \r\n\r\n\r\n        var loadAudioErrorPlayNext = _this.props.loadAudioErrorPlayNext;\r\n\r\n        if (loadAudioErrorPlayNext && playId < audioLists.length - 1) {\r\n          _this.handlePlay(playMode);\r\n        } // \r\n        //  https://developer.mozilla.org/en-US/docs/Web/API/MediaError\r\n\r\n\r\n        if (musicSrc) {\r\n          var info = _this.getBaseAudioInfo();\r\n\r\n          _this.props.onAudioLoadError && _this.props.onAudioLoadError(_objectSpread({}, e, {\r\n            audioInfo: info,\r\n            errMsg: _this.audio.error || null\r\n          }));\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"handlePlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(playMode) {\r\n        var isNext = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\r\n        var IconNode = '';\r\n        var _this$state5 = _this.state,\r\n            playId = _this$state5.playId,\r\n            audioLists = _this$state5.audioLists;\r\n        var audioListsLen = audioLists.length;\r\n        var currentPlayIndex = audioLists.findIndex(function (audio) {\r\n          return audio.id === playId;\r\n        });\r\n\r\n        switch (playMode) {\r\n          //\r\n          case _this.PLAY_MODE['order']['key']:\r\n            IconNode = _react.default.createElement(_viewHeadline.default, null); //     \r\n\r\n            if (currentPlayIndex === audioListsLen - 1) return _this._pauseAudio();\r\n\r\n            _this.audioListsPlay(isNext ? audioLists[currentPlayIndex + 1].id : audioLists[currentPlayIndex - 1].id);\r\n\r\n            break;\r\n          //\r\n\r\n          case _this.PLAY_MODE['orderLoop']['key']:\r\n            IconNode = _react.default.createElement(_repeat.default, null);\r\n\r\n            if (isNext) {\r\n              if (currentPlayIndex === audioListsLen - 1) {\r\n                return _this.audioListsPlay(audioLists[0].id);\r\n              }\r\n\r\n              _this.audioListsPlay(audioLists[currentPlayIndex + 1].id);\r\n            } else {\r\n              if (currentPlayIndex === 0) {\r\n                return _this.audioListsPlay(audioLists[audioListsLen - 1].id);\r\n              }\r\n\r\n              _this.audioListsPlay(audioLists[currentPlayIndex - 1].id);\r\n            }\r\n\r\n            break;\r\n          //\r\n\r\n          case _this.PLAY_MODE['singleLoop']['key']:\r\n            IconNode = _react.default.createElement(_repeatOne.default, null);\r\n            _this.audio.currentTime = 0;\r\n\r\n            _this.audioListsPlay(playId, true);\r\n\r\n            break;\r\n          //\r\n\r\n          case _this.PLAY_MODE['shufflePlay']['key']:\r\n            {\r\n              IconNode = _react.default.createElement(_arrowShuffle.default, null);\r\n              var randomIndex = (0, _utils.createRandomNum)(0, audioListsLen - 1);\r\n              var randomPlayId = (audioLists[randomIndex] || {}).id;\r\n\r\n              _this.audioListsPlay(randomPlayId, true);\r\n            }\r\n            break;\r\n\r\n          default:\r\n            IconNode = _react.default.createElement(_viewHeadline.default, null);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioEnd\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.props.onAudioEnded && _this.props.onAudioEnded(_this.getBaseAudioInfo());\r\n\r\n        _this.handlePlay(_this.state.playMode);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioPrevAndNextBasePlayHandle\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var isNext = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\r\n        var playMode = _this.state.playMode;\r\n        var _playMode = '';\r\n\r\n        switch (playMode) {\r\n          case _this.PLAY_MODE['shufflePlay']['key']:\r\n            _playMode = playMode;\r\n            break;\r\n\r\n          default:\r\n            _playMode = _this.PLAY_MODE['orderLoop']['key'];\r\n            break;\r\n        }\r\n\r\n        _this.handlePlay(_playMode, isNext);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioPrevPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.audioPrevAndNextBasePlayHandle(false);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioNextPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.audioPrevAndNextBasePlayHandle(true);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioTimeUpdate\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var currentTime = _this.audio.currentTime;\r\n\r\n        _this.setState({\r\n          currentTime: currentTime\r\n        });\r\n\r\n        if (_this.props.remember) {\r\n          _this.saveLastPlayStatus();\r\n        }\r\n\r\n        _this.props.onAudioProgress && _this.props.onAudioProgress(_this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioSoundChange\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(_value3) {\r\n        _this.setAudioVolume(_value3);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioVolumeChange\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState({\r\n          isMute: _this.audio.volume <= 0\r\n        });\r\n\r\n        _this.props.onAudioVolumeChange && _this.props.onAudioVolumeChange(_this.audio.volume);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioPlay\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState({\r\n          playing: true,\r\n          loading: false\r\n        }, _this.initLyricParser);\r\n\r\n        _this.props.onAudioPlay && _this.props.onAudioPlay(_this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioSeeked\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        if (_this.state.audioLists.length >= 1) {\r\n          if (_this.state.playing) {\r\n            _this.loadAndPlayAudio();\r\n\r\n            setTimeout(function () {\r\n              _this.setState({\r\n                playing: true\r\n              });\r\n\r\n              _this.lyric.seek(_this.getLyricPlayTime());\r\n            });\r\n          }\r\n\r\n          _this.props.onAudioSeeked && _this.props.onAudioSeeked(_this.getBaseAudioInfo());\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onMute\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.setState({\r\n          isMute: true,\r\n          soundValue: 0,\r\n          currentAudioVolume: _this.audio.volume\r\n        }, function () {\r\n          _this.audio.volume = 0;\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onAudioAbort\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(e) {\r\n        var audioLists = _this.state.audioLists;\r\n\r\n        var audioInfo = _this.getBaseAudioInfo();\r\n\r\n        var mergedError = Object.assign({}, e, audioInfo);\r\n        _this.props.onAudioAbort && _this.props.onAudioAbort(mergedError);\r\n\r\n        if (audioLists.length) {\r\n          _this.audio.pause();\r\n\r\n          _this.audio.play();\r\n\r\n          _this.lyric.stop();\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"toggleMode\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(mode) {\r\n        if (mode === _this.toggleModeName['full']) {\r\n          _this.setState({\r\n            toggle: true\r\n          });\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"audioListsDragEnd\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(fromIndex, toIndex) {\r\n        var _this$state6 = _this.state,\r\n            playId = _this$state6.playId,\r\n            audioLists = _this$state6.audioLists;\r\n\r\n        var _audioLists = _toConsumableArray(audioLists);\r\n\r\n        var item = _audioLists.splice(fromIndex, 1)[0];\r\n\r\n        _audioLists.splice(toIndex, 0, item); // Id  index\r\n\r\n\r\n        var _playId = fromIndex === playId ? toIndex : playId;\r\n\r\n        _this.setState({\r\n          audioLists: _audioLists,\r\n          playId: _playId\r\n        });\r\n\r\n        _this.props.onAudioListsDragEnd && _this.props.onAudioListsDragEnd(fromIndex, toIndex);\r\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(_playId, _audioLists, _this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"saveLastPlayStatus\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _this$state7 = _this.state,\r\n            currentTime = _this$state7.currentTime,\r\n            playId = _this$state7.playId,\r\n            duration = _this$state7.duration,\r\n            theme = _this$state7.theme,\r\n            soundValue = _this$state7.soundValue,\r\n            playMode = _this$state7.playMode,\r\n            name = _this$state7.name,\r\n            cover = _this$state7.cover,\r\n            singer = _this$state7.singer,\r\n            musicSrc = _this$state7.musicSrc,\r\n            pause = _this$state7.pause;\r\n        var lastPlayStatus = JSON.stringify({\r\n          currentTime: currentTime,\r\n          playId: playId,\r\n          duration: duration,\r\n          theme: theme,\r\n          playMode: playMode,\r\n          soundValue: soundValue,\r\n          name: name,\r\n          cover: cover,\r\n          singer: singer,\r\n          musicSrc: musicSrc,\r\n          pause: pause\r\n        });\r\n        localStorage.setItem('lastPlayStatus', lastPlayStatus);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"getLastPlayStatus\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _this$props2 = _this.props,\r\n            theme = _this$props2.theme,\r\n            defaultPlayMode = _this$props2.defaultPlayMode;\r\n        var status = {\r\n          currentTime: 0,\r\n          duration: 0,\r\n          playMode: defaultPlayMode,\r\n          name: '',\r\n          cover: '',\r\n          singer: '',\r\n          musicSrc: '',\r\n          lyric: '',\r\n          playId: _this.getDefaultPlayId(),\r\n          theme: theme,\r\n          pause: false\r\n        };\r\n\r\n        try {\r\n          return JSON.parse(localStorage.getItem('lastPlayStatus')) || status;\r\n        } catch (error) {\r\n          return status;\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"mockAutoPlayForMobile\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        if (_this.props.autoPlay && !_this.state.playing && _this.state.pause) {\r\n          _this.audio.load();\r\n\r\n          _this.audio.pause();\r\n\r\n          _this.audio.play();\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"bindMobileAutoPlayEvents\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        document.addEventListener('touchstart', function () {\r\n          _this.mockAutoPlayForMobile();\r\n        }, {\r\n          once: true\r\n        }); //\r\n\r\n        document.addEventListener('WeixinJSBridgeReady', function () {\r\n          _this.mockAutoPlayForMobile();\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"bindSafariAutoPlayEvents\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        document.addEventListener('click', function () {\r\n          _this.mockAutoPlayForMobile();\r\n        }, {\r\n          once: true\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"unBindEvents\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _this2;\r\n\r\n        (_this2 = _this).bindEvents.apply(_this2, arguments);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"bindEvents\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.audio;\r\n        var eventsNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\r\n          waiting: _this.loadAndPlayAudio,\r\n          canplay: _this.canPlay,\r\n          error: _this.onAudioLoadError,\r\n          ended: _this.audioEnd,\r\n          seeked: _this.onAudioSeeked,\r\n          pause: _this.onPauseAudio,\r\n          play: _this.onAudioPlay,\r\n          timeupdate: _this.audioTimeUpdate,\r\n          volumechange: _this.onAudioVolumeChange,\r\n          stalled: _this.onAudioLoadError,\r\n          //\r\n          abort: _this.onAudioAbort\r\n        };\r\n        var bind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\r\n        var once = _this.props.once;\r\n\r\n        for (var name in eventsNames) {\r\n          var _events = eventsNames[name];\r\n          bind ? target.addEventListener(name, _events, {\r\n            once: !!(once && name === 'play')\r\n          }) : target.removeEventListener(name, _events);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"getPlayInfo\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n        var newAudioLists = audioLists.filter(function (audio) {\r\n          return !audio['id'];\r\n        });\r\n        var lastAudioLists = audioLists.filter(function (audio) {\r\n          return audio['id'];\r\n        });\r\n\r\n        var _audioLists = _toConsumableArray(lastAudioLists).concat(_toConsumableArray(newAudioLists.map(function (info) {\r\n          return _objectSpread({}, info, {\r\n            id: (0, _utils.uuId)()\r\n          });\r\n        })));\r\n\r\n        var playIndex = Math.max(0, Math.min(_audioLists.length, _this.props.defaultPlayIndex));\r\n        var playId = _this.state.playId || _audioLists[playIndex].id;\r\n\r\n        var _ref8 = _audioLists.find(function (_ref9) {\r\n          var id = _ref9.id;\r\n          return id === playId;\r\n        }) || {},\r\n            _ref8$name = _ref8.name,\r\n            name = _ref8$name === void 0 ? '' : _ref8$name,\r\n            _ref8$cover = _ref8.cover,\r\n            cover = _ref8$cover === void 0 ? '' : _ref8$cover,\r\n            _ref8$singer = _ref8.singer,\r\n            singer = _ref8$singer === void 0 ? '' : _ref8$singer,\r\n            _ref8$musicSrc = _ref8.musicSrc,\r\n            musicSrc = _ref8$musicSrc === void 0 ? '' : _ref8$musicSrc,\r\n            _ref8$lyric = _ref8.lyric,\r\n            lyric = _ref8$lyric === void 0 ? '' : _ref8$lyric;\r\n\r\n        return {\r\n          name: name,\r\n          cover: cover,\r\n          singer: singer,\r\n          musicSrc: musicSrc,\r\n          lyric: lyric,\r\n          audioLists: _audioLists,\r\n          playId: playId\r\n        };\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"initPlayInfo\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(audioLists, cb) {\r\n        var info = _this.getPlayInfo(audioLists);\r\n\r\n        switch (_typeof(info.musicSrc)) {\r\n          case 'function':\r\n            info.musicSrc().then(function (originMusicSrc) {\r\n              _this.setState(_objectSpread({}, info, {\r\n                musicSrc: originMusicSrc\r\n              }), cb);\r\n            }, _this.onAudioLoadError);\r\n            break;\r\n\r\n          default:\r\n            _this.setState(info, cb);\r\n\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"listenerIsMobile\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(_ref10) {\r\n        var matches = _ref10.matches;\r\n\r\n        _this.setState({\r\n          isMobile: !!matches\r\n        });\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"addMobileListener\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.media = window.matchMedia('(max-width: 768px) and (orientation : portrait)');\r\n\r\n        _this.media.addListener(_this.listenerIsMobile);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"setDefaultAudioVolume\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _this$props3 = _this.props,\r\n            defaultVolume = _this$props3.defaultVolume,\r\n            remember = _this$props3.remember; // [0-100]\r\n\r\n        _this.defaultVolume = Math.max(0, Math.min(defaultVolume, 100)) / 100;\r\n\r\n        var _this$getLastPlayStat2 = _this.getLastPlayStatus(),\r\n            _this$getLastPlayStat3 = _this$getLastPlayStat2.soundValue,\r\n            soundValue = _this$getLastPlayStat3 === void 0 ? _this.defaultVolume : _this$getLastPlayStat3;\r\n\r\n        _this.setAudioVolume(remember ? soundValue : _this.defaultVolume);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"getDefaultPlayId\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var audioLists = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.audioLists;\r\n        var playIndex = Math.max(0, Math.min(audioLists.length, _this.props.defaultPlayIndex));\r\n        return audioLists[playIndex] && audioLists[playIndex].id;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"getLyricPlayTime\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        var _formatTime$split = (0, _utils.formatTime)(_this.audio.currentTime).split(':'),\r\n            _formatTime$split2 = _slicedToArray(_formatTime$split, 2),\r\n            m = _formatTime$split2[0],\r\n            s = _formatTime$split2[1];\r\n\r\n        return m * 1000 + s * 10;\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"initLyricParser\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.lyric = undefined;\r\n        _this.lyric = new _lyric.default(_this.state.lyric, _this.onLyricChange);\r\n\r\n        _this.lyric.stop();\r\n\r\n        if (_this.props.showLyric && _this.state.playing) {\r\n          _this.lyric.seek(_this.getLyricPlayTime());\r\n\r\n          _this.lyric.play();\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onLyricChange\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(_ref11) {\r\n        var lineNum = _ref11.lineNum,\r\n            txt = _ref11.txt;\r\n\r\n        _this.setState({\r\n          currentLyric: txt\r\n        });\r\n\r\n        _this.props.onAudioLyricChange && _this.props.onAudioLyricChange(lineNum, txt);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"updateTheme\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(theme) {\r\n        if (theme && (theme === _this.lightThemeName || theme === _this.darkThemeName)) {\r\n          _this.setState({\r\n            theme: theme\r\n          });\r\n\r\n          _this.props.onThemeChange && _this.props.onThemeChange(theme);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"updateMode\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(mode) {\r\n        if (mode && mode !== _this.props.mode && (mode === _this.toggleModeName.full || mode === _this.toggleModeName.mini)) {\r\n          _this.setState({\r\n            toggle: mode === _this.toggleModeName.full\r\n          });\r\n\r\n          _this.props.onModeChange && _this.props.onModeChange(mode);\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"updateAudioLists\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(audioLists) {\r\n        var newAudioLists = _toConsumableArray(_this.state.audioLists).concat(_toConsumableArray(audioLists.filter(function (audio) {\r\n          return _this.state.audioLists.findIndex(function (v) {\r\n            return v.musicSrc === audio.musicSrc;\r\n          }) === -1;\r\n        })));\r\n\r\n        _this.initPlayInfo(newAudioLists);\r\n\r\n        _this.bindEvents(_this.audio);\r\n\r\n        _this.props.onAudioListsChange && _this.props.onAudioListsChange(_this.state.playId, this.state.audioLists, _this.getBaseAudioInfo());\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"updatePlayIndex\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value(playIndex) {\r\n        //  \r\n        var currentPlayIndex = _this.state.audioLists.findIndex(function (audio) {\r\n          return audio.id === _this.state.playId;\r\n        });\r\n\r\n        if (currentPlayIndex !== playIndex) {\r\n          var _playIndex = Math.max(0, Math.min(_this.state.audioLists.length, playIndex));\r\n\r\n          var currentPlay = _this.state.audioLists[_playIndex];\r\n\r\n          if (currentPlay && currentPlay.id) {\r\n            _this.audioListsPlay(currentPlay.id, true);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"onGetAudioInstance\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        _this.props.getAudioInstance && _this.props.getAudioInstance(_this.audio);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"bindUnhandledRejection\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        window.addEventListener('unhandledrejection', _this.onAudioLoadError);\r\n      }\r\n    });\r\n    Object.defineProperty(_assertThisInitialized(_this), \"unBindUnhandledRejection\", {\r\n      configurable: true,\r\n      enumerable: true,\r\n      writable: true,\r\n      value: function value() {\r\n        window.removeEventListener('unhandledrejection', _this.onAudioLoadError);\r\n      }\r\n    });\r\n    _this.audio = null; //\r\n\r\n    _this.lightThemeName = 'light';\r\n    _this.darkThemeName = 'dark'; //\r\n\r\n    _this.toggleModeName = {\r\n      full: 'full',\r\n      mini: 'mini'\r\n    };\r\n    _this.targetId = 'music-player-controller';\r\n    _this.openPanelPeriphery = 1; //   panel\r\n\r\n    _this.x = 0;\r\n    _this.y = 0;\r\n    _this.isDrag = false;\r\n    var _props$playModeText = props.playModeText,\r\n        order = _props$playModeText.order,\r\n        orderLoop = _props$playModeText.orderLoop,\r\n        singleLoop = _props$playModeText.singleLoop,\r\n        shufflePlay = _props$playModeText.shufflePlay; //\r\n\r\n    _this.PLAY_MODE = {\r\n      order: {\r\n        key: 'order',\r\n        value: order\r\n      },\r\n      orderLoop: {\r\n        key: 'orderLoop',\r\n        value: orderLoop\r\n      },\r\n      singleLoop: {\r\n        key: 'singleLoop',\r\n        value: singleLoop\r\n      },\r\n      shufflePlay: {\r\n        key: 'shufflePlay',\r\n        value: shufflePlay\r\n      }\r\n    };\r\n    _this._PLAY_MODE_ = Object.values(_this.PLAY_MODE);\r\n    _this._PLAY_MODE_LENGTH_ = _this._PLAY_MODE_.length;\r\n    return _this;\r\n  }\r\n\r\n  _createClass(ReactJkMusicPlayer, [{\r\n    key: \"render\",\r\n    value: function render() {\r\n      var _this3 = this;\r\n\r\n      var _props = this.props,\r\n          className = _props.className,\r\n          controllerTitle = _props.controllerTitle,\r\n          closeText = _props.closeText,\r\n          openText = _props.openText,\r\n          notContentText = _props.notContentText,\r\n          drag = _props.drag,\r\n          style = _props.style,\r\n          showDownload = _props.showDownload,\r\n          showPlay = _props.showPlay,\r\n          showReload = _props.showReload,\r\n          showPlayMode = _props.showPlayMode,\r\n          showThemeSwitch = _props.showThemeSwitch,\r\n          panelTitle = _props.panelTitle,\r\n          checkedText = _props.checkedText,\r\n          unCheckedText = _props.unCheckedText,\r\n          toggleMode = _props.toggleMode,\r\n          showMiniModeCover = _props.showMiniModeCover,\r\n          extendsContent = _props.extendsContent,\r\n          defaultPlayMode = _props.defaultPlayMode,\r\n          seeked = _props.seeked,\r\n          showProgressLoadBar = _props.showProgressLoadBar,\r\n          bounds = _props.bounds,\r\n          defaultPosition = _props.defaultPosition,\r\n          showMiniProcessBar = _props.showMiniProcessBar,\r\n          preload = _props.preload,\r\n          glassBg = _props.glassBg,\r\n          remove = _props.remove,\r\n          lyricClassName = _props.lyricClassName,\r\n          showLyric = _props.showLyric,\r\n          emptyLyricPlaceholder = _props.emptyLyricPlaceholder,\r\n          getContainer = _props.getContainer,\r\n          autoHiddenCover = _props.autoHiddenCover;\r\n      var _state = this.state,\r\n          toggle = _state.toggle,\r\n          playing = _state.playing,\r\n          duration = _state.duration,\r\n          currentTime = _state.currentTime,\r\n          isMute = _state.isMute,\r\n          soundValue = _state.soundValue,\r\n          moveX = _state.moveX,\r\n          moveY = _state.moveY,\r\n          loading = _state.loading,\r\n          audioListsPanelVisible = _state.audioListsPanelVisible,\r\n          pause = _state.pause,\r\n          theme = _state.theme,\r\n          name = _state.name,\r\n          cover = _state.cover,\r\n          singer = _state.singer,\r\n          musicSrc = _state.musicSrc,\r\n          playId = _state.playId,\r\n          isMobile = _state.isMobile,\r\n          playMode = _state.playMode,\r\n          playModeTipVisible = _state.playModeTipVisible,\r\n          playModelNameVisible = _state.playModelNameVisible,\r\n          initAnimate = _state.initAnimate,\r\n          loadProgress = _state.loadProgress,\r\n          audioLists = _state.audioLists,\r\n          removeId = _state.removeId,\r\n          currentLyric = _state.currentLyric,\r\n          audioLyricVisible = _state.audioLyricVisible;\r\n      var preloadState = preload === false || preload === 'none' ? {} : preload === true ? {\r\n        preload: 'auto'\r\n      } : {\r\n        preload: preload\r\n      };\r\n      var panelToggleAnimate = initAnimate ? {\r\n        show: audioListsPanelVisible,\r\n        hide: !audioListsPanelVisible\r\n      } : {\r\n        show: audioListsPanelVisible\r\n      };\r\n      var _playMode_ = this.PLAY_MODE[playMode || defaultPlayMode];\r\n      var currentPlayMode = _playMode_['key'];\r\n      var currentPlayModeName = _playMode_['value'];\r\n      var isShowMiniModeCover = showMiniModeCover && !autoHiddenCover || autoHiddenCover && cover ? {\r\n        style: {\r\n          backgroundImage: \"url(\".concat(cover, \")\")\r\n        }\r\n      } : {};\r\n\r\n      var _currentTime = (0, _utils.formatTime)(currentTime);\r\n\r\n      var _duration = (0, _utils.formatTime)(duration);\r\n\r\n      var progressHandler = seeked ? {\r\n        onChange: this.onHandleProgress,\r\n        onAfterChange: this.onAudioSeeked\r\n      } : {}; //\r\n\r\n      var ProgressBar = _react.default.createElement(_Slider.default, _extends({\r\n        max: Math.ceil(duration),\r\n        defaultValue: 0,\r\n        value: Math.ceil(currentTime)\r\n      }, progressHandler, sliderBaseOptions)); //\r\n\r\n\r\n      var DownloadComponent = showDownload && _react.default.createElement(\"span\", _extends({\r\n        className: \"group audio-download\"\r\n      }, _defineProperty({}, IS_MOBILE ? 'onTouchStart' : 'onClick', this.onAudioDownload)), _react.default.createElement(_cloudDownload.default, null)); //\r\n\r\n\r\n      var ThemeSwitchComponent = showThemeSwitch && _react.default.createElement(\"span\", {\r\n        className: \"group theme-switch\"\r\n      }, _react.default.createElement(_rcSwitch.default, {\r\n        className: \"theme-switch-container\",\r\n        onChange: this.themeChange,\r\n        checkedChildren: checkedText,\r\n        unCheckedChildren: unCheckedText,\r\n        checked: theme === this.lightThemeName\r\n      })); //\r\n\r\n\r\n      var ReloadComponent = showReload && _react.default.createElement(\"span\", _extends({\r\n        className: \"group reload-btn\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.onAudioReload\r\n      } : {\r\n        onClick: this.onAudioReload\r\n      }, {\r\n        key: \"reload-btn\",\r\n        title: \"Reload\"\r\n      }), _react.default.createElement(_refresh.default, null)); //\r\n\r\n\r\n      var LyricComponent = showLyric && _react.default.createElement(\"span\", _extends({\r\n        className: (0, _classnames.default)('group lyric-btn', {\r\n          'lyric-btn-active': audioLyricVisible\r\n        })\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.toggleAudioLyric\r\n      } : {\r\n        onClick: this.toggleAudioLyric\r\n      }, {\r\n        key: \"lyric-btn\",\r\n        title: \"toggle lyric\"\r\n      }), _react.default.createElement(_angellist.default, null)); //\r\n\r\n\r\n      var PlayModeComponent = showPlayMode ? _react.default.createElement(\"span\", _extends({\r\n        className: (0, _classnames.default)('group loop-btn')\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.togglePlayMode\r\n      } : {\r\n        onClick: this.togglePlayMode\r\n      }, {\r\n        key: \"play-mode-btn\",\r\n        title: this.PLAY_MODE[currentPlayMode]['value']\r\n      }), this.renderPlayModeIcon(currentPlayMode)) : undefined;\r\n      var miniProcessBarR = isMobile ? 30 : 40;\r\n\r\n      var AudioController = _react.default.createElement(\"div\", {\r\n        className: (0, _classnames.default)('react-jinke-music-player'),\r\n        key: \"react-jinke-music-player\",\r\n        style: defaultPosition\r\n      }, _react.default.createElement(\"div\", {\r\n        className: (0, _classnames.default)('music-player'),\r\n        key: \"music-player\"\r\n      }, showMiniProcessBar ? _react.default.createElement(CircleProcessBar, {\r\n        progress: currentTime / duration,\r\n        r: miniProcessBarR\r\n      }) : undefined, _react.default.createElement(\"div\", _extends({\r\n        key: \"controller\",\r\n        id: this.targetId,\r\n        className: (0, _classnames.default)('scale', 'music-player-controller', {\r\n          'music-player-playing': this.state.playing\r\n        })\r\n      }, isShowMiniModeCover), loading ? _react.default.createElement(Load, null) : _react.default.createElement(_react.Fragment, null, _react.default.createElement(\"span\", {\r\n        className: \"controller-title\",\r\n        key: \"controller-title\"\r\n      }, controllerTitle), _react.default.createElement(\"div\", {\r\n        key: \"setting\",\r\n        className: \"music-player-controller-setting\"\r\n      }, toggle ? closeText : openText)))));\r\n\r\n      var container = getContainer() || document.body;\r\n      return (0, _reactDom.createPortal)(_react.default.createElement(\"div\", {\r\n        className: (0, _classnames.default)('react-jinke-music-player-main', {\r\n          'light-theme': theme === this.lightThemeName,\r\n          'dark-theme': theme === this.darkThemeName\r\n        }, className),\r\n        style: style\r\n      }, toggle && isMobile ? _react.default.createElement(_PlayerMobile.default, {\r\n        playing: playing,\r\n        loading: loading,\r\n        pause: pause,\r\n        name: name,\r\n        singer: singer,\r\n        cover: cover,\r\n        themeSwitch: ThemeSwitchComponent,\r\n        duration: _duration,\r\n        currentTime: _currentTime,\r\n        progressBar: ProgressBar,\r\n        onPlay: this.onPlay,\r\n        currentPlayModeName: this.PLAY_MODE[currentPlayMode]['value'],\r\n        playMode: PlayModeComponent,\r\n        audioNextPlay: this.audioNextPlay,\r\n        audioPrevPlay: this.audioPrevPlay,\r\n        playListsIcon: _react.default.createElement(_queueMusic.default, null),\r\n        reloadIcon: ReloadComponent,\r\n        downloadIcon: DownloadComponent,\r\n        nextAudioIcon: _react.default.createElement(_skipNext.default, null),\r\n        prevAudioIcon: _react.default.createElement(_skipPrevious.default, null),\r\n        playIcon: _react.default.createElement(AnimatePlayIcon, null),\r\n        pauseIcon: _react.default.createElement(AnimatePauseIcon, null),\r\n        closeIcon: _react.default.createElement(_close.default, null),\r\n        loadingIcon: _react.default.createElement(Load, null),\r\n        playModeTipVisible: playModeTipVisible,\r\n        openAudioListsPanel: this.openAudioListsPanel,\r\n        onClose: this.onHidePanel,\r\n        extendsContent: extendsContent,\r\n        glassBg: glassBg,\r\n        LyricIcon: LyricComponent,\r\n        autoHiddenCover: autoHiddenCover\r\n      }) : undefined, toggle ? undefined : drag ? _react.default.createElement(_reactDraggable.default, {\r\n        bounds: bounds,\r\n        position: {\r\n          x: moveX,\r\n          y: moveY\r\n        },\r\n        onDrag: this.controllerMouseMove,\r\n        onStop: this.controllerMouseUp,\r\n        onStart: this.controllerMouseMove\r\n      }, AudioController) : _react.default.createElement(_react.Fragment, null, AudioController), toggle ? isMobile ? undefined : _react.default.createElement(\"div\", {\r\n        key: \"panel\",\r\n        className: (0, _classnames.default)('music-player-panel', 'translate', {\r\n          'glass-bg': glassBg\r\n        })\r\n      }, _react.default.createElement(\"section\", {\r\n        className: \"panel-content\",\r\n        key: \"panel-content\"\r\n      }, (!autoHiddenCover || autoHiddenCover && cover) && _react.default.createElement(\"div\", {\r\n        className: (0, _classnames.default)('img-content', 'img-rotate', {\r\n          'img-rotate-pause': pause || !playing || !cover\r\n        }),\r\n        style: {\r\n          backgroundImage: \"url(\".concat(cover, \")\")\r\n        },\r\n        key: \"img-content\"\r\n      }), _react.default.createElement(\"div\", {\r\n        className: \"progress-bar-content\",\r\n        key: \"progress-bar-content\"\r\n      }, _react.default.createElement(\"span\", {\r\n        className: \"audio-title\"\r\n      }, name, \" \", singer ? \"- \".concat(singer) : ''), _react.default.createElement(\"section\", {\r\n        className: \"audio-main\"\r\n      }, _react.default.createElement(\"span\", {\r\n        key: \"current-time\",\r\n        className: \"current-time\"\r\n      }, loading ? '--' : _currentTime), _react.default.createElement(\"div\", {\r\n        className: \"progress-bar\",\r\n        key: \"progress-bar\"\r\n      }, showProgressLoadBar ? _react.default.createElement(\"div\", {\r\n        className: \"progress-load-bar\",\r\n        key: \"progress-load-bar\",\r\n        style: {\r\n          width: \"\".concat(Math.min(loadProgress, 100), \"%\")\r\n        }\r\n      }) : undefined, ProgressBar), _react.default.createElement(\"span\", {\r\n        key: \"duration\",\r\n        className: \"duration\"\r\n      }, loading ? '--' : _duration))), _react.default.createElement(\"div\", {\r\n        className: \"player-content\",\r\n        key: \"player-content\"\r\n      }, loading ? _react.default.createElement(Load, null) : showPlay ? _react.default.createElement(\"span\", {\r\n        className: \"group\"\r\n      }, _react.default.createElement(\"span\", _extends({\r\n        className: \"group prev-audio\",\r\n        title: \"Previous track\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.audioPrevPlay\r\n      } : {\r\n        onClick: this.audioPrevPlay\r\n      }), _react.default.createElement(_skipPrevious.default, null)), _react.default.createElement(\"span\", _extends({\r\n        className: \"group play-btn\",\r\n        key: \"play-btn\",\r\n        ref: function ref(node) {\r\n          return _this3.playBtn = node;\r\n        }\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.onPlay\r\n      } : {\r\n        onClick: this.onPlay\r\n      }, {\r\n        title: playing ? 'Click to pause' : 'Click to play'\r\n      }), playing ? _react.default.createElement(\"span\", null, _react.default.createElement(AnimatePauseIcon, null)) : _react.default.createElement(\"span\", null, _react.default.createElement(AnimatePlayIcon, null))), _react.default.createElement(\"span\", _extends({\r\n        className: \"group next-audio\",\r\n        title: \"Next track\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.audioNextPlay\r\n      } : {\r\n        onClick: this.audioNextPlay\r\n      }), _react.default.createElement(_skipNext.default, null))) : undefined, ReloadComponent, DownloadComponent, ThemeSwitchComponent, extendsContent && extendsContent.length >= 1 ? extendsContent.map(function (content) {\r\n        return content;\r\n      }) : undefined, _react.default.createElement(\"span\", {\r\n        className: \"group play-sounds\",\r\n        key: \"play-sound\",\r\n        title: \"Volume\"\r\n      }, isMute ? _react.default.createElement(\"span\", _extends({\r\n        className: \"sounds-icon\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.onSound\r\n      } : {\r\n        onClick: this.onSound\r\n      }), _react.default.createElement(_volumeOff.default, null)) : _react.default.createElement(\"span\", _extends({\r\n        className: \"sounds-icon\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.onMute\r\n      } : {\r\n        onClick: this.onMute\r\n      }), _react.default.createElement(_volumeUp.default, null)), _react.default.createElement(_Slider.default, _extends({\r\n        max: 1,\r\n        value: soundValue,\r\n        onChange: this.audioSoundChange,\r\n        className: \"sound-operation\"\r\n      }, sliderBaseOptions))), PlayModeComponent, LyricComponent, _react.default.createElement(\"span\", _extends({\r\n        className: \"group audio-lists-btn\",\r\n        key: \"audio-lists-btn\",\r\n        title: \"play lists\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.openAudioListsPanel\r\n      } : {\r\n        onClick: this.openAudioListsPanel\r\n      }), _react.default.createElement(\"span\", {\r\n        className: \"audio-lists-icon\"\r\n      }, _react.default.createElement(_queueMusic.default, null)), _react.default.createElement(\"span\", {\r\n        className: \"audio-lists-num\"\r\n      }, audioLists.length)), toggleMode ? _react.default.createElement(\"span\", _extends({\r\n        className: \"group hide-panel\",\r\n        key: \"hide-panel-btn\"\r\n      }, IS_MOBILE ? {\r\n        onTouchStart: this.onHidePanel\r\n      } : {\r\n        onClick: this.onHidePanel\r\n      }), _react.default.createElement(_minusSquareO.default, null)) : undefined)), _react.default.createElement(PlayModel, {\r\n        visible: playModelNameVisible,\r\n        value: currentPlayModeName\r\n      })) : undefined, _react.default.createElement(_AudioListsPanel.default, {\r\n        playId: playId,\r\n        pause: pause,\r\n        loading: loading ? _react.default.createElement(Load, null) : undefined,\r\n        visible: audioListsPanelVisible,\r\n        audioLists: audioLists,\r\n        notContentText: notContentText,\r\n        onPlay: this.audioListsPlay,\r\n        onCancel: this.closeAudioListsPanel,\r\n        playIcon: _react.default.createElement(AnimatePlayIcon, null),\r\n        pauseIcon: _react.default.createElement(AnimatePauseIcon, null),\r\n        closeIcon: _react.default.createElement(_close.default, null),\r\n        panelTitle: panelTitle,\r\n        isMobile: IS_MOBILE,\r\n        panelToggleAnimate: panelToggleAnimate,\r\n        glassBg: glassBg,\r\n        cover: cover,\r\n        remove: remove,\r\n        deleteIcon: _react.default.createElement(_trashO.default, null),\r\n        onDelete: this.deleteAudioLists,\r\n        removeId: removeId,\r\n        audioListsDragEnd: this.audioListsDragEnd\r\n      }), audioLyricVisible && _react.default.createElement(_reactDraggable.default, null, _react.default.createElement(\"div\", {\r\n        className: (0, _classnames.default)('music-player-lyric', lyricClassName)\r\n      }, currentLyric || emptyLyricPlaceholder)), _react.default.createElement(\"audio\", _extends({\r\n        className: \"music-player-audio\"\r\n      }, preloadState, {\r\n        src: musicSrc,\r\n        ref: function ref(node) {\r\n          return _this3.audio = node;\r\n        }\r\n      }))), container);\r\n    }\r\n  }, {\r\n    key: \"getBaseAudioInfo\",\r\n    // \r\n    value: function getBaseAudioInfo() {\r\n      var _state2 = this.state,\r\n          cover = _state2.cover,\r\n          name = _state2.name,\r\n          musicSrc = _state2.musicSrc,\r\n          soundValue = _state2.soundValue,\r\n          lyric = _state2.lyric;\r\n      var _audio = this.audio,\r\n          currentTime = _audio.currentTime,\r\n          duration = _audio.duration,\r\n          muted = _audio.muted,\r\n          networkState = _audio.networkState,\r\n          readyState = _audio.readyState,\r\n          played = _audio.played,\r\n          paused = _audio.paused,\r\n          ended = _audio.ended,\r\n          startDate = _audio.startDate;\r\n      return {\r\n        cover: cover,\r\n        name: name,\r\n        musicSrc: musicSrc,\r\n        volume: soundValue,\r\n        currentTime: currentTime,\r\n        duration: duration,\r\n        muted: muted,\r\n        networkState: networkState,\r\n        readyState: readyState,\r\n        played: played,\r\n        paused: paused,\r\n        ended: ended,\r\n        startDate: startDate,\r\n        lyric: lyric\r\n      };\r\n    } //\r\n\r\n  }, {\r\n    key: \"componentWillReceiveProps\",\r\n    //  props   audioLists  \r\n    value: function componentWillReceiveProps(_ref13) {\r\n      var audioLists = _ref13.audioLists,\r\n          playIndex = _ref13.playIndex,\r\n          theme = _ref13.theme,\r\n          mode = _ref13.mode;\r\n\r\n      if (!(0, _utils.arrayEqual)(audioLists)(this.props.audioLists)) {\r\n        this.updateAudioLists(audioLists);\r\n      } else {\r\n        this.updatePlayIndex(playIndex);\r\n      }\r\n\r\n      this.updateTheme(theme);\r\n      this.updateMode(mode);\r\n    } //state \r\n\r\n  }, {\r\n    key: \"componentWillMount\",\r\n    value: function componentWillMount() {\r\n      var _this4 = this;\r\n\r\n      var _props2 = this.props,\r\n          mode = _props2.mode,\r\n          audioLists = _props2.audioLists,\r\n          defaultPlayMode = _props2.defaultPlayMode,\r\n          remember = _props2.remember,\r\n          theme = _props2.theme,\r\n          defaultPlayIndex = _props2.defaultPlayIndex; // 'mini'  'full' \r\n\r\n      this.toggleMode(mode);\r\n\r\n      if (audioLists.length >= 1) {\r\n        var info = this.getPlayInfo(audioLists);\r\n        var lastPlayStatus = remember ? this.getLastPlayStatus(defaultPlayIndex) : {\r\n          playMode: defaultPlayMode,\r\n          theme: theme\r\n        };\r\n\r\n        switch (_typeof(info.musicSrc)) {\r\n          case 'function':\r\n            info.musicSrc().then(function (val) {\r\n              _this4.setState(_objectSpread({}, info, {\r\n                musicSrc: val\r\n              }, lastPlayStatus));\r\n            }, this.onAudioLoadError);\r\n            break;\r\n\r\n          default:\r\n            this.setState(_objectSpread({}, info, lastPlayStatus));\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: \"componentWillUnmount\",\r\n    value: function componentWillUnmount() {\r\n      this.unBindEvents(this.audio, undefined, false);\r\n      this.unBindUnhandledRejection();\r\n      this.media.removeListener(this.listenerIsMobile);\r\n      this.media = undefined;\r\n    }\r\n  }, {\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      this.addMobileListener();\r\n      this.setDefaultAudioVolume();\r\n      this.bindUnhandledRejection();\r\n\r\n      if (this.props.audioLists.length >= 1) {\r\n        this.bindEvents(this.audio);\r\n        this.onGetAudioInstance();\r\n        this.initLyricParser();\r\n\r\n        if (IS_MOBILE) {\r\n          this.bindMobileAutoPlayEvents();\r\n        }\r\n\r\n        if (!IS_MOBILE && (0, _utils.isSafari)()) {\r\n          this.bindSafariAutoPlayEvents();\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ReactJkMusicPlayer;\r\n}(_react.PureComponent);\r\n\r\nexports.default = ReactJkMusicPlayer;\r\nObject.defineProperty(ReactJkMusicPlayer, \"defaultProps\", {\r\n  configurable: true,\r\n  enumerable: true,\r\n  writable: true,\r\n  value: {\r\n    audioLists: [],\r\n    theme: 'dark',\r\n    mode: 'mini',\r\n    playModeText: {\r\n      order: 'order',\r\n      orderLoop: 'orderLoop',\r\n      singleLoop: 'singleLoop',\r\n      shufflePlay: 'shufflePlay'\r\n    },\r\n    defaultPlayMode: 'order',\r\n    defaultPosition: {\r\n      left: 0,\r\n      top: 0\r\n    },\r\n    controllerTitle: _react.default.createElement(_headphones.default, null),\r\n    panelTitle: 'PlayList',\r\n    closeText: 'close',\r\n    openText: 'open',\r\n    notContentText: 'no music',\r\n    checkedText: '',\r\n    unCheckedText: '',\r\n    once: false,\r\n    //onAudioPlay   \r\n    drag: true,\r\n    toggleMode: true,\r\n    //  \r\n    showMiniModeCover: true,\r\n    // \r\n    showDownload: true,\r\n    showPlay: true,\r\n    showReload: true,\r\n    showPlayMode: true,\r\n    showThemeSwitch: true,\r\n    showLyric: false,\r\n    playModeTipVisible: false,\r\n    //\r\n    autoPlay: true,\r\n    defaultVolume: 100,\r\n    showProgressLoadBar: true,\r\n    //\r\n    seeked: true,\r\n    playModeShowTime: 600,\r\n    // ,\r\n    bounds: 'body',\r\n    //mini \r\n    showMiniProcessBar: false,\r\n    // \r\n    loadAudioErrorPlayNext: true,\r\n    //  \r\n    preload: false,\r\n    //\r\n    glassBg: false,\r\n    //\r\n    remember: false,\r\n    //\r\n    remove: true,\r\n    //\r\n    defaultPlayIndex: 0,\r\n    //\r\n    emptyLyricPlaceholder: 'NO LYRIC',\r\n    getContainer: function getContainer() {\r\n      return document.body;\r\n    },\r\n    // \r\n    autoHiddenCover: false,\r\n    // \r\n    onBeforeAudioDownload: function onBeforeAudioDownload() {} // \r\n\r\n  }\r\n});\r\nObject.defineProperty(ReactJkMusicPlayer, \"propTypes\", {\r\n  configurable: true,\r\n  enumerable: true,\r\n  writable: true,\r\n  value: {\r\n    audioLists: _propTypes.default.array.isRequired,\r\n    theme: _propTypes.default.oneOf(['dark', 'light']),\r\n    mode: _propTypes.default.oneOf(['mini', 'full']),\r\n    defaultPlayMode: _propTypes.default.oneOf(['order', 'orderLoop', 'singleLoop', 'shufflePlay']),\r\n    drag: _propTypes.default.bool,\r\n    seeked: _propTypes.default.bool,\r\n    autoPlay: _propTypes.default.bool,\r\n    playModeText: _propTypes.default.object,\r\n    panelTitle: _propTypes.default.string,\r\n    closeText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    openText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    notContentText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    controllerTitle: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    defaultPosition: _propTypes.default.shape({\r\n      top: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n      left: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n      right: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\r\n      bottom: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string])\r\n    }),\r\n    onAudioPlay: _propTypes.default.func,\r\n    onAudioPause: _propTypes.default.func,\r\n    onAudioEnded: _propTypes.default.func,\r\n    onAudioAbort: _propTypes.default.func,\r\n    onAudioVolumeChange: _propTypes.default.func,\r\n    onAudioLoadError: _propTypes.default.func,\r\n    onAudioProgress: _propTypes.default.func,\r\n    onAudioSeeked: _propTypes.default.func,\r\n    onAudioDownload: _propTypes.default.func,\r\n    onAudioReload: _propTypes.default.func,\r\n    onThemeChange: _propTypes.default.func,\r\n    onAudioListsChange: _propTypes.default.func,\r\n    onPlayModeChange: _propTypes.default.func,\r\n    onModeChange: _propTypes.default.func,\r\n    onAudioListsPanelChange: _propTypes.default.func,\r\n    onAudioPlayTrackChange: _propTypes.default.func,\r\n    onAudioListsDragEnd: _propTypes.default.func,\r\n    onAudioLyricChange: _propTypes.default.func,\r\n    showDownload: _propTypes.default.bool,\r\n    showPlay: _propTypes.default.bool,\r\n    showReload: _propTypes.default.bool,\r\n    showPlayMode: _propTypes.default.bool,\r\n    showThemeSwitch: _propTypes.default.bool,\r\n    showMiniModeCover: _propTypes.default.bool,\r\n    toggleMode: _propTypes.default.bool,\r\n    once: _propTypes.default.bool,\r\n    extendsContent: _propTypes.default.array,\r\n    checkedText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    unCheckedText: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    defaultVolume: _propTypes.default.number,\r\n    playModeShowTime: _propTypes.default.number,\r\n    bounds: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    showMiniProcessBar: _propTypes.default.bool,\r\n    loadAudioErrorPlayNext: _propTypes.default.bool,\r\n    preload: _propTypes.default.oneOfType([_propTypes.default.bool, _propTypes.default.oneOf(['auto', 'metadata', 'none'])]),\r\n    glassBg: _propTypes.default.bool,\r\n    remember: _propTypes.default.bool,\r\n    remove: _propTypes.default.bool,\r\n    defaultPlayIndex: _propTypes.default.number,\r\n    playIndex: _propTypes.default.number,\r\n    lyricClassName: _propTypes.default.string,\r\n    emptyLyricPlaceholder: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\r\n    showLyric: _propTypes.default.bool,\r\n    getContainer: _propTypes.default.func,\r\n    getAudioInstance: _propTypes.default.func,\r\n    onBeforeAudioDownload: _propTypes.default.func,\r\n    autoHiddenCover: _propTypes.default.bool\r\n  }\r\n});\r\n","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.formatTime = formatTime;\r\nexports.createRandomNum = createRandomNum;\r\nexports.distinct = distinct;\r\nexports.isSafari = exports.uuId = exports.arrayEqual = void 0;\r\n\r\n// \r\nfunction formatTime(second) {\r\n  var i = 0;\r\n  var h = 0;\r\n  var s = parseInt(second);\r\n\r\n  if (s > 60) {\r\n    i = parseInt(s / 60);\r\n    s = parseInt(s % 60);\r\n\r\n    if (i > 60) {\r\n      h = parseInt(i / 60);\r\n      i = parseInt(i % 60);\r\n    }\r\n  } // \r\n\r\n\r\n  var zero = function zero(v) {\r\n    return v >> 0 < 10 ? \"0\".concat(v) : v;\r\n  };\r\n\r\n  if (h > 0) return [zero(h), zero(i), zero(s)].join(\":\");else return [zero(i), zero(s)].join(\":\");\r\n}\r\n\r\nfunction createRandomNum(minNum, maxNum) {\r\n  return parseInt(Math.random() * (maxNum - minNum + 1) + minNum, 10);\r\n}\r\n\r\nfunction distinct(array) {\r\n  return array.map(function (item) {\r\n    return JSON.stringify(item);\r\n  }).filter(function (item, idx, arry) {\r\n    return idx === arry.indexOf(item);\r\n  }).map(function (item) {\r\n    return JSON.parse(item);\r\n  });\r\n}\r\n\r\nvar arrayEqual = function arrayEqual(arr1) {\r\n  return function (arr2) {\r\n    return JSON.stringify(arr1) === JSON.stringify(arr2);\r\n  };\r\n};\r\n\r\nexports.arrayEqual = arrayEqual;\r\n\r\nvar s4 = function s4() {\r\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\r\n}; // Generate a pseudo-GUID by concatenating random hexadecimal.\r\n\r\n\r\nvar uuId = function uuId() {\r\n  return \"\".concat(s4() + s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4(), \"-\").concat(s4()).concat(s4()).concat(s4());\r\n};\r\n\r\nexports.uuId = uuId;\r\n\r\nvar isSafari = function isSafari() {\r\n  return /Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent);\r\n};\r\n\r\nexports.isSafari = isSafari;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\r\n\r\nvar _libraryMusic = _interopRequireDefault(require(\"react-icons/lib/md/library-music\"));\r\n\r\nvar _angleDoubleDown = _interopRequireDefault(require(\"react-icons/lib/fa/angle-double-down\"));\r\n\r\nvar _ReactDragListView = _interopRequireDefault(require(\"react-drag-listview/lib/ReactDragListView\"));\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\r\n\r\nvar AudioListsPanel = function AudioListsPanel(_ref) {\r\n  var audioLists = _ref.audioLists,\r\n      notContentText = _ref.notContentText,\r\n      onCancel = _ref.onCancel,\r\n      onDelete = _ref.onDelete,\r\n      onPlay = _ref.onPlay,\r\n      pause = _ref.pause,\r\n      playId = _ref.playId,\r\n      loading = _ref.loading,\r\n      playIcon = _ref.playIcon,\r\n      pauseIcon = _ref.pauseIcon,\r\n      closeIcon = _ref.closeIcon,\r\n      deleteIcon = _ref.deleteIcon,\r\n      panelTitle = _ref.panelTitle,\r\n      panelToggleAnimate = _ref.panelToggleAnimate,\r\n      glassBg = _ref.glassBg,\r\n      remove = _ref.remove,\r\n      removeId = _ref.removeId,\r\n      audioListsDragEnd = _ref.audioListsDragEnd;\r\n  return _react.default.createElement(\"div\", {\r\n    className: (0, _classnames.default)(\"audio-lists-panel\", panelToggleAnimate, {\r\n      \"glass-bg\": glassBg\r\n    }),\r\n    key: \"audio-list-panel\"\r\n  }, _react.default.createElement(\"div\", {\r\n    className: \"audio-lists-panel-header\"\r\n  }, _react.default.createElement(\"h2\", {\r\n    className: \"title\"\r\n  }, _react.default.createElement(\"span\", {\r\n    key: \"panel-title\"\r\n  }, panelTitle, \" / \"), _react.default.createElement(\"span\", {\r\n    className: \"num\",\r\n    key: \"num\"\r\n  }, audioLists.length), _react.default.createElement(\"span\", {\r\n    key: \"close-btn\",\r\n    className: \"close-btn\",\r\n    title: \"Close\",\r\n    onClick: onCancel\r\n  }, _react.default.createElement(_angleDoubleDown.default, null)), remove ? _react.default.createElement(_react.Fragment, null, _react.default.createElement(\"span\", {\r\n    className: \"line\",\r\n    key: \"line\"\r\n  }), _react.default.createElement(\"span\", {\r\n    key: \"delete-btn\",\r\n    className: \"delete-btn\",\r\n    title: \"Delete audio lists\",\r\n    onClick: onDelete()\r\n  }, deleteIcon)) : undefined)), _react.default.createElement(\"div\", {\r\n    className: (0, _classnames.default)(\"audio-lists-panel-content\", {\r\n      \"no-content\": audioLists.length < 1\r\n    }),\r\n    key: \"audio-lists-panel-content\"\r\n  }, audioLists.length >= 1 ? _react.default.createElement(_ReactDragListView.default, {\r\n    nodeSelector: \"li\",\r\n    handleSelector: \".player-name\",\r\n    lineClassName: \"audio-lists-panel-drag-line\",\r\n    onDragEnd: audioListsDragEnd\r\n  }, _react.default.createElement(\"ul\", null, audioLists.map(function (audio, i) {\r\n    var name = audio.name,\r\n        singer = audio.singer;\r\n    var playing = playId === audio.id;\r\n    return _react.default.createElement(\"li\", {\r\n      key: i,\r\n      title: pause ? \"Click to play\" : playing ? \"Click to pause\" : \"Click to play\",\r\n      className: (0, _classnames.default)(\"audio-item\", {\r\n        playing: playing\r\n      }, {\r\n        pause: pause\r\n      }, {\r\n        remove: removeId === audio.id\r\n      }),\r\n      onClick: function onClick() {\r\n        return onPlay(audio.id);\r\n      }\r\n    }, _react.default.createElement(\"span\", {\r\n      className: \"group player-status\",\r\n      key: \"player-status\"\r\n    }, _react.default.createElement(\"span\", {\r\n      className: \"player-icons\",\r\n      key: \"player-icons-\".concat(i)\r\n    }, playing && loading ? loading : playing ? pause ? playIcon : pauseIcon : undefined)), _react.default.createElement(\"span\", {\r\n      className: \"group player-name\",\r\n      key: \"player-name\"\r\n    }, name), _react.default.createElement(\"span\", {\r\n      className: \"group player-time\",\r\n      key: \"player-time\"\r\n    }, singer), remove ? _react.default.createElement(\"span\", {\r\n      className: \"group player-delete\",\r\n      key: \"player-delete\",\r\n      title: \"Click to delete \".concat(name),\r\n      onClick: onDelete(audio.id)\r\n    }, closeIcon) : undefined);\r\n  }))) : _react.default.createElement(_react.Fragment, null, _react.default.createElement(\"span\", {\r\n    key: \"no-content\"\r\n  }, _react.default.createElement(_libraryMusic.default, null)), _react.default.createElement(\"span\", {\r\n    className: \"no-data\",\r\n    key: \"no-data\"\r\n  }, notContentText))));\r\n};\r\n\r\nvar _default = AudioListsPanel;\r\nexports.default = _default;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.PlayModeTip = void 0;\r\n\r\nvar _react = _interopRequireWildcard(require(\"react\"));\r\n\r\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\r\n\r\nvar prefix = \"react-jinke-music-player-mobile\";\r\n\r\nvar PlayModeTip = function PlayModeTip(_ref) {\r\n  var visible = _ref.visible,\r\n      title = _ref.title,\r\n      text = _ref.text;\r\n  return _react.default.createElement(\"div\", {\r\n    className: (0, _classnames.default)(\"\".concat(prefix, \"-play-model-tip\"), {\r\n      show: visible\r\n    })\r\n  }, _react.default.createElement(\"span\", {\r\n    className: \"title\"\r\n  }, title), _react.default.createElement(\"span\", {\r\n    className: \"text\"\r\n  }, text));\r\n};\r\n\r\nexports.PlayModeTip = PlayModeTip;\r\n\r\nvar PlayerMobile = function PlayerMobile(_ref2) {\r\n  var name = _ref2.name,\r\n      cover = _ref2.cover,\r\n      singer = _ref2.singer,\r\n      playing = _ref2.playing,\r\n      duration = _ref2.duration,\r\n      currentTime = _ref2.currentTime,\r\n      loading = _ref2.loading,\r\n      loadingIcon = _ref2.loadingIcon,\r\n      themeSwitch = _ref2.themeSwitch,\r\n      progressBar = _ref2.progressBar,\r\n      openAudioListsPanel = _ref2.openAudioListsPanel,\r\n      audioPrevPlay = _ref2.audioPrevPlay,\r\n      audioNextPlay = _ref2.audioNextPlay,\r\n      prevAudioIcon = _ref2.prevAudioIcon,\r\n      nextAudioIcon = _ref2.nextAudioIcon,\r\n      playIcon = _ref2.playIcon,\r\n      pauseIcon = _ref2.pauseIcon,\r\n      playMode = _ref2.playMode,\r\n      downloadIcon = _ref2.downloadIcon,\r\n      reloadIcon = _ref2.reloadIcon,\r\n      playListsIcon = _ref2.playListsIcon,\r\n      closeIcon = _ref2.closeIcon,\r\n      onClose = _ref2.onClose,\r\n      pause = _ref2.pause,\r\n      playModeTipVisible = _ref2.playModeTipVisible,\r\n      currentPlayModeName = _ref2.currentPlayModeName,\r\n      extendsContent = _ref2.extendsContent,\r\n      onPlay = _ref2.onPlay,\r\n      glassBg = _ref2.glassBg,\r\n      LyricIcon = _ref2.LyricIcon,\r\n      showFullModeCover = _ref2.showFullModeCover,\r\n      autoHiddenCover = _ref2.autoHiddenCover;\r\n  return _react.default.createElement(\"div\", {\r\n    className: (0, _classnames.default)(prefix, {\r\n      \"default-bg\": !glassBg,\r\n      \"glass-bg\": glassBg\r\n    })\r\n  }, _react.default.createElement(PlayModeTip, {\r\n    visible: playModeTipVisible,\r\n    title: playMode,\r\n    text: currentPlayModeName\r\n  }), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-header group\")\r\n  }, _react.default.createElement(\"div\", {\r\n    className: \"left item\"\r\n  }), _react.default.createElement(\"div\", {\r\n    className: \"title\",\r\n    key: \"audio-title\"\r\n  }, name), _react.default.createElement(\"div\", {\r\n    className: \"right item\",\r\n    onClick: onClose\r\n  }, closeIcon)), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-singer text-center group\")\r\n  }, _react.default.createElement(\"span\", {\r\n    className: \"name\",\r\n    key: \"singer-name\"\r\n  }, singer)), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-switch text-center group\")\r\n  }, themeSwitch), (!autoHiddenCover || autoHiddenCover && cover) && _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-cover text-center\")\r\n  }, _react.default.createElement(\"img\", {\r\n    src: cover,\r\n    alt: \"cover\",\r\n    key: \"cover\",\r\n    className: (0, _classnames.default)(\"cover\", {\r\n      \"img-rotate-pause\": pause || !playing || !cover\r\n    })\r\n  })), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-progress group\")\r\n  }, _react.default.createElement(\"span\", {\r\n    key: \"current-time\",\r\n    className: \"current-time\"\r\n  }, loading ? \"--\" : currentTime), progressBar, _react.default.createElement(\"span\", {\r\n    key: \"duration\",\r\n    className: \"duration text-right\"\r\n  }, loading ? \"--\" : duration)), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-toggle text-center group\")\r\n  }, loading ? loadingIcon : _react.default.createElement(_react.Fragment, null, _react.default.createElement(\"span\", {\r\n    className: \"group prev-audio\",\r\n    title: \"Previous track\",\r\n    key: \"prev-audio\",\r\n    onClick: audioPrevPlay\r\n  }, prevAudioIcon), _react.default.createElement(\"span\", {\r\n    className: \"group play-btn\",\r\n    title: playing ? \"Click to pause\" : \"Click to play\",\r\n    key: \"play-btn\",\r\n    onClick: onPlay\r\n  }, playing ? pauseIcon : playIcon), _react.default.createElement(\"span\", {\r\n    className: \"group next-audio\",\r\n    title: \"Next track\",\r\n    key: \"next-audio\",\r\n    onClick: audioNextPlay\r\n  }, nextAudioIcon))), _react.default.createElement(\"div\", {\r\n    className: \"\".concat(prefix, \"-operation group\")\r\n  }, _react.default.createElement(\"ul\", {\r\n    className: \"items\"\r\n  }, [playMode, downloadIcon, reloadIcon, LyricIcon].filter(Boolean).map(function (icon, i) {\r\n    return _react.default.createElement(\"li\", {\r\n      className: \"item\",\r\n      key: i\r\n    }, icon);\r\n  }), extendsContent && extendsContent.length >= 1 && extendsContent.map(function (content, i) {\r\n    return _react.default.createElement(\"li\", {\r\n      className: \"item\",\r\n      key: i\r\n    }, content);\r\n  }), _react.default.createElement(\"li\", {\r\n    className: \"item\",\r\n    key: \"play-lists-icon\",\r\n    onClick: openAudioListsPanel\r\n  }, playListsIcon))));\r\n};\r\n\r\nvar _default = PlayerMobile;\r\nexports.default = _default;","\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = void 0;\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\r\n\r\n// use by https://github.com/ustbhuangyi/lyric-parser\r\nvar timeExp = /\\[(\\d{2,}):(\\d{2})(?:\\.(\\d{2,3}))?]/g;\r\nvar STATE_PAUSE = 0;\r\nvar STATE_PLAYING = 1;\r\nvar tagRegMap = {\r\n  title: \"ti\",\r\n  artist: \"ar\",\r\n  album: \"al\",\r\n  offset: \"offset\",\r\n  by: \"by\"\r\n};\r\n\r\nfunction noop() {}\r\n\r\nvar Lyric =\r\n/*#__PURE__*/\r\nfunction () {\r\n  function Lyric(lrc) {\r\n    var hanlder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\r\n\r\n    _classCallCheck(this, Lyric);\r\n\r\n    this.lrc = lrc;\r\n    this.tags = {};\r\n    this.lines = [];\r\n    this.handler = hanlder;\r\n    this.state = STATE_PAUSE;\r\n    this.curLine = 0;\r\n\r\n    this._init();\r\n  }\r\n\r\n  _createClass(Lyric, [{\r\n    key: \"_init\",\r\n    value: function _init() {\r\n      this._initTag();\r\n\r\n      this._initLines();\r\n    }\r\n  }, {\r\n    key: \"_initTag\",\r\n    value: function _initTag() {\r\n      for (var tag in tagRegMap) {\r\n        var matches = this.lrc.match(new RegExp(\"\\\\[\".concat(tagRegMap[tag], \":([^\\\\]]*)]\"), \"i\"));\r\n        this.tags[tag] = matches && matches[1] || \"\";\r\n      }\r\n    }\r\n  }, {\r\n    key: \"_initLines\",\r\n    value: function _initLines() {\r\n      var lines = this.lrc.split(\"\\n\");\r\n\r\n      for (var i = 0; i < lines.length; i++) {\r\n        var line = lines[i];\r\n        var result = timeExp.exec(line);\r\n\r\n        if (result) {\r\n          var txt = line.replace(timeExp, \"\").trim();\r\n\r\n          if (txt) {\r\n            this.lines.push({\r\n              time: result[1] * 60 * 1000 + result[2] * 1000 + (result[3] || 0) * 10,\r\n              txt: txt\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      this.lines.sort(function (a, b) {\r\n        return a.time - b.time;\r\n      });\r\n    }\r\n  }, {\r\n    key: \"_findCurNum\",\r\n    value: function _findCurNum(time) {\r\n      for (var i = 0; i < this.lines.length; i++) {\r\n        if (time <= this.lines[i].time) {\r\n          return i;\r\n        }\r\n      }\r\n\r\n      return this.lines.length - 1;\r\n    }\r\n  }, {\r\n    key: \"_callHandler\",\r\n    value: function _callHandler(i) {\r\n      if (i < 0) {\r\n        return;\r\n      }\r\n\r\n      this.handler({\r\n        txt: this.lines[i].txt,\r\n        lineNum: i\r\n      });\r\n    }\r\n  }, {\r\n    key: \"_playRest\",\r\n    value: function _playRest() {\r\n      var _this = this;\r\n\r\n      var line = this.lines[this.curNum];\r\n      var delay = line.time - (+new Date() - this.startStamp);\r\n      this.timer = setTimeout(function () {\r\n        _this._callHandler(_this.curNum++);\r\n\r\n        if (_this.curNum < _this.lines.length && _this.state === STATE_PLAYING) {\r\n          _this._playRest();\r\n        }\r\n      }, delay);\r\n    }\r\n  }, {\r\n    key: \"play\",\r\n    value: function play() {\r\n      var startTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var skipLast = arguments.length > 1 ? arguments[1] : undefined;\r\n\r\n      if (!this.lines.length) {\r\n        return;\r\n      }\r\n\r\n      this.state = STATE_PLAYING;\r\n      this.curNum = this._findCurNum(startTime);\r\n      this.startStamp = +new Date() - startTime;\r\n\r\n      if (!skipLast) {\r\n        this._callHandler(this.curNum - 1);\r\n      }\r\n\r\n      if (this.curNum < this.lines.length) {\r\n        clearTimeout(this.timer);\r\n\r\n        this._playRest();\r\n      }\r\n    }\r\n  }, {\r\n    key: \"togglePlay\",\r\n    value: function togglePlay() {\r\n      var now = +new Date();\r\n\r\n      if (this.state === STATE_PLAYING) {\r\n        this.stop();\r\n        this.pauseStamp = now;\r\n      } else {\r\n        this.state = STATE_PLAYING;\r\n        this.play((this.pauseStamp || now) - (this.startStamp || now), true);\r\n        this.pauseStamp = 0;\r\n      }\r\n    }\r\n  }, {\r\n    key: \"stop\",\r\n    value: function stop() {\r\n      this.state = STATE_PAUSE;\r\n      clearTimeout(this.timer);\r\n    }\r\n  }, {\r\n    key: \"seek\",\r\n    value: function seek(offset) {\r\n      this.play(offset);\r\n    }\r\n  }]);\r\n\r\n  return Lyric;\r\n}();\r\n\r\nexports.default = Lyric;","import { gql } from 'apollo-boost';\r\n\r\nexport const ADD_USER = gql`\r\n  mutation($account:Account) {\r\n   createAccount (account:$account){\r\n        response,\r\n        status\r\n}\r\n    }\r\n`;\r\n\r\nexport const SEARCH_SONG = gql`\r\n  mutation($search:String) {\r\n   searchSong (search:$search){\r\n    track\r\n    artist\r\n    song\r\n    album\r\n    artwork\r\n   }\r\n  }\r\n`;\r\n\r\nexport const ONCHANGE_SEARCH = gql`\r\n  query($search:String) {\r\n  onChangeSearch(search:$search){\r\n\r\n      track\r\n      artist\r\n      song\r\n      album\r\n      artwork\r\n  }\r\n}\r\n`;\r\n\r\nexport const LOGIN_CHECK = gql`\r\n    mutation($username:String, $password:String) {\r\n      loginCheck (username:$username, password:$password){\r\n        response,\r\n        username,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const USER_DATA = gql`\r\nquery($username:String){\r\n  userData(username:$username){\r\n    response,\r\n    user {\r\n      firstName\r\n      lastName\r\n      email\r\n      image\r\n      active\r\n      timeStamp{\r\n        created\r\n        lastSeen\r\n      }\r\n    },\r\n    status\r\n  }\r\n}\r\n`;\r\n\r\nexport const DELETE_USER = gql`\r\n    mutation($username:String){\r\n      deleteUser (username:$username){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_USER = gql`\r\n    mutation($username:String, $updateData:UpdateData){\r\n      updateUser(username:$username, updateData: $updateData){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const UPDATE_PASSWORD = gql`\r\n    mutation($username:String, $currentPass:String, $newPass: String, $testPass:String){\r\n      updatePassword(username:$username, currentPass:$currentPass, newPass:$newPass, testPass:$testPass){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const NEW_PLAYLIST = gql`\r\n    mutation($name:String, $creator:String){\r\n      newPlaylist(name:$name, creator:$creator){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const NEW_TRACK = gql`\r\n    mutation($username:String, $track:PlaylistTrack){\r\n      newTrack(username:$username, track:$track){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const DELETE_TRACK = gql`\r\n    query($username:String,$trackInfo:TrackInfo){\r\n      deleteTrack(username:$username,trackInfo:$trackInfo){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const FOLLOW_PLAYLIST = gql`\r\n    mutation($username:String, $playlistName: String){\r\n      followPlaylist(username:$username, playlistName:$playlistName){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const UNFOLLOW_PLAYLIST = gql`\r\n    mutation($username:String, $playlistName: String){\r\n      unfollowPlaylist(username:$username, playlistName:$playlistName){\r\n        response,\r\n        status\r\n      }\r\n    }\r\n`;\r\n\r\nexport const USERS_PLAYLIST = gql`\r\n  query($username:String) {\r\n    playlistsForUser(username:$username) {\r\n      playlists {\r\n        name\r\n        creator\r\n        followers\r\n        song_count\r\n        songs {\r\n          track\r\n          artist\r\n          song\r\n          album\r\n          artwork\r\n        }\r\n        follower_list\r\n      }\r\n      response\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ALL_PLAYLISTS = gql`\r\n  query {\r\n    allPlaylists {\r\n      playlists {\r\n        name\r\n        creator\r\n        followers\r\n        song_count\r\n        songs {\r\n          track\r\n          artist\r\n          song\r\n          album\r\n          artwork\r\n        }\r\n        follower_list\r\n      }\r\n      response\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VERIFY_USER = gql`\r\n    mutation($jwt:String){\r\n      verifytoken(jwt:$jwt){\r\n        response\r\n      }\r\n    }\r\n\r\n`;\r\n\r\nexport const SEND_FRIEND_REQUEST = gql`\r\n  mutation ($requester:String, $receiver:String){\r\n    sendRequest(requester:$requester, receiver:$receiver){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DENY_FRIEND_REQUEST = gql`\r\n  mutation ($username:String, $friend:String){\r\n    denyRequest(username:$username, friend:$friend){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ACCEPT_FRIEND_REQUEST = gql`\r\n  mutation ($username:String, $friend:String){\r\n    acceptRequest(username:$username, friend:$friend){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VIEW_FRIEND_REQUESTS = gql`\r\n  query($username:String){\r\n    viewFriendRequests(username:$username){\r\n      response,\r\n      status,\r\n      data {\r\n        friend,\r\n        image\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const VIEW_FRIEND_LIST = gql`\r\n  query($username:String){\r\n    viewFriendsList(username:$username){\r\n      response,\r\n      status,\r\n      data {\r\n        friend,\r\n        image\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_FRIEND = gql`\r\n  mutation($username:String, $friend:String){\r\n    deleteFriend(username:$username, friend:$friend){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const FRIEND_SEARCH = gql`\r\n  query($username:String, $search:String){\r\n    accountSearch(username:$username, search:$search){\r\n      response,\r\n      data{\r\n        friend,\r\n        image\r\n      },\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const SIGNOUT = gql`\r\n  query($username:String, $date:String){\r\n    signOut(username:$username, date:$date){\r\n      response\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DEACTIVATE = gql`\r\n  mutation($username:String){\r\n    deactivateAccount(username:$username){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ACTIVATE = gql`\r\n  mutation($username:String){\r\n    activateAccount(username:$username){\r\n      response,\r\n      status\r\n    }\r\n  }\r\n`;\r\n","import axios from 'axios';\r\n\r\nconst Auth = {\r\n    isAuthenticated: false,\r\n    isUsername: \"\",\r\n    token: \"\",\r\n    async check() {\r\n        let jwt = {\r\n            token: \"\",\r\n        }\r\n        jwt.token = localStorage.getItem('sudo')\r\n        if (jwt !== \"\") {\r\n            await axios.post(`/verify`, jwt)\r\n            .then(res => {\r\n                this.isAuthenticated = res.data.response\r\n                this.isUsername = res.data.client_id\r\n                this.token = jwt.token\r\n            })\r\n        }\r\n    },\r\n    userLogin(status, username){\r\n        this.isAuthenticated = status\r\n        if(status) this.isUsername = username\r\n    },\r\n    getToken() {\r\n        return this.token\r\n    },\r\n    getAuth() {\r\n    // return true; //uncomment this for dev, to bypass authentication, most services wont work if this is uncommented.\r\n        return this.isAuthenticated;\r\n    },\r\n    getUserName() {\r\n        return this.isUsername\r\n    },\r\n   signOutUser(){\r\n        localStorage.removeItem('sudo')\r\n        window.location.reload();\r\n        // return false;\r\n    }\r\n\r\n};\r\n\r\nexport default Auth;","import React from 'react';\r\nimport { Dropdown, Image } from 'semantic-ui-react';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class NavBarDropDown extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {}\r\n  }\r\n\r\n  render() {\r\n  let options = [\r\n    { key: 'profile', text: 'Profile', icon: 'user', href: '/#profile' },\r\n    { key: 'sign-out', text: 'Sign Out', icon: 'sign out', onClick: () => this.props.test() }\r\n  ]\r\n\r\n  let trigger = (\r\n    <span>\r\n      <Image id=\"nav-profile\" avatar /> {Auth.getUserName()}\r\n    </span>\r\n  )\r\n\r\n    return (\r\n      <Dropdown\r\n        trigger={trigger}\r\n        options={options}\r\n        pointing='top right'\r\n        icon={null}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Menu, Image } from 'semantic-ui-react';\r\nimport Auth from '../utils/Auth';\r\nimport axios from 'axios';\r\nimport NavBarDropDown from './dropdown';\r\nimport { SIGNOUT } from '../api/queries';\r\nimport { Query } from 'react-apollo';\r\nimport moment from 'moment';\r\n\r\nexport default class Navbar extends Component {\r\n  state = {\r\n    activeItem: 'home',\r\n    signOut: false\r\n  }\r\n\r\n  handleItemClick = (e, { name }) => {\r\n    this.setState({ activeItem: name })\r\n  }\r\n\r\n  handleSignout = () => {\r\n    this.setState({\r\n      signOut: true\r\n    });\r\n  }\r\n\r\n  renderSignOut = () => {\r\n    if (this.state.signOut) {\r\n      return (\r\n        <Query query={SIGNOUT} variables={{ username: Auth.getUserName(), date: moment().format() }}>\r\n          {({ loading, error, data }) => {\r\n            if (loading) return 'Loading...';\r\n            if (error) return `Error! ${error.message}`;\r\n            console.log(data)\r\n            Auth.signOutUser()\r\n            return (\r\n              <div>\r\n              </div>\r\n            )\r\n          }}\r\n        </Query>\r\n      )\r\n    }\r\n  }\r\n\r\n  profilePic = () => {\r\n    const token = localStorage.getItem('sudo')\r\n    const config = {\r\n        headers: {\r\n            authorization: token ? `Bearer:${token}` : ''\r\n        },\r\n        responseType: 'blob'\r\n    };\r\n    axios.get(\"/api/profile\", config)\r\n    .then(response => {\r\n        let image = URL.createObjectURL(response.data);\r\n        let imgElem = document.querySelector('#nav-profile');\r\n        if(response.data.type === \"application/octet-stream\") imgElem.src = image\r\n      })\r\n}\r\n\r\n\r\n  userStatus = () => {\r\n    const { activeItem } = this.state\r\n    if (Auth.getAuth() === true) {\r\n      return (\r\n        <Menu.Item>\r\n          <NavBarDropDown test={this.handleSignout} />\r\n        </Menu.Item>\r\n      )\r\n    } else {\r\n      return <Menu.Item\r\n        name='not logged in'\r\n        active={activeItem === 'login'}\r\n        onClick={this.handleItemClick}\r\n        href='/#login'\r\n      />\r\n    }\r\n  }\r\n\r\n  logo = () => {\r\n    return (\r\n      <Image src=\"assets/audago.png\" size='small'></Image>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { activeItem } = this.state\r\n    return (\r\n      <div>\r\n      <Menu inverted secondary className=\"navbar\">\r\n        <Menu.Header\r\n          style={{ margin: 10, color: 'teal' }}\r\n          content={this.logo()}\r\n        />\r\n        <Menu.Item\r\n          name='home'\r\n          active={activeItem === 'home'}\r\n          href=\"#\"\r\n          onClick={this.handleItemClick}\r\n        />\r\n        <Menu.Item\r\n          name='about'\r\n          href='#/about'\r\n          active={activeItem === 'about'}\r\n          onClick={this.handleItemClick}\r\n        />\r\n        <Menu.Menu position='right'>\r\n          {this.userStatus()}\r\n          {this.renderSignOut()}\r\n        </Menu.Menu>\r\n      </Menu>\r\n      {\r\n        this.profilePic() /* pull profile pic from server and sets it after image elem renders */\r\n      }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Button, Form, Grid, Header, Message, Segment } from 'semantic-ui-react';\r\nimport { LOGIN_CHECK } from '../api/queries';\r\nimport { Mutation } from 'react-apollo';\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Auth from '../utils/Auth';\r\nimport Navbar from '../components/navbar';\r\n\r\nexport default class Login extends React.Component {\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    status: Auth.getAuth(),\r\n    message: '',\r\n  }\r\n\r\n  loginUser = async () => {\r\n    let { username, password } = this.state\r\n    let post_Data = {\r\n      input:\r\n        { username, password }\r\n    }\r\n    await axios.post(`/login`, post_Data)\r\n      .then(res => {\r\n        let postRes = res.data.response\r\n        if (postRes.status) {\r\n          this.setClientToken(postRes.response)\r\n          this.setState({ status: postRes.status })\r\n        } else {\r\n          this.setState({ message: postRes.response, status: postRes.status })\r\n        }\r\n      })\r\n  }\r\n\r\n  setClientToken = (token) => {\r\n    localStorage.setItem('sudo', token)\r\n  }\r\n\r\n  renderError = () => {\r\n    if (!this.state.status && this.state.message) {\r\n      return (<Message negative>\r\n        <Message.Header>{this.state.message}</Message.Header>\r\n      </Message>)\r\n    }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { username, status } = this.state\r\n    if (status) {\r\n      Auth.userLogin(status, username)\r\n      return <Redirect to='/' />\r\n    }\r\n    return (\r\n      <div className=\"bg\">\r\n        <Navbar />\r\n        <Grid textAlign='center' style={{ height: '80vh' }} verticalAlign='middle'>\r\n          <Grid.Column style={{ maxWidth: 450 }}>\r\n            <Header as='h2' inverted textAlign='center'>\r\n              {/* <Image src='/logo.png' /> */}\r\n              Log-in to your account\r\n      </Header>\r\n            <Form size='large' onSubmit={this.loginUser}>\r\n              <Segment stacked>\r\n                <Form.Input required fluid icon='user' name='username' iconPosition='left' placeholder='E-mail address' onChange={this.handleChange} />\r\n                <Form.Input required fluid icon='lock' name='password' iconPosition='left' placeholder='Password' type='password' onChange={this.handleChange} />\r\n                {this.renderError()}\r\n                <Button type=\"submit\" color='teal' fluid size='large'>\r\n                  Login\r\n                  </Button>\r\n              </Segment>\r\n            </Form>\r\n            <Message>\r\n              New to us? <a href='#signup'>Sign Up</a>\r\n            </Message>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Button, Form, Grid, Header, Segment, Message, Popup, List } from 'semantic-ui-react';\r\nimport { ADD_USER } from '../api/queries';\r\nimport { Mutation } from 'react-apollo';\r\nimport Navbar from '../components/navbar';\r\n\r\n\r\nexport default class Signup extends React.Component {\r\n  state = {\r\n    firstName: \"\",\r\n    lastName: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirm: \"\",\r\n    image: \"\",\r\n    active: true,\r\n    gql_res: {},\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  renderError = () => {\r\n    let { gql_res } = this.state\r\n    if (!gql_res.status && gql_res.response) {\r\n      return (<Message negative>\r\n        <Message.Header>{gql_res.response}</Message.Header>\r\n      </Message>)\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    let { firstName, lastName, username, email, password, image, active } = this.state\r\n    let account = {\r\n      firstName,\r\n      lastName,\r\n      username,\r\n      email,\r\n      password,\r\n      image,\r\n      active\r\n    }\r\n    if (this.state.gql_res.status) {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    return (\r\n      <div className=\"bg\" style={{ height: '100vh' }}>\r\n        <Navbar />\r\n        <Grid style={{ margin: 50 + 'px' }} textAlign='center' verticalAlign='middle'>\r\n          <Grid.Column style={{ maxWidth: 450 }}>\r\n            <Header as='h2' inverted textAlign='center'>\r\n              Create an account\r\n      </Header>\r\n            <Form size='large'>\r\n              <Segment stacked>\r\n                <Form.Input name='firstName' fluid icon='user' iconPosition='left' placeholder='Firstname' onChange={this.handleChange} />\r\n                <Form.Input name='lastName' fluid icon='user' iconPosition='left' placeholder='Lastname' onChange={this.handleChange} />\r\n                <Form.Input name='username' fluid icon='user' iconPosition='left' placeholder='Username' onChange={this.handleChange} />\r\n                <Form.Input name='email' fluid icon='mail' iconPosition='left' placeholder='E-mail address' onChange={this.handleChange} />\r\n                <Popup trigger={\r\n                  <Form.Input name='password' fluid icon='lock' iconPosition='left' placeholder='Password' type='password' onChange={this.handleChange} />} wide>\r\n                  <Header as='h2'>\r\n                    A strong password requires:\r\n                    </Header>\r\n                  <List bulleted>\r\n                    <List.Item>More than 8 Characters</List.Item>\r\n                    <List.Item>Atleast 1 Uppercase letter</List.Item>\r\n                    <List.Item>Atleast 1 Lowercase letter</List.Item>\r\n                    <List.Item>Atleast 1 Special character (!@#$%^&*)</List.Item>\r\n                    <List.Item>Atleast 1 Number</List.Item>\r\n                  </List>\r\n                </Popup>\r\n                <Form.Input name='confirm' fluid icon='lock' iconPosition='left' placeholder='Confirm Password' type='password' onChange={this.handleChange} />\r\n                <Mutation mutation={ADD_USER} variables={{ account }}\r\n                  update={(cache, { data }) => {\r\n                    console.log(data)\r\n                    this.setState({ gql_res: data.createAccount })\r\n                  }\r\n                  }\r\n                >\r\n                  {createAccount => (\r\n                    <Button type=\"submit\" color='teal' fluid size='large' onClick={createAccount}>\r\n                      Signup\r\n                  </Button>\r\n                  )}\r\n                </Mutation>\r\n                {this.renderError()}\r\n              </Segment>\r\n            </Form>\r\n          </Grid.Column>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n}","import React from 'react';\r\nimport Navbar from '../components/navbar';\r\nimport { Header, Button } from 'semantic-ui-react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class HomePage extends React.Component {\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        if (this.state.redirect) {\r\n            window.addEventListener('beforeunload', this.beforeunload.bind(this));\r\n            axios\r\n                .post('/signIn', { username: Auth.getUserName() })\r\n                .then(res => { });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('beforeunload', this.beforeunload.bind(this));\r\n    }\r\n\r\n    beforeunload() {\r\n        if (this.state.redirect) {\r\n            axios\r\n                .post('/signOut', { username: Auth.getUserName(), date: moment().format() })\r\n                .then(res => { });\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { redirect } = this.state\r\n        if (redirect) {\r\n            return <Redirect to='/webplayer' />\r\n        }\r\n        return (\r\n            <div className=\"bg\">\r\n                <Navbar />\r\n                <Header as='h1' icon textAlign='center' inverted style={{ fontSize: 40, marginTop: '4em' }}>\r\n                    <Header.Content>\r\n                        Lose yourself in\r\n                  50 million songs.\r\n      </Header.Content>\r\n                    <Button onClick={() => this.setState({ redirect: true })}>Start Listening</Button>\r\n                </Header>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Button, Header, Icon, Modal, Message } from 'semantic-ui-react';\r\nimport { Mutation, Query } from '@apollo/react-components';\r\nimport { USERS_PLAYLIST, NEW_TRACK } from '../api/queries';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class PlaylistPopup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      playlist: '',\r\n      error: false,\r\n      message: ''\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.setState({\r\n      open: false\r\n    })\r\n    this.props.reset()\r\n  }\r\n\r\n  openModal = () => {\r\n    this.setState({\r\n      open: true,\r\n      error: false,\r\n      message: ''\r\n    })\r\n  }\r\n\r\n  setPlaylist = (event) => {\r\n    let playlist = event.target.name\r\n    let { song } = this.props\r\n    let song_proto = {\r\n      track: song.track,\r\n      artist: song.artist,\r\n      album: song.album,\r\n      song: song.song,\r\n      artwork: song.artwork,\r\n      playlist_name: playlist\r\n    }\r\n    this.setState({ playlist, song_proto })\r\n  }\r\n\r\n  getPlaylist = (playlists) => {\r\n    let allPlaylists = [];\r\n    for (let z of playlists) {\r\n      allPlaylists.push(<Button name={z.name} onClick={this.setPlaylist}>{z.name}</Button>)\r\n    }\r\n    return allPlaylists;\r\n  }\r\n\r\n  renderError = () => {\r\n    if (this.state.error) {\r\n      setTimeout(() => {\r\n        this.setState({ error: false })\r\n      }, 3000)\r\n      return (\r\n        <Modal.Content>\r\n          <Message negative>\r\n            <Message.Header>We're sorry you can't do that</Message.Header>\r\n            <p>{this.state.message}</p>\r\n          </Message>\r\n        </Modal.Content>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { open, song_proto, playlist } = this.state\r\n    return (\r\n      <Modal trigger={<Button onClick={this.openModal} icon=\"add\"></Button>} basic size='small' open={open}>\r\n        <Header icon='music' content='Select Playlist' />\r\n        <Modal.Content>\r\n\r\n          <Query query={USERS_PLAYLIST} variables={{ username: Auth.getUserName() }}>\r\n            {({ loading, error, data }) => {\r\n              if (loading) return 'loading...'\r\n              return (\r\n                <div>\r\n                  {this.getPlaylist(data.playlistsForUser.playlists)}\r\n                </div>\r\n              )\r\n            }\r\n            }\r\n          </Query>\r\n\r\n        </Modal.Content>\r\n        {this.renderError()}\r\n        <Modal.Actions>\r\n          <div style={{ margin: \"5px\" }}>\r\n            <b>Selected playlist: {playlist}</b>\r\n          </div>\r\n          <Button basic color='red' inverted onClick={this.closeModal}>\r\n            <Icon name='remove' /> Cancel\r\n      </Button>\r\n          <Mutation mutation={NEW_TRACK} variables={{ username: Auth.getUserName(), track: song_proto }}\r\n            update={(cache, { loading, data }) => {\r\n              if (!loading) {\r\n                if (data.newTrack.status) {\r\n                  this.closeModal()\r\n                } else {\r\n                  this.setState({\r\n                    error: true,\r\n                    message: data.newTrack.response\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            }\r\n          >\r\n            {addToPlaylist => (\r\n              <Button color='green' onClick={addToPlaylist} inverted>\r\n                <Icon name='checkmark' /> Add\r\n      </Button>\r\n            )}\r\n          </Mutation>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react'\r\nimport { Button, Dimmer, Image } from 'semantic-ui-react'\r\nimport PlaylistPopup from './playlistPopup'\r\n\r\nexport default class cards extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n    }\r\n  }\r\n\r\n  handleShow = () => this.setState({ active: true })\r\n  handleHide = () => this.setState({ active: false })\r\n\r\n  intialPlayer = (track) => {\r\n    // this.setState({activeTrack:track}) //remove once webplayer is completely done\r\n    this.props.playTrack([track])\r\n  }\r\n\r\n  resetCard = () => {\r\n    this.setState({\r\n      active:false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let {image,index,song_meta} = this.props\r\n    const { active } = this.state\r\n    const content = (\r\n      <div>\r\n        <Button primary icon=\"play\" onClick={() => this.intialPlayer(song_meta)}></Button>\r\n        <PlaylistPopup song={song_meta} reset={this.resetCard}/>\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <Dimmer.Dimmable\r\n        as={Image}\r\n        dimmed={active}\r\n        dimmer={{ active, content }}\r\n        onMouseEnter={this.handleShow}\r\n        onMouseLeave={this.handleHide}\r\n        size='small'\r\n        src={image}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactJkMusicPlayer from \"../lib/react-jinke-music-player\";\r\nimport \"../lib/react-jinke-music-player/assets/index.css\";\r\n\r\nexport default class Player extends React.Component{\r\n  state={\r\n    lastSongAdded:''\r\n  }\r\n  playSong = (e,f,g) => {\r\n      let lastSongAdded = f.length\r\n        this.setState({lastSongAdded})\r\n  }\r\n\r\n  changeObjKeys = (source) => {\r\n    let tracks = [];\r\n    for(let song of source){\r\n      let newObj = {\r\n        name: song.track,\r\n        singer: song.artist,\r\n        cover: song.artwork,\r\n        musicSrc: () => {\r\n             return Promise.resolve( song.song )\r\n           }\r\n      }\r\n      tracks.push(newObj)\r\n    }\r\n    return tracks\r\n  }\r\n\r\n    render(){\r\n      let { source } = this.props\r\n      // let { lastSongAdded } = this.state\r\n      const options = { audioLists: this.changeObjKeys(source) }\r\n        return(\r\n<ReactJkMusicPlayer {...options}\r\nautoPlay={true}\r\nremove={true}\r\nshowDownload={false}\r\nshowPlayMode={true}\r\nshowThemeSwitch={false}\r\nmode='full'\r\nonAudioListsChange={this.playSong}\r\n/>\r\n        )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport SideNav, { NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav';\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\r\nimport Auth from '../utils/Auth';\r\nimport { SIGNOUT } from '../api/queries';\r\nimport { Query } from 'react-apollo';\r\nimport moment from 'moment';\r\n\r\nexport default class Sidebar extends React.Component {\r\n    state = {\r\n      signOut:false\r\n    }\r\n\r\n    tabSwitch = (selected) => {\r\n        this.props.setTab(selected)\r\n    }\r\n\r\n    renderSignOut = () => {\r\n        console.log('test')\r\n        return (\r\n          <Query query={SIGNOUT} variables={{ username: Auth.getUserName(), date: moment().format() }}>\r\n            {({ loading, error, data }) => {\r\n              if (loading) return 'Loading...';\r\n              if (error) return `Error! ${error.message}`;\r\n              console.log(data)\r\n              Auth.signOutUser()\r\n              return (\r\n                <div>\r\n                </div>\r\n              )\r\n            }}\r\n          </Query>\r\n        )\r\n      }\r\n\r\n\r\n    render() {\r\n      if (this.state.signOut) {\r\n        return this.renderSignOut()\r\n      }\r\n        return (\r\n            <SideNav className=\"sidebar\"\r\n                onSelect={(selected) => {\r\n                    if (selected === 'signout'){\r\n                    this.setState({signOut:true})\r\n                  }\r\n                    this.tabSwitch(selected)\r\n                }}\r\n            >\r\n                <SideNav.Toggle />\r\n                <SideNav.Nav defaultSelected=\"home\">\r\n                    <NavItem eventKey=\"home\">\r\n                        <NavIcon>\r\n                            <i className=\"fa fa-fw fa-home\" style={{ fontSize: '1.75em' }} />\r\n                        </NavIcon>\r\n                        <NavText>\r\n                            Home\r\n            </NavText>\r\n                    </NavItem>\r\n                    <NavItem eventKey=\"playlist\">\r\n                        <NavIcon>\r\n                            <i className=\"fas fa-list\" style={{ fontSize: '1.75em' }} />\r\n                        </NavIcon>\r\n                        <NavText>\r\n                            Playlist\r\n            </NavText>\r\n                    </NavItem>\r\n\r\n                    <NavItem eventKey=\"more\">\r\n                        <NavIcon>\r\n                            <i className=\"fa fas fa-cogs\" style={{ fontSize: '1.75em' }} />\r\n                        </NavIcon>\r\n                        <NavText>\r\n                            Settings\r\n            </NavText>\r\n                        <NavItem eventKey=\"manage_playlist\">\r\n                            <NavText>\r\n                                Manage playlists\r\n                            </NavText>\r\n                        </NavItem>\r\n                    </NavItem>\r\n\r\n                    <NavItem eventKey=\"signout\">\r\n                        <NavIcon>\r\n                                <i className=\"fas fa-sign-out-alt\" style={{ fontSize: '1.75em' }} />\r\n                        </NavIcon>\r\n                            <NavText>\r\n                                Signout\r\n            </NavText>\r\n                    </NavItem>\r\n                </SideNav.Nav>\r\n            </SideNav>\r\n                )\r\n            }\r\n        }\r\n","import React from 'react'\r\nimport _ from 'lodash'\r\nimport { Query } from 'react-apollo';\r\nimport { ONCHANGE_SEARCH } from '../api/queries';\r\nimport { Search, Grid } from 'semantic-ui-react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    results: [],\r\n    value: '',\r\n    preventLoop: 1,\r\n    redirect: false,\r\n    selectedSongData: ''\r\n}\r\n\r\nexport default class OnChangeSearch extends React.Component {\r\n    state = initialState\r\n\r\n    handleResultSelect = (e, { result }) => {\r\n        let { songData, allSongs } = this.state\r\n        if (result.key === '@') {\r\n            let selectedSongData = { searchSong: allSongs }\r\n            this.setState({ value: result.title, redirect: true, selectedSongData })\r\n        } else {\r\n            let selectedSongData = { searchSong: [songData[result.key]] }\r\n            this.setState({ value: result.title, redirect: true, selectedSongData })\r\n        }\r\n    }\r\n\r\n    handleSearchChange = (e, { value }) => {\r\n        this.setState({ isLoading: false, value, preventLoop: 1, results: [] })\r\n        try{\r\n        this.props.switchtab('home')\r\n      }\r\n      catch{\r\n        ////Component didnt mount yet\r\n      }\r\n    }\r\n\r\n    handleResData = (data) => {\r\n      if(!data) return;\r\n        if (data.onChangeSearch.length > 0) {\r\n            let top4Res = [];\r\n            let rawData = [];\r\n            for (let z = 0; z < 4; z++) {\r\n                let apiRes = data.onChangeSearch[z]\r\n                let onSearchData;\r\n                if (z < 1) {\r\n                    onSearchData = {\r\n                        key: '@',\r\n                        title: apiRes.artist,\r\n                        description: 'Search All',\r\n                        image: ''\r\n                    }\r\n                } else {\r\n                    onSearchData = {\r\n                        key: z,\r\n                        title: apiRes.artist,\r\n                        description: apiRes.track,\r\n                        image: apiRes.artwork\r\n                    }\r\n                }\r\n                rawData.push(apiRes)\r\n                top4Res.push(onSearchData)\r\n            }\r\n            this.setState({\r\n                preventLoop: 0,\r\n                results: top4Res,\r\n                songData: rawData,\r\n                allSongs: data.onChangeSearch\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { value, results, preventLoop, redirect, selectedSongData } = this.state\r\n        let search = value\r\n        if (redirect) {\r\n            this.setState({ redirect: false })\r\n            return (\r\n                <Redirect to={{\r\n                    pathname: '/webplayer',\r\n                    state: { data: selectedSongData }\r\n                }} />\r\n            )\r\n        }\r\n        return (\r\n            <Query query={ONCHANGE_SEARCH} variables={{ search }}>\r\n                {({ loading, error, data }) => {\r\n                    if (!loading && preventLoop === 1) {\r\n                        this.handleResData(data)\r\n                    }\r\n                    return (\r\n                        <Grid>\r\n                            <Grid.Column width={8}>\r\n                                <Search\r\n                                    loading={loading}\r\n                                    onResultSelect={this.handleResultSelect}\r\n                                    onSearchChange={_.debounce(this.handleSearchChange, 500, {\r\n                                        leading: true,\r\n                                    })}\r\n                                    results={results}\r\n                                    value={value}\r\n                                    {...this.props}\r\n                                />\r\n                            </Grid.Column>\r\n                        </Grid>\r\n                    );\r\n                }}\r\n            </Query>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Button, Dimmer, Image } from 'semantic-ui-react'\r\nimport Auth from '../utils/Auth'\r\nimport { FOLLOW_PLAYLIST, UNFOLLOW_PLAYLIST } from '../api/queries'\r\nimport { Mutation } from 'react-apollo';\r\n\r\nexport default class cards extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: Auth.getUserName(),\r\n      playlist: this.props.playlist_meta.name\r\n    }\r\n  }\r\n\r\n  handleShow = () => this.setState({ active: true })\r\n  handleHide = () => this.setState({ active: false })\r\n\r\n  intialPlayer = (playlist) => {\r\n    this.setState({ activePlaylist: playlist })\r\n    let songList = [];\r\n    for (const track of this.props.songs) {\r\n      songList.push(track);\r\n    }\r\n    this.props.playTrack(songList, 0)\r\n  }\r\n\r\n  resetCard = () => {\r\n    this.setState({\r\n      active: false\r\n    })\r\n  }\r\n\r\n  renderFollowButton = () => {\r\n    let { username, playlist } = this.state;\r\n    let follower_list = this.props.playlist_meta.follower_list\r\n    if (follower_list.includes(Auth.getUserName())) {\r\n      return (\r\n        <Mutation mutation={UNFOLLOW_PLAYLIST} variables={{ username, playlistName: playlist }}>\r\n          {unfollowPlaylist => (\r\n            <Button icon=\"heart\" color='red' onClick={unfollowPlaylist}></Button>\r\n          )}\r\n        </Mutation>\r\n      )\r\n    } else {\r\n      return (\r\n        <Mutation mutation={FOLLOW_PLAYLIST} variables={{ username, playlistName: playlist }}>\r\n          {followPlaylist => (\r\n            <Button icon=\"heart outline\" color='red' onClick={followPlaylist}></Button>\r\n          )}\r\n        </Mutation>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { image, index } = this.props\r\n    const { active } = this.state\r\n    const content = (\r\n      <div>\r\n        <Button primary icon=\"play\" onClick={() => this.intialPlayer(index)}></Button>\r\n        {this.renderFollowButton()}\r\n      </div>\r\n    )\r\n\r\n    return (\r\n      <Dimmer.Dimmable\r\n        as={Image}\r\n        dimmed={active}\r\n        dimmer={{ active, content }}\r\n        onMouseEnter={this.handleShow}\r\n        onMouseLeave={this.handleHide}\r\n        size='small'\r\n        src={image}\r\n      />\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Header, Button, List, Icon, Popup } from 'semantic-ui-react'\r\nimport { DELETE_TRACK } from '../api/queries';\r\nimport Auth from '../utils/Auth';\r\nimport { Query } from 'react-apollo';\r\n\r\nexport default class songlist extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      username: this.props.username,\r\n      delete: false,\r\n      trackInfo: {},\r\n      open: false,\r\n      currentTrack: -1\r\n    }\r\n  }\r\n\r\n  playTrack = (track) => {\r\n    let songList = [];\r\n    let startTrack;\r\n    for (const playlist of this.props.data) {\r\n      if (playlist.name === this.props.choice) {\r\n        for (const song of playlist.songs) {\r\n          songList.push(song.song);\r\n        }\r\n      }\r\n    }\r\n    startTrack = songList.indexOf(track);\r\n    this.playSong(songList, startTrack);\r\n  }\r\n\r\n  async playSong(songList, startTrack) {\r\n      let index = startTrack;\r\n      this.setState({\r\n        currentTrack: startTrack\r\n      });\r\n      let x = document.querySelector(\"#player\");\r\n      x.src = songList[index];\r\n      index++;\r\n      var playPromise = x.play();\r\n\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(_ => {\r\n          x.addEventListener('ended', async () => {\r\n            if (index !== songList.length) {\r\n              await this.playSong(songList, index);\r\n            } else {\r\n              await this.playSong(songList, 0);\r\n            }\r\n          });\r\n        })\r\n          .catch(error => {\r\n          });\r\n      }\r\n  }\r\n\r\n  stopMusic = () => {\r\n    let x = document.querySelector(\"#player\");\r\n    x.src = '';\r\n    this.setState({\r\n      currentTrack: -1\r\n    });\r\n  };\r\n\r\n  deleteTrack = (event) => {\r\n    let trackInfo = { track: event.target.id, artist: '', playlist_name: this.props.choice }\r\n\r\n    for (const playlist of this.props.data) {\r\n      if (playlist.name === this.props.choice) {\r\n        for (const song of playlist.songs) {\r\n          if (song.track === trackInfo.track) {\r\n            trackInfo.artist = song.artist\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      delete: true,\r\n      trackInfo\r\n    });\r\n  }\r\n\r\n  renderDelete = () => {\r\n    if (this.state.delete) {\r\n      return (\r\n        <Query query={DELETE_TRACK} variables={{ username: this.state.username, trackInfo: this.state.trackInfo }}>\r\n          {({ loading, error, data }) => {\r\n            if (loading) return 'Loading...';\r\n            if (error) return `Error! ${error.message}`;\r\n            return (\r\n              <div>\r\n                {this.buildList()}\r\n              </div>\r\n            )\r\n          }}\r\n        </Query>\r\n      )\r\n    }\r\n  }\r\n\r\n  renderDeleteState = () => {\r\n    if (this.state.delete) {\r\n      this.setState({\r\n        delete: false\r\n      });\r\n    }\r\n  }\r\n\r\n  renderRemove = (song, creator) => {\r\n    if (this.state.username === creator && !this.props.from && this.state.username === Auth.getUserName()) {\r\n      return (\r\n        <List.Content floated='right'>\r\n          {this.renderDelete()}\r\n          <Popup basic content='Remove from playlist' trigger={<Icon inverted id={song.track} ref={song.artist} onClick={this.deleteTrack} link name='remove' />} />\r\n          {this.renderDeleteState()}\r\n        </List.Content>\r\n      )\r\n    }\r\n  }\r\n\r\n  buildList = () => {\r\n    let playlists = this.props.data;\r\n    let listItems = [];\r\n    let index = 0;\r\n    let button;\r\n    for (const playlist of playlists) {\r\n      if (playlist.name === this.props.choice) {\r\n        let songs = playlist.songs;\r\n        for (const song of songs) {\r\n          if (index === this.state.currentTrack) {\r\n            button = (\r\n              <Button inverted floated='left' size='mini' onClick={this.stopMusic} style={{ marginTop: 10 }} icon>\r\n                <Icon name='stop' />\r\n              </Button>\r\n            );\r\n          } else {\r\n            button = (\r\n              <Button inverted floated='left' size='mini' onClick={() => this.playTrack(song.song)} style={{ marginTop: 10 }} icon>\r\n                <Icon name='play' />\r\n              </Button>\r\n            );\r\n          }\r\n          listItems.push(\r\n            <List.Item key={index}>\r\n              {button}\r\n              <List.Header>\r\n                {song.track}\r\n              </List.Header>\r\n              <List.Description>{song.artist} | {song.album}</List.Description>\r\n              {this.renderRemove(song, playlist.creator)}\r\n            </List.Item>\r\n          )\r\n          index++;\r\n        }\r\n      }\r\n    }\r\n    return listItems;\r\n  }\r\n\r\n  render() {\r\n    let choice = this.props.choice;\r\n    return (\r\n      <div>\r\n        <Button onClick={this.props.reset} floated='left' size='small' icon='angle left' />\r\n        <Header centered='true' as='h2' inverted>\r\n          {choice}\r\n        </Header>\r\n        <List celled relaxed inverted>\r\n          {this.buildList()}\r\n        </List>\r\n        <audio src=\"\" id='player'>\r\n          <source src=\"\" />\r\n        </audio>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Card } from 'semantic-ui-react';\r\nimport { ALL_PLAYLISTS } from '../api/queries';\r\nimport '../styling/App.css';\r\nimport { Query } from 'react-apollo';\r\nimport PlaylistCards from './playlistCards';\r\nimport SongList from '../components/songlist';\r\n\r\nexport default class PlayListInCards extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            viewSongs: false,\r\n            data: [],\r\n            choice: ''\r\n        }\r\n    }\r\n\r\n    playTrack = (songList, item) => {\r\n        this.props.playTrack(songList)\r\n    }\r\n\r\n    renderSongs = () => {\r\n        return (\r\n            <SongList\r\n                data={this.state.data}\r\n                choice={this.state.choice}\r\n                from='webplayer'\r\n                playTrack={this.playTrack}\r\n                reset={this.reset}\r\n            />\r\n        )\r\n    }\r\n\r\n    renderPlaylists = () => (\r\n        <Query query={ALL_PLAYLISTS} pollInterval={500}>\r\n            {({ loading, error, data }) => {\r\n                if (loading) return 'Loading...';\r\n                if (error) return `Error! ${error.message}`;\r\n                let playlistData = data.allPlaylists.playlists;\r\n                let songTiles = [];\r\n                for (let z = 0; z < playlistData.length; z++) {\r\n                    let playlist = playlistData[z];\r\n                    if (playlist.songs.length > 0) {\r\n                        songTiles.push(\r\n                            <div key={z} className=\"cardDiv\">\r\n                                <PlaylistCards\r\n                                    image={playlist.songs[0].artwork}\r\n                                    songs={playlist.songs}\r\n                                    playTrack={this.playTrack}\r\n                                    playlist_meta={playlist}\r\n                                    index={z}\r\n                                /><br />\r\n                                <strong className='playlistSelect' onClick={() => this.displaySongs(playlistData, playlist.name)}>{playlist.name}</strong>\r\n                            </div>\r\n                        )\r\n                    }\r\n                }\r\n                return songTiles\r\n            }}\r\n        </Query>\r\n    )\r\n\r\n    displaySongs = (data, choice) => {\r\n        this.setState({ \r\n            viewSongs: true,\r\n            choice,\r\n            data\r\n        });\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            viewSongs: false,\r\n            choice: ''\r\n        });\r\n    }\r\n\r\n    renderData = () => {\r\n        if (this.state.viewSongs) {\r\n            return (\r\n                <div>\r\n                    {this.renderSongs()}\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <Card.Group centered itemsPerRow={6}>\r\n                    {this.renderPlaylists()}\r\n                </Card.Group>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.renderData()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport '../styling/App.css';\r\nimport { Container, Card, Grid } from 'semantic-ui-react';\r\nimport Cards from '../components/musicInCard';\r\nimport Player from '../components/player';\r\nimport SidebarA from '../components/sidebar';\r\nimport OnChangeSearch from '../components/onChangeSearch';\r\nimport Playlists from '../components/playlistInCards';\r\nimport { Redirect } from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class Webplayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      current_Tab:'',\r\n      track:[]\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.beforeunload.bind(this));\r\n    axios\r\n      .post('/signIn', { username: Auth.getUserName() })\r\n      .then(res => { });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('beforeunload', this.beforeunload.bind(this));\r\n  }\r\n\r\n  beforeunload() {\r\n    axios\r\n      .post('/signOut', { username: Auth.getUserName(), date: moment().format() })\r\n      .then(res => { });\r\n  }\r\n\r\n  playTrack = (music) => {\r\n    this.setState({track:music})\r\n  }\r\n\r\n  renderTab = (tab) => {\r\n    if(tab === undefined) tab = 'home'\r\n    if(tab === 'home') return this.renderData()\r\n    if(tab === 'playlist') return <Playlists playTrack={this.playTrack}/>\r\n    if(tab === 'manage_playlist') return <Redirect to='/profile'/>\r\n  }\r\n\r\n  setTab = (tab) => {\r\n      this.setState({current_Tab:tab})\r\n  }\r\n\r\n  renderData = () => {\r\n    if (this.props.location.state !== undefined) {\r\n      let song_data = this.props.location.state.data.searchSong\r\n      let songTiles = [];\r\n      for (let z = 0; z < song_data.length; z++) {\r\n        songTiles.push(\r\n          <div key={z} className=\"cardDiv\">\r\n            <Cards\r\n              image={song_data[z].artwork}\r\n              artist={song_data[z].artist}\r\n              track={song_data[z].track}\r\n              song={song_data[z].song}\r\n              playTrack={this.playTrack}\r\n              song_meta={song_data[z]}\r\n              index={z}\r\n            /><br />\r\n            <strong>{song_data[z].track}</strong>\r\n          </div>\r\n        )\r\n      }\r\n      return <Card.Group centered itemsPerRow={6}>{songTiles}</Card.Group>\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { current_Tab, track } = this.state\r\n    return (\r\n      <div className='webplayer'>\r\n        <SidebarA setTab={this.setTab}/>\r\n        <div className=\"cardContainer\">\r\n          <Grid >\r\n            <Grid.Row centered><OnChangeSearch switchtab={this.setTab} /></Grid.Row>\r\n          </Grid>\r\n          <Container style={{ margin: 15 }}>\r\n          {this.renderTab(current_Tab)}\r\n          </Container>\r\n        </div>\r\n        <Player source={track}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Header, Grid, Input, Button, Message, Icon, Modal, Divider, Popup, List } from 'semantic-ui-react'\r\nimport { USER_DATA, UPDATE_USER, UPDATE_PASSWORD, DEACTIVATE, ACTIVATE } from '../api/queries';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport Auth from '../utils/Auth';\r\nimport axios from 'axios';\r\n\r\nexport default class settings extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: Auth.getUserName(),\r\n            firstName: '',\r\n            lastName: '',\r\n            email: '',\r\n            response: '',\r\n            file:'',\r\n            status: false,\r\n            modalOpen: false,\r\n            currentPass: '',\r\n            newPass: '',\r\n            testPass: '',\r\n            modalError: false,\r\n            test: false\r\n        }\r\n    }\r\n//component needs to made smaller\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    };\r\n        \r\n    renderUserSettings = () => (\r\n        <Query query={USER_DATA} variables={{ username: Auth.getUserName() }} pollInterval={500}>\r\n            {({ loading, error, data }) => {\r\n                if (loading) return 'Loading...';\r\n                if (error) return `Error! ${error.message}`;\r\n                let info = data.userData.user;\r\n                let button = this.renderActiveButton(info.active);\r\n                return (\r\n                    <Grid>\r\n                        <Grid.Row>\r\n                            <Grid.Column>\r\n                                <Header floated='left' as='h4' block>\r\n                                    Username: {this.state.username} {button}\r\n                                </Header>\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                            <Grid.Column width={5}>\r\n                                <Input style={{ width: 200, float: 'left' }} label={{ tag: false, color: 'teal', content: 'First name' }} placeholder={info.firstName} name='firstName' onChange={this.handleChange} />\r\n                            </Grid.Column>\r\n                            <Grid.Column width={4}>\r\n                                <Input style={{ width: 200, float: 'left' }} label={{ tag: false, color: 'teal', content: 'Last name' }} placeholder={info.lastName} name='lastName' onChange={this.handleChange} />\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        {this.renderEmail(info)}\r\n                    </Grid>\r\n                )\r\n            }}\r\n        </Query>\r\n    )\r\n\r\n    onPictureUpload = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('avatar',e.target.files[0]);\r\n        const token = localStorage.getItem('sudo')\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data',\r\n                authorization: token ? `Bearer:${token}` : ''\r\n            }\r\n        };\r\n        axios.post(\"/upload\",formData,config)\r\n            .then((data) => {\r\n                this.setState({response:data.response})\r\n            }).catch((error) => {\r\n        });\r\n    }\r\n\r\n    renderMessage = () => {\r\n        if (this.state.status && this.state.response) {\r\n            return (\r\n                <Message positive>\r\n                    <Message.Header>{this.state.response}</Message.Header>\r\n                </Message>\r\n            )\r\n        }\r\n    }\r\n\r\n    handleOpen = () => this.setState({ modalOpen: true })\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            modalOpen: false,\r\n            modalError: false\r\n        })\r\n    }\r\n\r\n    handleCheck = (info) => {\r\n        if (this.state.newPass === this.state.testPass) {\r\n            if (info.status) {\r\n                this.setState({ modalOpen: false })\r\n            } else {\r\n                this.setState({\r\n                    modalError: true,\r\n                    response: info.response\r\n                });\r\n            }\r\n        } else {\r\n            this.setState({\r\n                modalError: true,\r\n                response: info.response\r\n            });\r\n        }\r\n    }\r\n\r\n    renderEmail = (info) => {\r\n        return (\r\n            <div>\r\n            <Grid.Row>\r\n                <Grid.Column width={10}>\r\n                    <Input fluid label={{ tag: false, color: 'teal', content: 'Email' }} placeholder={info.email} name='email' onChange={this.handleChange} />\r\n                </Grid.Column>\r\n                </Grid.Row>\r\n            <Grid.Row>\r\n                <Grid.Column width={3} style={{marginTop:10}}>\r\n        <Input type=\"file\" name=\"avatar\" onChange={this.onPictureUpload} />\r\n</Grid.Column>\r\n            </Grid.Row>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderActiveButton = (active) => {\r\n        let { username } = this.state;\r\n        if (active) {\r\n            return (\r\n                <Mutation mutation={DEACTIVATE} variables={{ username }}\r\n                    update={(cache, { data }) => {\r\n                        this.setState({\r\n                            test: active\r\n                        });\r\n                    }\r\n                    }\r\n                >\r\n                    {deactivate => (\r\n                        <Popup trigger={\r\n                            <Button size='mini' onClick={deactivate} color='green'>\r\n                                Active\r\n                    </Button>\r\n                        } wide>\r\n                            <Header as='h2'>\r\n                                You're account is currently active\r\n                                    <Header.Subheader>\r\n                                    This means you are visible to friends and other users who search your profile.\r\n                                    </Header.Subheader>\r\n                            </Header>\r\n                        </Popup>\r\n                    )}\r\n                </Mutation>\r\n            )\r\n        } else {\r\n            return (\r\n                <Mutation mutation={ACTIVATE} variables={{ username }}\r\n                    update={(cache, { data }) => {\r\n                        this.setState({\r\n                            test: active\r\n                        });\r\n                    }\r\n                    }\r\n                >\r\n                    {activate => (\r\n                        <Popup trigger={<Button size='mini' onClick={activate} color='red'>\r\n                            Disabled\r\n                        </Button>\r\n                        } wide>\r\n                            <Header as='h2'>\r\n                                You're account is currently disabled\r\n                                        <Header.Subheader>\r\n                                    This means you are invisible to friends and other users who search your profile.\r\n                                        </Header.Subheader>\r\n                            </Header>\r\n                        </Popup>\r\n                    )}\r\n                </Mutation>\r\n            )\r\n        }\r\n    }\r\n\r\n    handleModalError = () => {\r\n        if (this.state.modalError) {\r\n            return (\r\n                <Message style={{ margin: 0 }} negative>\r\n                    <Message.Header>{this.state.response}</Message.Header>\r\n                </Message>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        let { username, firstName, lastName, email, currentPass, newPass, testPass } = this.state;\r\n        return (\r\n            <div>\r\n                {this.renderUserSettings()}\r\n                <br />\r\n                {this.renderMessage()}\r\n                <Mutation mutation={UPDATE_USER} variables={{ username, updateData: { firstName, lastName, email } }}\r\n                    update={(cache, { data }) => {\r\n                        this.setState({\r\n                            response: data.updateUser.response,\r\n                            status: data.updateUser.status\r\n                        });\r\n                    }\r\n                    }\r\n                >\r\n                    {updateInfo => (\r\n                        <Button type=\"submit\" color='teal' onClick={updateInfo}>\r\n                            Update\r\n                    </Button>\r\n                    )}\r\n                </Mutation>\r\n                <Modal\r\n                    trigger={<Button onClick={this.handleOpen}>Change Password</Button>}\r\n                    open={this.state.modalOpen}\r\n                    onClose={this.handleClose}\r\n                    size='mini'\r\n                >\r\n                    <Header icon='lock' content='Change password' />\r\n                    <Modal.Content>\r\n                        <Header as='h4'> Current Password\r\n                            <Input name='currentPass' type='password' onChange={this.handleChange}></Input>\r\n                        </Header>\r\n                    </Modal.Content>\r\n                    <Divider style={{ margin: 0 }} />\r\n                    <Modal.Content>\r\n                        <Header as='h4'> New Password <br />\r\n                            <Input name='newPass' type='password' onChange={this.handleChange}></Input>\r\n                            <Popup trigger={<Icon size='mini' style={{ float: 'right' }} circular name='info' />} wide>\r\n                                <Header as='h2'>\r\n                                    A strong password requires:\r\n                                </Header>\r\n                                <List bulleted>\r\n                                    <List.Item>More than 8 Characters</List.Item>\r\n                                    <List.Item>Atleast 1 Uppercase letter</List.Item>\r\n                                    <List.Item>Atleast 1 Lowercase letter</List.Item>\r\n                                    <List.Item>Atleast 1 Special character (!@#$%^&*)</List.Item>\r\n                                    <List.Item>Atleast 1 Number</List.Item>\r\n                                </List>\r\n                            </Popup>\r\n                        </Header>\r\n                        <Header as='h4'> Confirm Password\r\n                        <Input style={{ marginTop: 3 }} name='testPass' type='password' onChange={this.handleChange}></Input>\r\n                        </Header>\r\n                    </Modal.Content>\r\n                    {this.handleModalError()}\r\n                    <Modal.Actions>\r\n                        <Button color='red' onClick={this.handleClose} inverted>\r\n                            <Icon name='cancel' /> Cancel\r\n                        </Button>\r\n                        <Mutation mutation={UPDATE_PASSWORD} variables={{ username, currentPass, newPass, testPass }}\r\n                            update={(cache, { data }) => {\r\n                                let info = data.updatePassword;\r\n                                this.handleCheck(info);\r\n                            }\r\n                            }\r\n                        >\r\n                            {updatePass => (\r\n                                <Button color='green' onClick={updatePass} inverted>\r\n                                    <Icon name='check' /> Update\r\n                            </Button>\r\n                            )}\r\n                        </Mutation>\r\n                    </Modal.Actions>\r\n                </Modal>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Header, Dimmer, Image } from 'semantic-ui-react';\r\n\r\nexport default class ProfilePlaylistCards extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            playlist: this.props.playlist,\r\n            active: false\r\n        }\r\n    }\r\n\r\n    handleShow = () => this.setState({ active: true })\r\n    handleHide = () => this.setState({ active: false })\r\n\r\n    render() {\r\n        const { active, playlist } = this.state;\r\n        let followerString = 'followers: ' + playlist.followers;\r\n        let songString = 'songs: ' + playlist.song_count;\r\n        let content = (\r\n            <Header inverted>\r\n                {playlist.name}\r\n                <Header.Subheader>\r\n                    {followerString}\r\n                </Header.Subheader>\r\n                <Header.Subheader>\r\n                    {songString}\r\n                </Header.Subheader>\r\n            </Header>\r\n        )\r\n        let artwork;\r\n        if (playlist.songs.length > 0) {\r\n            artwork = playlist.songs[0].artwork;\r\n        } else {\r\n            artwork = '/assets/playlist_default';\r\n        }\r\n        return (\r\n            <Dimmer.Dimmable\r\n                as={Image}\r\n                dimmed={active}\r\n                dimmer={{ active, content }}\r\n                onMouseEnter={this.handleShow}\r\n                onMouseLeave={this.handleHide}\r\n                size='small'\r\n                src={artwork}\r\n            />\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Icon, Button, Message, Card, Grid, Container, Modal, Input, Header, Confirm } from 'semantic-ui-react';\r\nimport Playlists from '../components/profilePlaylistCards';\r\nimport { USERS_PLAYLIST, NEW_PLAYLIST, UNFOLLOW_PLAYLIST } from '../api/queries';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport SongList from './songlist';\r\nimport Auth from '../utils/Auth';\r\nimport AudioPlayer from './player';\r\n\r\nexport default class PlaylistDisplay extends React.Component {\r\n    state = {\r\n        username: this.props.username,\r\n        showSongs: false,\r\n        playlistChoice: '',\r\n        modalOpen: false,\r\n        editSettings: false,\r\n        modalError: false,\r\n        response: '',\r\n        playlistName: '',\r\n        open: false,\r\n        active: false\r\n    }\r\n\r\n    open = () => this.setState({ open: true })\r\n    close = () => this.setState({ open: false })\r\n\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n\r\n    handleOpen = () => this.setState({ modalOpen: true })\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            modalOpen: false,\r\n            modalError: false,\r\n            playlistName: ''\r\n        })\r\n    }\r\n\r\n    handleModalError = () => {\r\n        if (this.state.modalError && this.state.response) {\r\n            return (\r\n                <Message style={{ margin: 0 }} negative>\r\n                    <Message.Header>{this.state.response}</Message.Header>\r\n                </Message>\r\n            )\r\n        }\r\n    }\r\n\r\n    handleCheck = (res) => {\r\n        if (res.newPlaylist.status) {\r\n            this.setState({\r\n                modalOpen: false,\r\n                modalError: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                modalError: true,\r\n                response: res.newPlaylist.response\r\n            })\r\n        }\r\n    }\r\n\r\n    displaySongs = (value) => {\r\n        this.setState({\r\n            showSongs: true,\r\n            playlistChoice: value\r\n        });\r\n    }\r\n\r\n    reset = () => {\r\n        this.setState({\r\n            showSongs: false,\r\n            playlistChoice: ''\r\n        });\r\n    }\r\n\r\n    renderNewPlaylistModal = (cards) => {\r\n        if (this.state.username === Auth.getUserName()) {\r\n            return (\r\n                <Modal\r\n                    trigger={\r\n                        <Card onClick={this.handleOpen} color='teal' key='create'>\r\n                            <Card.Content>\r\n                                <Button style={{ width: 50, height: 50 }} circular icon='add' />\r\n                            </Card.Content>\r\n                        </Card>}\r\n                    open={this.state.modalOpen}\r\n                    basic\r\n                    onClose={this.handleClose}\r\n                    size='mini'\r\n                >\r\n                    <Header icon='music' content='Give your playlist a name' />\r\n                    <Modal.Content>\r\n                        <Input transparent inverted placeholder='Playlist name..' name='playlistName' type='text' onChange={this.handleChange}></Input>\r\n                    </Modal.Content>\r\n                    {this.handleModalError()}\r\n                    <Modal.Actions>\r\n                        <Button color='red' onClick={this.handleClose} inverted>\r\n                            <Icon name='cancel' /> Cancel\r\n            </Button>\r\n                        <Mutation mutation={NEW_PLAYLIST} variables={{ name: this.state.playlistName, creator: this.state.username }}\r\n                            update={(cache, { data }) => {\r\n                                let res = data;\r\n                                this.handleCheck(res);\r\n                            }\r\n                            }\r\n                        >\r\n                            {newPlaylist => (\r\n                                <Button color='green' onClick={newPlaylist} inverted>\r\n                                    <Icon name='check' /> Create\r\n                    </Button>\r\n                            )}\r\n                        </Mutation>\r\n                    </Modal.Actions>\r\n                </Modal>\r\n            )\r\n        } else if (cards.length === 0) {\r\n            return (\r\n                <Header as='h3' inverted style={{ marginTop: 10 }}>No playlists yet</Header>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderUnfollow = () => {\r\n        if (this.state.username === Auth.getUserName()) {\r\n            return (\r\n                <Mutation mutation={UNFOLLOW_PLAYLIST} variables={{ username: this.state.username, playlistName: this.state.playlistChoice }}\r\n                    update={(cache, { data }) => {\r\n                        this.reset()\r\n                    }\r\n                    }\r\n                >\r\n                    {unfollow => (\r\n                        <div>\r\n                            <Button onClick={this.open} floated='right' basic inverted color='teal'>\r\n                                Unfollow\r\n                      </Button>\r\n                            <Confirm\r\n                                size='mini'\r\n                                open={this.state.open}\r\n                                onCancel={this.close}\r\n                                onConfirm={unfollow}\r\n                            />\r\n                        </div>\r\n                    )}\r\n                </Mutation>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Query query={USERS_PLAYLIST} variables={{ username: this.props.username }} pollInterval={500}>\r\n                {({ loading, error, data }) => {\r\n                    if (loading) return 'Loading...';\r\n                    if (error) return `Error! ${error.message}`;\r\n                    let playlistCards = [];\r\n                    let response;\r\n                    let index = 0;\r\n                    if (this.state.showSongs) {\r\n                        return (\r\n                            <Grid.Row>\r\n                                <Grid.Column>\r\n                                    {this.renderUnfollow()}\r\n                                    <SongList\r\n                                        data={data.playlistsForUser.playlists}\r\n                                        choice={this.state.playlistChoice}\r\n                                        reset={this.reset}\r\n                                        username={this.props.username}\r\n                                    />\r\n                                    {/* <AudioPlayer /> for time being */}\r\n                                </Grid.Column>\r\n                            </Grid.Row>\r\n                        )\r\n                    } else {\r\n                        if (data.playlistsForUser.playlists) {\r\n                            for (const playlist of data.playlistsForUser.playlists) {\r\n                                playlistCards.push(\r\n                                    <div key={index} onClick={() => { this.displaySongs(playlist.name) }} className='cardDiv playlistSelect'>\r\n                                        <Playlists \r\n                                            playlist={playlist}\r\n                                        />\r\n                                    </div>\r\n                                )\r\n                                index++;\r\n                            }\r\n                        }\r\n                        response = (\r\n                            <Container>\r\n                                <Grid.Row width={16}>\r\n                                    <Card.Group itemsPerRow={6}>\r\n                                        {playlistCards}\r\n                                        {this.renderNewPlaylistModal(playlistCards)}\r\n                                    </Card.Group>\r\n                                </Grid.Row>\r\n                            </Container>);\r\n                    }\r\n                    return response;\r\n                }}\r\n            </Query>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport { Card, Button, Header, Grid, Input, Image } from 'semantic-ui-react';\r\nimport { } from '../api/queries';\r\nimport '../styling/App.css';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { FRIEND_SEARCH,SEND_FRIEND_REQUEST } from '../api/queries';\r\nimport Auth from '../utils/Auth';\r\nimport ProfileDisplay from './profileDisplay';\r\n\r\nexport default class FriendSearch extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        search:'',\r\n        username:Auth.getUserName(),\r\n        displayProfile: false,\r\n        chosenUser: ''\r\n      }\r\n    }\r\n\r\n    renderDisplay = () => {\r\n      if (this.state.displayProfile){\r\n        return <ProfileDisplay username={this.state.chosenUser} />\r\n      } else {\r\n        return (\r\n          <Grid>\r\n          <Grid.Row>\r\n            <Grid.Column>\r\n                <Input name=\"search\" placeholder='Search...' onChange={this.handleChange} />\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n          <Grid.Column>\r\n            {this.renderSearch()}\r\n            </Grid.Column>\r\n            </Grid.Row>\r\n            </Grid>\r\n        )\r\n      }\r\n    }\r\n\r\n    renderProfile = (username) => {\r\n      this.setState({\r\n        displayProfile : true,\r\n        chosenUser: username\r\n      });\r\n    }\r\n\r\n    renderSearch = () => {\r\n      let {username, search} = this.state;\r\n      return(\r\n      <Query query={FRIEND_SEARCH} pollInterval={500} variables={{ username, search }}>\r\n        {({ loading, error, data, refetch }) => {\r\n          if (loading) return 'Loading...';\r\n          if (error) return `Error! ${error.message}`;\r\n          let accounts = data.accountSearch.data;\r\n          let accountList = [];\r\n          let index = 0;\r\n          if(accounts){\r\n          for(const account of accounts){\r\n            accountList.push(\r\n              <Card key={index}>\r\n                <Image className='friendImage' onClick={()=>this.props.show(account.friend)} src='https://react.semantic-ui.com/images/avatar/large/matthew.png' wrapped ui={false} />\r\n                  <Card.Content extra>\r\n                    <Card.Description>{account.friend}</Card.Description>\r\n                      <Mutation mutation={SEND_FRIEND_REQUEST} variables={{ requester: username, receiver:account.friend }}\r\n                        update={(cache, { refetch }) => {\r\n                          refetch()\r\n                        }\r\n                        }\r\n                      >\r\n                        {sendRequest => (\r\n                          <Button type='submit' onClick={sendRequest} color='blue'>\r\n                          Add Friend\r\n                          </Button>\r\n                        )}\r\n                      </Mutation>\r\n                  </Card.Content>\r\n              </Card>\r\n            );\r\n            index ++;\r\n          }\r\n            return (\r\n              <Grid.Column>\r\n              <Card.Group itemsPerRow={6}>\r\n                {accountList}\r\n              </Card.Group>\r\n              </Grid.Column>\r\n            )\r\n        } else {\r\n          return <Header as=\"h3\" inverted>No Results</Header>\r\n        }\r\n        }}\r\n      </Query>\r\n    )\r\n    }\r\n\r\n    handleChange = (event) => {\r\n      this.setState({\r\n        [event.target.name]: event.target.value\r\n      })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n          <div>\r\n          {this.renderDisplay()}\r\n          </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Card, Button, Header, Grid, Input, Image } from 'semantic-ui-react';\r\nimport '../styling/App.css';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { VIEW_FRIEND_REQUESTS, ACCEPT_FRIEND_REQUEST, DENY_FRIEND_REQUEST } from '../api/queries';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class FriendRequests extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: Auth.getUserName()\r\n    }\r\n  }\r\n\r\n  renderRequests = () => (\r\n              <Query query={VIEW_FRIEND_REQUESTS} pollInterval={500} variables={{ username:Auth.getUserName() }}>\r\n                {({ loading, error, data, refetch }) => {\r\n                  if (loading) return 'Loading...';\r\n                  if (error) return `Error! ${error.message}`;\r\n                  let requests = data.viewFriendRequests.data;\r\n                  let requestList =[]\r\n                  if(requests){\r\n                    let index = 0;\r\n                  for(const account of requests){\r\n                    requestList.push(\r\n                      <Card key={index}>\r\n                        <Image className='friendImage' onClick={()=>this.props.show(account.friend)} src='https://react.semantic-ui.com/images/avatar/large/matthew.png' wrapped ui={false} />\r\n                          <Card.Content extra>\r\n                            <Card.Description>{account.friend}</Card.Description>\r\n                            <div className='ui two buttons'>\r\n                              <Mutation mutation={ACCEPT_FRIEND_REQUEST} variables={{ username: this.state.username, friend:account.friend }}\r\n                                update={(cache, { refetch }) => {\r\n                                  refetch()\r\n                                }\r\n                                }\r\n                              >\r\n                                {acceptRequest => (\r\n                                  <Button type='submit' onClick={acceptRequest} inverted color='green'>\r\n                                  Accept\r\n                                  </Button>\r\n                                )}\r\n                              </Mutation>\r\n                              <Mutation mutation={DENY_FRIEND_REQUEST} variables={{ username: this.state.username, friend:account.friend }}\r\n                                update={(cache, { data }) => {\r\n                                  refetch()\r\n                                }\r\n                                }\r\n                              >\r\n                                {denyRequest => (\r\n                                  <Button type='submit' onClick={denyRequest} inverted color='red'>\r\n                                  Deny\r\n                                  </Button>\r\n                                )}\r\n                              </Mutation>\r\n                              </div>\r\n                          </Card.Content>\r\n                      </Card>\r\n                    );\r\n                    index ++;\r\n                  }\r\n                  return(\r\n                      <Grid.Column>\r\n                      <Card.Group itemsPerRow={6}>\r\n                        {requestList}\r\n                      </Card.Group>\r\n                      </Grid.Column>\r\n                  )\r\n                } else {\r\n                  return <Header as='h3' inverted style={{marginTop:10}}> No friend requests</Header>\r\n                }\r\n                }}\r\n              </Query>\r\n  )\r\n\r\n  render(){\r\n    return(\r\n      <Grid>\r\n        <Grid.Row>\r\n          {this.renderRequests()}\r\n        </Grid.Row>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Card, Button, Header, Grid, Input, Image } from 'semantic-ui-react';\r\nimport '../styling/App.css';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport { VIEW_FRIEND_LIST, DELETE_FRIEND } from '../api/queries';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class FriendList extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username : Auth.getUserName()\r\n    }\r\n  }\r\n\r\n\r\nrenderFriends= () =>(\r\n  <Query query={VIEW_FRIEND_LIST} pollInterval={500} variables={{ username:this.state.username }}>\r\n    {({ loading, error, data, refetch }) => {\r\n      if (loading) return 'Loading...';\r\n      if (error) return `Error! ${error.message}`;\r\n      let friends = data.viewFriendsList.data;\r\n      let friendsList = [];\r\n      if(friends){\r\n        let index =0;\r\n      for(const account of friends){\r\n        friendsList.push(\r\n          <Card key={index}>\r\n            <Image className='friendImage' onClick={()=>this.props.show(account.friend)} src='https://react.semantic-ui.com/images/avatar/large/matthew.png' wrapped ui={false} />\r\n              <Card.Content extra>\r\n                <Card.Description>{account.friend}</Card.Description>\r\n                  <Mutation mutation={DELETE_FRIEND} variables={{ username:this.state.username, friend:account.friend }}\r\n                    update={(cache, { refetch }) => {\r\n                      refetch()\r\n                    }\r\n                    }\r\n                  >\r\n                    {removeFriend => (\r\n                      <Button type='submit' onClick={removeFriend} color='red'>\r\n                      Remove\r\n                      </Button>\r\n                    )}\r\n                  </Mutation>\r\n              </Card.Content>\r\n          </Card>\r\n        );\r\n        index ++;\r\n      }\r\n      return (\r\n            <Grid.Column>\r\n            <Card.Group itemsPerRow={6}>\r\n              {friendsList}\r\n            </Card.Group>\r\n            </Grid.Column>\r\n      )\r\n      } else {\r\n      return(\r\n        <Header style={{marginTop:10}} inverted as='h3'> No Friends yet</Header>\r\n      )\r\n    }\r\n    }}\r\n  </Query>\r\n)\r\n\r\n  render(){\r\n    return(\r\n      <Grid>\r\n        <Grid.Row>\r\n          {this.renderFriends()}\r\n        </Grid.Row>\r\n      </Grid>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Card, Menu, Label, Header, Grid, Container } from 'semantic-ui-react';\r\nimport { VIEW_FRIEND_REQUESTS } from '../api/queries';\r\nimport '../styling/App.css';\r\nimport { Query, Mutation } from 'react-apollo';\r\nimport FriendSearch from './friendSearch';\r\nimport FriendRequest from './friendRequests';\r\nimport FriendList from './friendList';\r\nimport Auth from '../utils/Auth';\r\n\r\nexport default class Friends extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      activeItem: 'friends'\r\n    }\r\n  }\r\n\r\n  handleItemClick = (e, { name }) => {\r\n      this.setState({ activeItem: name });\r\n  };\r\n\r\n  renderItem = () => {\r\n      if (this.state.activeItem === 'search') {\r\n          return (\r\n            <FriendSearch show={this.props.show}/>\r\n          )\r\n      } else if (this.state.activeItem === 'friends') {\r\n          return (\r\n            <FriendList show={this.props.show} />\r\n          )\r\n      } else if(this.state.activeItem === 'requests'){\r\n        return (\r\n          <FriendRequest show={this.props.show}/>\r\n        )\r\n      }\r\n  };\r\n\r\n  renderRequests =()=>(\r\n            <Query query={VIEW_FRIEND_REQUESTS} pollInterval={500} variables={{ username:Auth.getUserName() }}>\r\n              {({ loading, error, data }) => {\r\n                if (loading) return 'Loading...';\r\n                if (error) return `Error! ${error.message}`;\r\n                let requests = data.viewFriendRequests.data;\r\n                let count = 0;\r\n                if(requests){\r\n                  count = requests.length;\r\n                }\r\n                return(\r\n                  <Menu.Item\r\n                    name='requests'\r\n                    active={this.state.activeItem === 'requests'}\r\n                    onClick={this.handleItemClick}\r\n                  >\r\n                  Requests\r\n                  <Label color='teal'>{count}</Label>\r\n                  </Menu.Item>\r\n                )\r\n              }}\r\n            </Query>\r\n  )\r\n\r\nrender(){\r\n  return(\r\n    <Grid.Row>\r\n    <Grid.Column width={16}>\r\n      <Menu pointing inverted>\r\n        \r\n        <Menu.Item\r\n          name='friends'\r\n          active={this.state.activeItem === 'friends'}\r\n          onClick={this.handleItemClick}\r\n        >\r\n          Friend List\r\n        </Menu.Item>\r\n\r\n        <Menu.Item\r\n          name='search'\r\n          active={this.state.activeItem === 'search'}\r\n          onClick={this.handleItemClick}\r\n        >\r\n          Search\r\n        </Menu.Item>\r\n\r\n        {this.renderRequests()}\r\n\r\n      </Menu>\r\n      {this.renderItem()}\r\n      </Grid.Column>\r\n      </Grid.Row>\r\n  )\r\n}\r\n}\r\n","import React from 'react';\r\nimport { Image, Menu, Grid, Header, Container, Label, Button } from 'semantic-ui-react';\r\nimport Settings from '../components/editSettings';\r\nimport PlaylistDisplay from '../components/profilePlaylist';\r\nimport { USER_DATA } from '../api/queries';\r\nimport { Query } from 'react-apollo';\r\nimport Auth from '../utils/Auth';\r\nimport Friends from '../components/friends';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\nexport default class ProfileDisplay extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activeItem: 'Playlists',\r\n            loggedInUser: Auth.getUserName(),\r\n            username: this.props.username\r\n        }\r\n    }\r\n    \r\n    changeProfileDisplay = (username) => {\r\n        this.setState({\r\n            username,\r\n            activeItem: 'Playlists'\r\n        });\r\n    }\r\n\r\n    renderBack = () => {\r\n        this.setState({\r\n            username: Auth.getUserName(),\r\n            activeItem:'Friends'\r\n        });\r\n    }\r\n\r\n    handleItemClick = (e, { name }) => {\r\n        this.setState({ activeItem: name });\r\n    };\r\n\r\n    setTab = (chosen_tab) => {\r\n        this.setState({ activeItem: chosen_tab })\r\n    }\r\n\r\n    renderBackButton = () => {\r\n        if (this.state.loggedInUser !== this.state.username) {\r\n            return <Button onClick={this.renderBack} floated='left' size='small' icon='angle left' />\r\n        }\r\n    }\r\n\r\n    profilePic = () => {\r\n        const token = localStorage.getItem('sudo')\r\n        const config = {\r\n            headers: {\r\n                authorization: token ? `Bearer:${token}` : ''\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        axios.get(\"/api/profile\", config)\r\n        .then(response => {\r\n            let image = URL.createObjectURL(response.data)\r\n            let imgElem = document.querySelector('#profile')\r\n            imgElem.src = image\r\n          })\r\n    }\r\n\r\n\r\n    renderBannerInfo = () => {\r\n        let { username } = this.state;\r\n        this.profilePic()\r\n        return (\r\n            <Query query={USER_DATA} variables={{ username }}>\r\n                {({ loading, error, data }) => {\r\n                    if (loading) return 'Loading...';\r\n                    if (error) return `Error! ${error.message}`;\r\n                    if (this.state.loggedInUser === username) {\r\n                        return (\r\n                            <Header as='h1' style={{ marginTop: 0.8 + 'em' }} inverted floated='left'>\r\n                                Hello,  {username} <br />\r\n                                <Label as='a' color='purple' image>\r\n                                    Joined\r\n                    <Label.Detail>{data.userData.user.timeStamp.created}</Label.Detail>\r\n                                </Label>\r\n                            </Header>\r\n                        )\r\n                    } else {\r\n                        let lastOnline = data.userData.user.timeStamp.lastSeen;\r\n                        return (\r\n                            <Header as='h1' style={{ marginTop: 0.8 + 'em' }} inverted floated='left'>\r\n                                {username} <br />\r\n                                <Label as='a' color='purple' image>\r\n                                    Joined\r\n                                    <Label.Detail>{data.userData.user.timeStamp.created}</Label.Detail>\r\n                                </Label>\r\n                                <Header.Subheader>\r\n                                    {this.renderLastOnline(lastOnline)}\r\n                                </Header.Subheader>\r\n                            </Header>\r\n                        )\r\n                    }\r\n                }}\r\n            </Query>\r\n        )\r\n    }\r\n\r\n    renderLastOnline = (lastSeen) => {\r\n        if (lastSeen === 'online') {\r\n            return 'Online'\r\n        } else {\r\n            let lastOnline = moment(lastSeen).fromNow()\r\n            return `Last online ${lastOnline}`;\r\n        }\r\n    }\r\n\r\n    renderItem = () => {\r\n        if (this.state.activeItem === 'Playlists') {\r\n            return (\r\n                <PlaylistDisplay username={this.state.username} />\r\n            )\r\n        } else if (this.state.activeItem === 'Settings') {\r\n            return (\r\n                <Settings username={this.state.username} />\r\n            )\r\n        } else if (this.state.activeItem === 'Friends') {\r\n            return (\r\n                <Friends show={this.changeProfileDisplay} username={this.state.username} />\r\n            )\r\n        }\r\n    };\r\n\r\n    renderSettings = () => {\r\n        if (this.state.loggedInUser === this.state.username) {\r\n            return (\r\n                <Menu.Item\r\n                    name='Settings'\r\n                    active={this.state.activeItem === 'Settings'}\r\n                    onClick={this.handleItemClick}\r\n                >\r\n                </Menu.Item>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    renderFriends = () => {\r\n        if (this.state.loggedInUser === this.state.username) {\r\n            return (\r\n                <Menu.Item\r\n                    name='Friends'\r\n                    active={this.state.activeItem === 'Friends'}\r\n                    onClick={this.handleItemClick}\r\n                >\r\n                    Friends\r\n          </Menu.Item>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"profile\" style={{ backgroundColor: 'black' }}>\r\n                <Container style={{ padding: 10 }}>\r\n                    <Grid>\r\n                        <Grid.Row style={{ paddingBottom: 0 }}>\r\n                            <Grid.Column width={16}>\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        {this.renderBackButton()}\r\n                        <Grid.Row color='teal' style={{ marginTop: 15, borderRadius: 10 }}>\r\n                            <Grid.Column width={2}>\r\n                                <Image id='profile' style={{ width: 100, height: 100 }} circular />\r\n                            </Grid.Column>\r\n                            <Grid.Column width={14}>\r\n                                {this.renderBannerInfo()}\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        <Grid.Row>\r\n                            <Grid.Column width={16}>\r\n                                <Menu pointing secondary inverted>\r\n                                    <Menu.Item\r\n                                        name='Playlists'\r\n                                        active={this.state.activeItem === 'Playlists'}\r\n                                        onClick={this.handleItemClick}\r\n                                    >\r\n                                    </Menu.Item>\r\n                                    {this.renderFriends()}\r\n                                    {this.renderSettings()}\r\n                                </Menu>\r\n                            </Grid.Column>\r\n                        </Grid.Row>\r\n                        {this.renderItem()}\r\n                    </Grid>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n","import React from 'react';\r\nimport ProfileDisplay from '../components/profileDisplay';\r\nimport Auth from '../utils/Auth';\r\nimport Navbar from '../components/navbar';\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default class Profile extends React.Component {\r\n  state = {\r\n    username: Auth.getUserName()\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('beforeunload', this.beforeunload.bind(this));\r\n    axios\r\n      .post('/signIn', { username: Auth.getUserName() })\r\n      .then(res => { });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('beforeunload', this.beforeunload.bind(this));\r\n  }\r\n\r\n  beforeunload() {\r\n    axios\r\n      .post('/signOut', { username: Auth.getUserName(), date: moment().format() })\r\n      .then(res => { });\r\n  }\r\n\r\n\r\n  render() {\r\n    let { username } = this.state;\r\n    return (\r\n      <div className=\"profile\" style={{ backgroundColor: 'black' }}>\r\n        <Navbar />\r\n\r\n        <ProfileDisplay username={username} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport Navbar from '../components/navbar';\r\nimport { Header, Button } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport Auth from '../utils/Auth';\r\nimport moment from 'moment';\r\nexport default class HomePage extends React.Component {\r\n    state = {\r\n        redirect: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('beforeunload', this.beforeunload.bind(this));    \r\n        axios\r\n            .post('/signIn', { username: Auth.getUserName() })\r\n            .then(res => {});\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('beforeunload', this.beforeunload.bind(this));\r\n    }\r\n\r\n    beforeunload() {\r\n        axios\r\n            .post('/signOut', { username: Auth.getUserName(), date: moment().format() })\r\n            .then(res => {});\r\n      }\r\n\r\n    render() {\r\n        let { redirect } = this.state\r\n        return (\r\n            <div className=\"bg\">\r\n                <Navbar />\r\n                <Header as='h1' icon textAlign='center' inverted style={{ fontSize: 40, marginTop: '4em' }}>\r\n                    <Header.Content>\r\n                        About us\r\n      </Header.Content>\r\n                    <a href='https://github.com/ghost-zen/audago'>\r\n                        <Button onClick={() => this.setState({ redirect: true })}><code>source code</code></Button>\r\n                    </a>\r\n                </Header>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport HomePage from './pages/Homepage';\r\nimport Webplayer from './pages/Webplayer';\r\nimport Profile from './pages/Profile';\r\nimport About from './pages/About';\r\nimport Auth from './utils/Auth';\r\n\r\nconst Router = (props) => (\r\n\r\n  <HashRouter>\r\n    <Switch>\r\n    <Route exact path=\"/login\" component={Login} />\r\n      <Route exact path=\"/signup\" component={Signup} />\r\n      <Route exact path=\"/\" component={HomePage} />\r\n      <Route exact path=\"/about\" component={About} />\r\n      <PrivateRoute exact path=\"/webplayer\" component={Webplayer} />\r\n      <PrivateRoute exact path=\"/profile\" component={Profile} />\r\n      {/* <PrivateRoute exact path=\"/edit-user\" component={Edit_User} /> */}\r\n    </Switch>\r\n  </HashRouter>\r\n)\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      Auth.getAuth() ? (\r\n        <Component {...props} />\r\n      ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\"\r\n            }}\r\n          />\r\n        )\r\n    }\r\n  />\r\n);\r\n\r\n\r\nexport default Router;\r\n","import React from 'react'\r\nimport { Dimmer, Loader, Container } from 'semantic-ui-react'\r\n\r\nconst Loading = () => (\r\n  <div>\r\n      <Container style={{margin:50}}>\r\n    {/* <Segment> */}\r\n      <Dimmer active inverted>\r\n        <Loader size='large'>Loading</Loader>\r\n      </Dimmer>\r\n\r\n      {/* <Image src='/images/wireframe/paragraph.png' /> */}\r\n    {/* </Segment> */}\r\n    </Container>\r\n  </div>\r\n)\r\n\r\nexport default Loading\r\n","import React, { Component } from 'react';\r\nimport './styling/App.css';\r\nimport Router from './Router.jsx';\r\nimport Auth from './utils/Auth';\r\nimport Loading from './components/loader';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    auth: false,\r\n    loading: true\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ auth: await Auth.check(), loading: false })\r\n  }\r\n\r\n  render() {\r\n    if(this.state.loading){\r\n      return(\r\n        <Loading />\r\n        )\r\n    }else{\r\n      return (\r\n      <div className=\"App\">\r\n        <Router />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import ApolloClient from 'apollo-boost'\r\n\r\nconst config = new ApolloClient({\r\n  request: (operation) => {\r\n    const token = localStorage.getItem('sudo')\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token ? `Bearer:${token}` : ''\r\n      }\r\n    })\r\n  }\r\n})\r\nexport default config\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styling/index.css';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './utils/serviceWorker';\r\nimport config from './config'\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\n\r\n// const { loading, error, data } = useQuery(DATA);\r\n// console.log(data)\r\n\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={config}>\r\n    <App />\r\n  </ApolloProvider>\r\n  , document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}