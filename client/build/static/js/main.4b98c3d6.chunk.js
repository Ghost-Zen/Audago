(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,a){},305:function(e,t,a){e.exports=a(497)},310:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(83),s=a.n(l),c=(a(310),a(43)),o=a.n(c),i=a(61),u=a(18),m=a(19),d=a(20),h=a(21),p=a(22),f=(a(153),a(264)),g=a(71),v=a(74),E=a(39),y=a(518),b=a(521),k=a(523),w=a(513),C=a(524),S=a(189),O=a(37),j=a(32);function N(){var e=Object(O.a)(["\n    mutation($jwt:String){\n      verifytoken(jwt:$jwt){\n        response\n      }\n    }\n\n"]);return N=function(){return e},e}function I(){var e=Object(O.a)(["\n  query {\n    allPlaylists {\n      playlists {\n        name\n        creator\n        followers\n        song_count\n        songs {\n          track\n          artist\n          song\n          album\n          artwork\n        }\n        follower_list\n      }\n      response\n      status\n    }\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(O.a)(["  \n  query($username:String) {\n    playlistsForUser(username:$username) {\n      playlists {\n        name\n        creator\n        followers\n        song_count\n        songs {\n          track\n          artist\n          song\n          album\n          artwork\n        }\n        follower_list\n      }\n      response\n      status\n    }\n  }\n"]);return P=function(){return e},e}function x(){var e=Object(O.a)(["  \n    mutation($username:String, $playlistName: String){\n      unfollowPlaylist(username:$username, playlistName:$playlistName){\n        response,\n        status\n      }\n    }\n"]);return x=function(){return e},e}function $(){var e=Object(O.a)(["  \n    mutation($username:String, $playlistName: String){\n      followPlaylist(username:$username, playlistName:$playlistName){\n        response,\n        status\n      }\n    }\n"]);return $=function(){return e},e}function T(){var e=Object(O.a)(["  \n    query($username:String,$trackInfo:TrackInfo){\n      deleteTrack(username:$username,trackInfo:$trackInfo){\n        response,\n        status\n      }\n    }\n"]);return T=function(){return e},e}function A(){var e=Object(O.a)(["  \n    mutation($username:String, $track:PlaylistTrack){\n      newTrack(username:$username, track:$track){\n        response,\n        status\n      }\n    }\n"]);return A=function(){return e},e}function U(){var e=Object(O.a)(["  \n    mutation($name:String, $creator:String){\n      newPlaylist(name:$name, creator:$creator){\n        response,\n        status\n      }\n    }\n"]);return U=function(){return e},e}function D(){var e=Object(O.a)(["  \n    mutation($username:String, $currentPass:String, $newPass: String, $testPass:String){\n      updatePassword(username:$username, currentPass:$currentPass, newPass:$newPass, testPass:$testPass){\n        response,\n        status\n      }\n    }\n"]);return D=function(){return e},e}function L(){var e=Object(O.a)(["  \n    mutation($username:String, $updateData:UpdateData){\n      updateUser(username:$username, updateData: $updateData){\n        response,\n        status\n      }\n    }\n"]);return L=function(){return e},e}function _(){var e=Object(O.a)(["\n    mutation($username:String){\n      deleteUser (username:$username){\n        response,\n        status\n      }\n    }\n"]);return _=function(){return e},e}function q(){var e=Object(O.a)(["\nquery($username:String){\n  userData(username:$username){\n    response,\n    user {\n      firstName\n      lastName\n      email\n      image\n      timeStamp{\n        created\n        lastSeen\n      }\n    },\n    status\n  }\n}\n"]);return q=function(){return e},e}function R(){var e=Object(O.a)(["\n    mutation($username:String, $password:String) {\n      loginCheck (username:$username, password:$password){\n        response,\n        username,\n        status\n      }\n    }\n"]);return R=function(){return e},e}function z(){var e=Object(O.a)(["\n  query($search:String) {\n  onChangeSearch(search:$search){\n\n      track\n      artist\n      song\n      album\n      artwork\n  }\n}\n"]);return z=function(){return e},e}function M(){var e=Object(O.a)(["\n  mutation($search:String) {\n   searchSong (search:$search){\n    track\n    artist\n    song\n    album\n    artwork\n   }\n  }\n"]);return M=function(){return e},e}function H(){var e=Object(O.a)(["\n  mutation($account:Account) {\n   createAccount (account:$account){\n        response,\n        status\n}\n    }\n"]);return H=function(){return e},e}var F=Object(j.b)(H()),B=(Object(j.b)(M()),Object(j.b)(z())),K=Object(j.b)(R()),G=Object(j.b)(q()),W=(Object(j.b)(_()),Object(j.b)(L())),J=Object(j.b)(D()),Q=Object(j.b)(U()),V=Object(j.b)(A()),X=Object(j.b)(T()),Y=Object(j.b)($()),Z=Object(j.b)(x()),ee=Object(j.b)(P()),te=Object(j.b)(I()),ae=(Object(j.b)(N()),a(185)),ne=a(269),re=a.n(ne),le={isAuthenticated:!1,isUsername:"",token:"",check:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t={token:""}).token=localStorage.getItem("sudo"),""===t){e.next=5;break}return e.next=5,re.a.post("/verify",t).then((function(e){a.isAuthenticated=e.data.response,a.isUsername=e.data.client_id,a.token=t.token}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),userLogin:function(e,t){this.isAuthenticated=e,e&&(this.isUsername=t)},getToken:function(){return this.token},getAuth:function(){return this.isAuthenticated},getUserName:function(){return this.isUsername},signOutUser:function(){localStorage.removeItem("sudo"),window.location.reload()}},se=a(520),ce=a(296),oe=a(270),ie=a.n(oe),ue=a(519),me={isLoading:!1,results:[],value:"",preventLoop:1,redirect:!1,selectedSongData:""},de=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state=me,a.handleResultSelect=function(e,t){var n=t.result,r=a.state,l=r.songData,s=r.allSongs;if("@"===n.key){var c={searchSong:s};a.setState({value:n.title,redirect:!0,selectedSongData:c})}else{var o={searchSong:[l[n.key]]};a.setState({value:n.title,redirect:!0,selectedSongData:o})}},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!1,value:n,preventLoop:1,results:[]}),console.log(a.props),a.props.switchtab("home")},a.handleResData=function(e){if(e.onChangeSearch.length>0){for(var t=[],n=[],r=0;r<4;r++){var l=e.onChangeSearch[r],s=void 0;s=r<1?{key:"@",title:l.artist,description:"Search All",image:""}:{key:r,title:l.artist,description:l.track,image:l.artwork},n.push(l),t.push(s)}a.setState({preventLoop:0,results:t,songData:n,allSongs:e.onChangeSearch})}},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.results,l=t.preventLoop,s=t.redirect,c=t.selectedSongData,o=a;return s?(this.setState({redirect:!1}),r.a.createElement(v.a,{to:{pathname:"/webplayer",state:{data:c}}})):r.a.createElement(ae.b,{query:B,variables:{search:o}},(function(t){var s=t.loading,c=(t.error,t.data);return s||1!==l||e.handleResData(c),r.a.createElement(b.a,null,r.a.createElement(b.a.Column,{width:8},r.a.createElement(ue.a,Object.assign({loading:s,onResultSelect:e.handleResultSelect,onSearchChange:ie.a.debounce(e.handleSearchChange,500,{leading:!0}),results:n,value:a},e.props))))}))}}]),t}(r.a.Component),he=a(516),pe=r.a.createElement("span",null,r.a.createElement(ce.a,{avatar:!0,src:"https://randomuser.me/api/portraits/lego/1.jpg"})," ",le.getUserName()),fe=[{key:"profile",text:"Profile",icon:"user",href:"/#profile"},{key:"sign-out",text:"Sign Out",icon:"sign out",onClick:function(){return le.signOutUser()}}],ge=function(){return r.a.createElement(he.a,{trigger:pe,options:fe,pointing:"top right",icon:null})},ve=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={activeItem:"home"},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a.userStatus=function(){var e=a.state.activeItem;return!0===le.getAuth()?r.a.createElement(se.a.Item,null,r.a.createElement(ge,null)):r.a.createElement(se.a.Item,{name:"not logged in",active:"login"===e,onClick:a.handleItemClick,href:"/#login"})},a.logo=function(){return r.a.createElement(ce.a,{src:"/audago.png",size:"small"})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.activeItem;return r.a.createElement(se.a,{inverted:!0,secondary:!0,className:"navbar"},r.a.createElement(se.a.Header,{style:{margin:10,color:"teal"},content:this.logo()}),r.a.createElement(se.a.Item,{name:"home",active:"home"===e,href:"#",onClick:this.handleItemClick}),r.a.createElement(se.a.Item,{content:r.a.createElement("s",null,"Explore"),active:"explore"===e,onClick:this.handleItemClick}),r.a.createElement(se.a.Item,{content:r.a.createElement("s",null,"About"),active:"about"===e,onClick:this.handleItemClick}),r.a.createElement(se.a.Menu,{position:"right"},r.a.createElement(se.a.Item,null,r.a.createElement(de,null)),this.userStatus()))}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",status:le.getAuth(),message:""},a.setClientToken=function(e){localStorage.setItem("sudo",e)},a.renderError=function(){if(!a.state.status&&a.state.message)return r.a.createElement(y.a,{negative:!0},r.a.createElement(y.a.Header,null,a.state.message))},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,l=t.status;return l?(le.userLogin(l),r.a.createElement(v.a,{to:"/"})):r.a.createElement("div",{className:"bg"},r.a.createElement(ve,null),r.a.createElement(b.a,{textAlign:"center",style:{height:"80vh"},verticalAlign:"middle"},r.a.createElement(b.a.Column,{style:{maxWidth:450}},r.a.createElement(k.a,{as:"h2",inverted:!0,textAlign:"center"},"Log-in to your account"),r.a.createElement(w.a,{size:"large"},r.a.createElement(C.a,{stacked:!0},r.a.createElement(w.a.Input,{fluid:!0,icon:"user",name:"username",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleChange}),r.a.createElement(w.a.Input,{fluid:!0,icon:"lock",name:"password",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),this.renderError(),r.a.createElement(ae.a,{mutation:K,variables:{username:a,password:n},update:function(t,a){var n=a.data;e.setState({status:n.loginCheck.status,message:n.loginCheck.response}),e.setClientToken(n.loginCheck.response)}},(function(e){return r.a.createElement(S.a,{type:"submit",color:"teal",fluid:!0,size:"large",onClick:e},"Login")})))),r.a.createElement(y.a,null,"New to us? ",r.a.createElement("a",{href:"#signup"},"Sign Up")))))}}]),t}(r.a.Component),ye=a(514),be=a(515),ke=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={firstName:"",lastName:"",username:"",email:"",password:"",confirm:"",image:"",active:!0,gql_res:{}},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.renderError=function(){var e=a.state.gql_res;if(!e.status&&e.response)return r.a.createElement(y.a,{negative:!0},r.a.createElement(y.a.Header,null,e.response))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a={firstName:t.firstName,lastName:t.lastName,username:t.username,email:t.email,password:t.password,image:t.image,active:t.active};return this.state.gql_res.status?r.a.createElement(v.a,{to:"/"}):r.a.createElement("div",{className:"bg",style:{height:"100vh"}},r.a.createElement(ve,null),r.a.createElement(b.a,{style:{margin:"50px"},textAlign:"center",verticalAlign:"middle"},r.a.createElement(b.a.Column,{style:{maxWidth:450}},r.a.createElement(k.a,{as:"h2",inverted:!0,textAlign:"center"},"Create an account"),r.a.createElement(w.a,{size:"large"},r.a.createElement(C.a,{stacked:!0},r.a.createElement(w.a.Input,{name:"firstName",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Firstname",onChange:this.handleChange}),r.a.createElement(w.a.Input,{name:"lastName",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Lastname",onChange:this.handleChange}),r.a.createElement(w.a.Input,{name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username",onChange:this.handleChange}),r.a.createElement(w.a.Input,{name:"email",fluid:!0,icon:"mail",iconPosition:"left",placeholder:"E-mail address",onChange:this.handleChange}),r.a.createElement(ye.a,{trigger:r.a.createElement(w.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:this.handleChange}),wide:!0},r.a.createElement(k.a,{as:"h2"},"A strong password requires:"),r.a.createElement(be.a,{bulleted:!0},r.a.createElement(be.a.Item,null,"More than 8 Characters"),r.a.createElement(be.a.Item,null,"Atleast 1 Uppercase letter"),r.a.createElement(be.a.Item,null,"Atleast 1 Lowercase letter"),r.a.createElement(be.a.Item,null,"Atleast 1 Special character (!@#$%^&*)"),r.a.createElement(be.a.Item,null,"Atleast 1 Number"))),r.a.createElement(w.a.Input,{name:"confirm",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Confirm Password",type:"password",onChange:this.handleChange}),r.a.createElement(ae.a,{mutation:F,variables:{account:a},update:function(t,a){var n=a.data;console.log(n),e.setState({gql_res:n.createAccount})}},(function(e){return r.a.createElement(S.a,{type:"submit",color:"teal",fluid:!0,size:"large",onClick:e},"Signup")})),this.renderError())))))}}]),t}(r.a.Component),we=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(v.a,{to:"/webplayer"}):r.a.createElement("div",{className:"bg"},r.a.createElement(ve,null),r.a.createElement(k.a,{as:"h1",icon:!0,textAlign:"center",inverted:!0,style:{fontSize:40,marginTop:"4em"}},r.a.createElement(k.a.Content,null,"Lose yourself in 50 million songs."),r.a.createElement(S.a,{onClick:function(){return e.setState({redirect:!0})}},"Start Listening")))}}]),t}(r.a.Component),Ce=a(517),Se=a(509),Oe=a(522),je=a(148),Ne=a(64),Ie=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).closeModal=function(){a.setState({open:!1}),a.props.reset()},a.openModal=function(){a.setState({open:!0})},a.setPlaylist=function(e){var t=e.target.name,n=a.props.song,r={track:n.track,artist:n.artist,album:n.album,song:n.song,artwork:n.artwork,playlist_name:t};a.setState({playlist:t,song_proto:r})},a.getPlaylist=function(e){var t=[],n=!0,l=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t.push(r.a.createElement(S.a,{name:i.name,onClick:a.setPlaylist},i.name))}}catch(u){l=!0,s=u}finally{try{n||null==o.return||o.return()}finally{if(l)throw s}}return t},a.state={open:!1,playlist:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.open,n=t.song_proto,l=t.playlist;return r.a.createElement(je.a,{trigger:r.a.createElement(S.a,{onClick:this.openModal,icon:"add"}),basic:!0,size:"small",open:a},r.a.createElement(k.a,{icon:"music",content:"Select Playlist"}),r.a.createElement(je.a.Content,null,r.a.createElement(ae.b,{query:ee,variables:{username:le.getUserName()}},(function(t){var a=t.loading,n=(t.error,t.data);return a?"loading...":r.a.createElement("div",null,e.getPlaylist(n.playlistsForUser.playlists))}))),r.a.createElement(je.a.Actions,null,r.a.createElement("div",{style:{margin:"5px"}},r.a.createElement("b",null,"Selected playlist: ",l)),r.a.createElement(S.a,{basic:!0,color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(Ne.a,{name:"remove"})," Cancel"),r.a.createElement(ae.a,{mutation:V,variables:{username:le.getUserName(),track:n},update:function(t,a){var n=a.loading;a.data;n||e.closeModal()}},(function(e){return r.a.createElement(S.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ne.a,{name:"checkmark"})," Add")}))))}}]),t}(r.a.Component),Pe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleShow=function(){return a.setState({active:!0})},a.handleHide=function(){return a.setState({active:!1})},a.intialPlayer=function(e){a.setState({activeTrack:e}),a.props.playTrack(e)},a.resetCard=function(){a.setState({active:!1})},a.state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,n=t.index,l=t.song_meta,s=this.state.active,c=r.a.createElement("div",null,r.a.createElement(S.a,{primary:!0,icon:"play",onClick:function(){return e.intialPlayer(n)}}),r.a.createElement(Ie,{song:l,reset:this.resetCard}));return r.a.createElement(Oe.a.Dimmable,{as:ce.a,dimmed:s,dimmer:{active:s,content:c},onMouseEnter:this.handleShow,onMouseLeave:this.handleHide,size:"small",src:a})}}]),t}(n.Component),xe=a(295),$e=a.n(xe),Te=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.source;return r.a.createElement("div",{className:"audioPlayer"},r.a.createElement($e.a,{autoPlay:!0,src:e,onPlay:function(e){return console.log("onPlay")}}))}}]),t}(r.a.Component),Ae=a(29),Ue=a.n(Ae),De=(a(496),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).tabSwitch=function(e){a.props.setTab(e)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ue.a,{className:"sidebar",onSelect:function(t){if("signout"===t)return le.signOutUser();e.tabSwitch(t)}},r.a.createElement(Ue.a.Toggle,null),r.a.createElement(Ue.a.Nav,{defaultSelected:"home"},r.a.createElement(Ae.NavItem,{eventKey:"home"},r.a.createElement(Ae.NavIcon,null,r.a.createElement("i",{className:"fa fa-fw fa-home",style:{fontSize:"1.75em"}})),r.a.createElement(Ae.NavText,null,"Home")),r.a.createElement(Ae.NavItem,{eventKey:"playlist"},r.a.createElement(Ae.NavIcon,null,r.a.createElement("i",{className:"fas fa-list",style:{fontSize:"1.75em"}})),r.a.createElement(Ae.NavText,null,"Playlist")),r.a.createElement(Ae.NavItem,{eventKey:"more"},r.a.createElement(Ae.NavIcon,null,r.a.createElement("i",{className:"fa fas fa-cogs",style:{fontSize:"1.75em"}})),r.a.createElement(Ae.NavText,null,"Settings"),r.a.createElement(Ae.NavItem,null,r.a.createElement(Ae.NavText,null,"Profile")),r.a.createElement(Ae.NavItem,{eventKey:"manage_playlist"},r.a.createElement(Ae.NavText,null,"Manage playlists"))),r.a.createElement(Ae.NavItem,{eventKey:"signout"},r.a.createElement(Ae.NavIcon,null,r.a.createElement("i",{className:"fas fa-sign-out-alt",style:{fontSize:"1.75em"}})),r.a.createElement(Ae.NavText,null,"Signout"))))}}]),t}(r.a.Component)),Le=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleShow=function(){return a.setState({active:!0})},a.handleHide=function(){return a.setState({active:!1})},a.intialPlayer=function(e){a.setState({activePlaylist:e});var t=[],n=!0,r=!1,l=void 0;try{for(var s,c=a.props.songs[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;t.push(o.song)}}catch(i){r=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}a.props.playTrack(t,0)},a.resetCard=function(){a.setState({active:!1})},a.renderFollowButton=function(){var e=a.state,t=e.username,n=e.playlist;return a.props.playlist_meta.follower_list.includes(le.getUserName())?r.a.createElement(ae.a,{mutation:Z,variables:{username:t,playlistName:n}},(function(e){return r.a.createElement(S.a,{icon:"heart",color:"red",onClick:e})})):r.a.createElement(ae.a,{mutation:Y,variables:{username:t,playlistName:n}},(function(e){return r.a.createElement(S.a,{icon:"heart outline",color:"red",onClick:e})}))},a.state={username:le.getUserName(),playlist:a.props.playlist_meta.name},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.image,n=t.index,l=this.state.active,s=r.a.createElement("div",null,r.a.createElement(S.a,{primary:!0,icon:"play",onClick:function(){return e.intialPlayer(n)}}),this.renderFollowButton());return r.a.createElement(Oe.a.Dimmable,{as:ce.a,dimmed:l,dimmer:{active:l,content:s},onMouseEnter:this.handleShow,onMouseLeave:this.handleHide,size:"small",src:a})}}]),t}(n.Component),_e=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).playTrack=function(e){var t,n=[],r=!0,l=!1,s=void 0;try{for(var c,o=a.props.data[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i.name===a.props.choice){var u=!0,m=!1,d=void 0;try{for(var h,p=i.songs[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var f=h.value;n.push(f.song)}}catch(g){m=!0,d=g}finally{try{u||null==p.return||p.return()}finally{if(m)throw d}}}}}catch(g){l=!0,s=g}finally{try{r||null==o.return||o.return()}finally{if(l)throw s}}t=n.indexOf(e),a.playSong(n,t)},a.deleteTrack=function(e){var t={track:e.target.id,artist:"",playlist_name:a.props.choice},n=!0,r=!1,l=void 0;try{for(var s,c=a.props.data[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;if(o.name===a.props.choice){var i=!0,u=!1,m=void 0;try{for(var d,h=o.songs[Symbol.iterator]();!(i=(d=h.next()).done);i=!0){var p=d.value;p.track===t.track&&(t.artist=p.artist)}}catch(f){u=!0,m=f}finally{try{i||null==h.return||h.return()}finally{if(u)throw m}}}}}catch(f){r=!0,l=f}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}a.setState({delete:!0,trackInfo:t})},a.renderDelete=function(){if(a.state.delete)return r.a.createElement(ae.b,{query:X,variables:{username:a.state.username,trackInfo:a.state.trackInfo}},(function(e){var t=e.loading,n=e.error,l=e.data;return t?"Loading...":n?"Error! ".concat(n.message):(console.log(l),r.a.createElement("div",null,a.buildList()))}))},a.renderDeleteState=function(){a.state.delete&&a.setState({delete:!1})},a.renderRemove=function(e,t){if(a.state.username===t&&!a.props.from)return r.a.createElement(be.a.Content,{floated:"right"},a.renderDelete(),r.a.createElement(ye.a,{basic:!0,content:"Remove from playlist",trigger:r.a.createElement(Ne.a,{inverted:!0,id:e.track,ref:e.artist,onClick:a.deleteTrack,link:!0,name:"remove"})}),a.renderDeleteState())},a.buildList=function(){var e=a.props.data,t=[],n=0,l=!0,s=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var u=o.value;if(u.name===a.props.choice){var m=u.songs,d=!0,h=!1,p=void 0;try{for(var f,g=function(){var e=f.value;t.push(r.a.createElement(be.a.Item,{key:n},r.a.createElement(S.a,{inverted:!0,floated:"left",size:"mini",onClick:function(){return a.playTrack(e.song)},style:{marginTop:10},icon:!0},r.a.createElement(Ne.a,{name:"play"})),r.a.createElement(be.a.Header,null,e.track),r.a.createElement(be.a.Description,null,e.artist," | ",e.album),a.renderRemove(e,u.creator))),n++},v=m[Symbol.iterator]();!(d=(f=v.next()).done);d=!0)g()}catch(E){h=!0,p=E}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}}}}catch(E){s=!0,c=E}finally{try{l||null==i.return||i.return()}finally{if(s)throw c}}return t},a.state={username:le.getUserName(),delete:!1,trackInfo:{},open:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"playSong",value:function(){var e=Object(i.a)(o.a.mark((function e(t,a){var n,r,l,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.from?this.props.playTrack(t,a):(n=a,(r=document.querySelector("#player")).src=t[n],n++,void 0!==(l=r.play())&&l.then((function(e){r.addEventListener("ended",Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===t.length){e.next=5;break}return e.next=3,s.playSong(t,n);case 3:e.next=7;break;case 5:return e.next=7,s.playSong(t,0);case 7:case"end":return e.stop()}}),e)}))))})).catch((function(e){})));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.choice;return r.a.createElement("div",null,r.a.createElement(S.a,{onClick:this.props.reset,floated:"left",size:"small",icon:"angle left"}),r.a.createElement(k.a,{centered:"true",as:"h2",inverted:!0},e),r.a.createElement(be.a,{celled:!0,relaxed:!0,inverted:!0},this.buildList()))}}]),t}(n.Component),qe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).playTrack=function(e,t){var n=t,r=document.querySelector("#player");r.src=e[n],n++;var l=r.play();void 0!==l&&l.then((function(t){r.addEventListener("ended",Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n===e.length){t.next=5;break}return t.next=3,a.playTrack(e,n);case 3:t.next=7;break;case 5:return t.next=7,a.playTrack(e,0);case 7:case"end":return t.stop()}}),t)}))))})).catch((function(e){}))},a.viewSongs=function(e,t){a.setState({viewSongs:!0,data:e,choice:t})},a.renderSongs=function(){return r.a.createElement(_e,{data:a.state.data,choice:a.state.choice,from:"webplayer",playTrack:a.playTrack,reset:a.reset})},a.renderPlaylists=function(){return r.a.createElement(ae.b,{query:te,pollInterval:500},(function(e){var t=e.loading,n=e.error,l=e.data;if(t)return"Loading...";if(n)return"Error! ".concat(n.message);for(var s=l.allPlaylists.playlists,c=[],o=function(e){var t=s[e];t.songs.length>0&&c.push(r.a.createElement("div",{key:e,className:"cardDiv"},r.a.createElement(Le,{image:t.songs[0].artwork,songs:t.songs,playTrack:a.playTrack,playlist_meta:t,index:e}),r.a.createElement("br",null),r.a.createElement("strong",{className:"playlistSelect",onClick:function(){return a.viewSongs(s,t.name)}},t.name)))},i=0;i<s.length;i++)o(i);return c}))},a.reset=function(){a.setState({viewSongs:!1,choice:""})},a.renderData=function(){return a.state.viewSongs?r.a.createElement("div",null,a.renderSongs()):r.a.createElement(Ce.a.Group,{centered:!0,itemsPerRow:6},a.renderPlaylists())},a.state={viewSongs:!1,data:[],choice:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderData())}}]),t}(r.a.Component),Re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).playTrack=function(e){var t=a.props.location.state.data.searchSong;a.setState({track:t[e].song})},a.renderTab=function(e){return void 0===e&&(e="home"),"home"===e?a.renderData():"playlist"===e?r.a.createElement(qe,null):"manage_playlist"===e?r.a.createElement(v.a,{to:"/profile"}):void 0},a.setTab=function(e){a.setState({current_Tab:e})},a.renderData=function(){if(void 0!==a.props.location.state){for(var e=a.props.location.state.data.searchSong,t=[],n=0;n<e.length;n++)t.push(r.a.createElement("div",{key:n,className:"cardDiv"},r.a.createElement(Pe,{image:e[n].artwork,artist:e[n].artist,track:e[n].track,song:e[n].song,playTrack:a.playTrack,song_meta:e[n],index:n}),r.a.createElement("br",null),r.a.createElement("strong",null,e[n].track)));return r.a.createElement(Ce.a.Group,{centered:!0,itemsPerRow:6},t)}},a.state={current_Tab:"",track:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.current_Tab,a=e.track;return r.a.createElement("div",{className:"webplayer"},r.a.createElement(De,{setTab:this.setTab}),r.a.createElement("div",{className:"cardContainer"},r.a.createElement(b.a,null,r.a.createElement(b.a.Row,{centered:!0},r.a.createElement(de,{switchtab:this.setTab}))),r.a.createElement(Se.a,{style:{margin:15}},this.renderTab(t))),r.a.createElement(Te,{source:a}))}}]),t}(r.a.Component),ze=a(112),Me=a(506),He=a(510),Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.renderUserSettings=function(){return r.a.createElement(ae.b,{query:G,variables:{username:le.getUserName()},pollInterval:500},(function(e){var t=e.loading,n=e.error,l=e.data;if(t)return"Loading...";if(n)return"Error! ".concat(n.message);var s=l.userData.user;return r.a.createElement(b.a,null,r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,r.a.createElement(k.a,{inverted:!0,floated:"left",as:"h4"},"Username: ",a.state.username))),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,{width:7},r.a.createElement(Me.a,{style:{width:200,float:"left"},label:{tag:!1,color:"teal",content:"First name"},placeholder:s.firstName,name:"firstName",onChange:a.handleChange})),r.a.createElement(b.a.Column,{width:9},r.a.createElement(Me.a,{style:{width:200,float:"left"},label:{tag:!1,color:"teal",content:"Last name"},placeholder:s.lastName,name:"lastName",onChange:a.handleChange}))),a.renderEmail(s))}))},a.renderMessage=function(){if(a.state.status&&a.state.response)return r.a.createElement(y.a,{positive:!0},r.a.createElement(y.a.Header,null,a.state.response))},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1,modalError:!1})},a.handleCheck=function(e){a.state.newPass===a.state.testPass&&e.status?a.setState({modalOpen:!1}):a.setState({modalError:!0,response:e.response})},a.renderEmail=function(e){return r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,{width:10},r.a.createElement(Me.a,{fluid:!0,label:{tag:!1,color:"teal",content:"Email"},placeholder:e.email,name:"email",onChange:a.handleChange})))},a.handleModalError=function(){if(a.state.modalError)return r.a.createElement(y.a,{style:{margin:0},negative:!0},r.a.createElement(y.a.Header,null,a.state.response))},a.state={username:le.getUserName(),firstName:"",lastName:"",email:"",response:"",status:!1,modalOpen:!1,currentPass:"",newPass:"",testPass:"",modalError:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.firstName,l=t.lastName,s=t.email,c=t.currentPass,o=t.newPass,i=t.testPass;return r.a.createElement("div",null,this.renderUserSettings(),r.a.createElement("br",null),this.renderMessage(),r.a.createElement(ae.a,{mutation:W,variables:{username:a,updateData:{firstName:n,lastName:l,email:s}},update:function(t,a){var n=a.data;e.setState({response:n.updateUser.response,status:n.updateUser.status})}},(function(e){return r.a.createElement(S.a,{type:"submit",color:"teal",onClick:e},"Update")})),r.a.createElement(je.a,{trigger:r.a.createElement(S.a,{onClick:this.handleOpen},"Change Password"),open:this.state.modalOpen,onClose:this.handleClose,size:"mini"},r.a.createElement(k.a,{icon:"lock",content:"Change password"}),r.a.createElement(je.a.Content,null,r.a.createElement(k.a,{as:"h4"}," Current Password",r.a.createElement(Me.a,{name:"currentPass",type:"password",onChange:this.handleChange}))),r.a.createElement(He.a,{style:{margin:0}}),r.a.createElement(je.a.Content,null,r.a.createElement(k.a,{as:"h4"}," New Password ",r.a.createElement("br",null),r.a.createElement(Me.a,{name:"newPass",type:"password",onChange:this.handleChange}),r.a.createElement(ye.a,{trigger:r.a.createElement(Ne.a,{size:"mini",style:{float:"right"},circular:!0,name:"info"}),wide:!0},r.a.createElement(k.a,{as:"h2"},"A strong password requires:"),r.a.createElement(be.a,{bulleted:!0},r.a.createElement(be.a.Item,null,"More than 8 Characters"),r.a.createElement(be.a.Item,null,"Atleast 1 Uppercase letter"),r.a.createElement(be.a.Item,null,"Atleast 1 Lowercase letter"),r.a.createElement(be.a.Item,null,"Atleast 1 Special character (!@#$%^&*)"),r.a.createElement(be.a.Item,null,"Atleast 1 Number")))),r.a.createElement(k.a,{as:"h4"}," Confirm Password",r.a.createElement(Me.a,{style:{marginTop:3},name:"testPass",type:"password",onChange:this.handleChange}))),this.handleModalError(),r.a.createElement(je.a.Actions,null,r.a.createElement(S.a,{color:"red",onClick:this.handleClose,inverted:!0},r.a.createElement(Ne.a,{name:"cancel"})," Cancel"),r.a.createElement(ae.a,{mutation:J,variables:{username:a,currentPass:c,newPass:o,testPass:i},update:function(t,a){var n=a.data.updatePassword;e.handleCheck(n)}},(function(e){return r.a.createElement(S.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ne.a,{name:"check"})," Update")})))))}}]),t}(n.Component),Be=a(511),Ke=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={username:le.getUserName(),showSongs:!1,playlistChoice:"",modalOpen:!1,editSettings:!1,modalError:!1,response:"",playlistName:"",open:!1},a.open=function(){return a.setState({open:!0})},a.close=function(){return a.setState({open:!1})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1,modalError:!1,playlistName:""})},a.handleModalError=function(){if(a.state.modalError&&a.state.response)return r.a.createElement(y.a,{style:{margin:0},negative:!0},r.a.createElement(y.a.Header,null,a.state.response))},a.handleCheck=function(e){e.newPlaylist.status?a.setState({modalOpen:!1,modalError:!1}):a.setState({modalError:!0,response:e.newPlaylist.response})},a.displaySongs=function(e){a.setState({showSongs:!0,playlistChoice:e})},a.reset=function(){a.setState({showSongs:!1,playlistChoice:""})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ae.b,{query:ee,variables:{username:le.getUserName()},pollInterval:500},(function(t){var a=t.loading,n=t.error,l=t.data;if(a)return"Loading...";if(n)return"Error! ".concat(n.message);var s=[],c=0;if(e.state.showSongs)return r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,null,r.a.createElement(ae.a,{mutation:Z,variables:{username:e.state.username,playlistName:e.state.playlistChoice},update:function(t,a){a.data;e.reset()}},(function(t){return r.a.createElement("div",null,r.a.createElement(S.a,{onClick:e.open,floated:"right",basic:!0,inverted:!0,color:"teal"},"Unfollow"),r.a.createElement(Be.a,{size:"mini",open:e.state.open,onCancel:e.close,onConfirm:t}))})),r.a.createElement(_e,{data:l.playlistsForUser.playlists,choice:e.state.playlistChoice,reset:e.reset}),r.a.createElement(Te,null)));if(l.playlistsForUser.playlists){var o=!0,i=!1,u=void 0;try{for(var m,d=function(){var t=m.value,a="followers: "+t.followers,n="songs: "+t.song_count;s.push(r.a.createElement(Ce.a,{color:"teal",header:t.name,meta:a,description:n,key:c,onClick:function(){e.displaySongs(t.name)}})),c++},h=l.playlistsForUser.playlists[Symbol.iterator]();!(o=(m=h.next()).done);o=!0)d()}catch(p){i=!0,u=p}finally{try{o||null==h.return||h.return()}finally{if(i)throw u}}}return r.a.createElement(Se.a,null,r.a.createElement(b.a.Row,{width:16},r.a.createElement(Ce.a.Group,{itemsPerRow:3},s,r.a.createElement(je.a,{trigger:r.a.createElement(Ce.a,{onClick:e.handleOpen,color:"teal",key:"create"},r.a.createElement(Ce.a.Content,null,r.a.createElement(S.a,{style:{width:50,height:50},circular:!0,icon:"add"}))),open:e.state.modalOpen,basic:!0,onClose:e.handleClose,size:"mini"},r.a.createElement(k.a,{icon:"music",content:"Give your playlist a name"}),r.a.createElement(je.a.Content,null,r.a.createElement(Me.a,{transparent:!0,inverted:!0,placeholder:"Playlist name..",name:"playlistName",type:"text",onChange:e.handleChange})),e.handleModalError(),r.a.createElement(je.a.Actions,null,r.a.createElement(S.a,{color:"red",onClick:e.handleClose,inverted:!0},r.a.createElement(Ne.a,{name:"cancel"})," Cancel"),r.a.createElement(ae.a,{mutation:Q,variables:{name:e.state.playlistName,creator:e.state.username},update:function(t,a){var n=a.data;e.handleCheck(n)}},(function(e){return r.a.createElement(S.a,{color:"green",onClick:e,inverted:!0},r.a.createElement(Ne.a,{name:"check"})," Create")})))))))}))}}]),t}(r.a.Component),Ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={activeItem:"Playlists"},a.handleItemClick=function(e,t){var n=t.name;a.setState({activeItem:n})},a.setTab=function(e){a.setState({activeItem:e})},a.renderBannerInfo=function(){return r.a.createElement(ae.b,{query:G,variables:{username:le.getUserName()}},(function(e){var t=e.loading,a=e.error,n=e.data;return t?"Loading...":a?"Error! ".concat(a.message):r.a.createElement(k.a,{as:"h1",style:{marginTop:"0.8em"},inverted:!0,floated:"left"},"Hello,  ",le.getUserName()," ",r.a.createElement("br",null),r.a.createElement(ze.a,{as:"a",color:"purple",image:!0},"Joined",r.a.createElement(ze.a.Detail,null,n.userData.user.timeStamp.created)))}))},a.renderItem=function(){return"Playlists"===a.state.activeItem?r.a.createElement(Ke,null):"Settings"===a.state.activeItem?r.a.createElement(Fe,null):void 0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"profile",style:{backgroundColor:"black"}},r.a.createElement(ve,null),r.a.createElement(Se.a,{style:{padding:10}},r.a.createElement(b.a,null,r.a.createElement(b.a.Row,{style:{paddingBottom:0}},r.a.createElement(b.a.Column,{width:16})),r.a.createElement(b.a.Row,{color:"teal",style:{marginTop:15,borderRadius:10}},r.a.createElement(b.a.Column,{width:2},r.a.createElement(ce.a,{style:{width:112,height:112},circular:!0,src:"https://react.semantic-ui.com/images/avatar/large/patrick.png"})),r.a.createElement(b.a.Column,{width:14},this.renderBannerInfo())),r.a.createElement(b.a.Row,null,r.a.createElement(b.a.Column,{width:16},r.a.createElement(se.a,{pointing:!0,secondary:!0,inverted:!0},r.a.createElement(se.a.Item,{name:"Playlists",active:"Playlists"===this.state.activeItem,onClick:this.handleItemClick}),r.a.createElement(se.a.Item,{name:"Settings",active:"Settings"===this.state.activeItem,onClick:this.handleItemClick})))),this.renderItem())))}}]),t}(r.a.Component),We=function(e){var t=e.component,a=Object(f.a)(e,["component"]);return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return le.getAuth()?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/login"}})}}))},Je=function(e){return r.a.createElement(g.a,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/login",component:Ee}),r.a.createElement(v.b,{exact:!0,path:"/signup",component:ke}),r.a.createElement(v.b,{exact:!0,path:"/",component:we}),r.a.createElement(We,{exact:!0,path:"/webplayer",component:Re}),r.a.createElement(We,{exact:!0,path:"/profile",component:Ge})))},Qe=a(512),Ve=function(){return r.a.createElement("div",null,r.a.createElement(Se.a,{style:{margin:50}},r.a.createElement(Oe.a,{active:!0,inverted:!0},r.a.createElement(Qe.a,{size:"large"},"Loading"))))},Xe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!1,loading:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,le.check();case 3:e.t1=e.sent,e.t2={auth:e.t1,loading:!1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?r.a.createElement(Ve,null):r.a.createElement("div",{className:"App"},r.a.createElement(Je,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ye={graphql:new j.a({uri:"/graphql"})},Ze=a(27);s.a.render(r.a.createElement(Ze.a,{client:Ye.graphql},r.a.createElement(Xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[305,1,2]]]);
//# sourceMappingURL=main.4b98c3d6.chunk.js.map